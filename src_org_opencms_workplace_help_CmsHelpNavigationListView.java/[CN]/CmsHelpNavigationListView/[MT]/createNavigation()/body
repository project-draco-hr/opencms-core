{
  StringBuffer buffer=new StringBuffer(2048);
  int endlevel=calculateEndLevel();
  String spaces=getSpaces((endlevel - m_depth) * 2);
  buffer.append("\n").append(spaces).append("<p>\n");
  buffer.append(spaces).append("  <ul>\n");
  List navElements=m_jsp.getNavigation().getSiteNavigation(m_navRootPath,endlevel);
  createNavigationInternal(buffer,navElements);
  buffer.append(spaces).append("  </ul>\n");
  buffer.append(spaces).append("</p>");
  return buffer.toString();
}
