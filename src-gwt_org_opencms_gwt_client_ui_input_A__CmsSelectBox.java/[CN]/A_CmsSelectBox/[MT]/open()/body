{
  if (!m_enabled) {
    return;
  }
  m_openClose.setDown(true);
  if (m_maxCellWidth == 0) {
    initMaxCellWidth();
  }
  int selectorWidth=m_maxCellWidth;
  int windowWidth=Window.getClientWidth();
  if (m_maxCellWidth > windowWidth) {
    selectorWidth=windowWidth - 10;
  }
  m_popup.setWidth(selectorWidth + "px");
  m_popup.show();
  int panelTop=m_panel.getElement().getAbsoluteTop();
  int openerHeight=CmsDomUtil.getCurrentStyleInt(m_opener.getElement(),CmsDomUtil.Style.height);
  int popupHeight=m_popup.getOffsetHeight();
  int dx=0;
  if (selectorWidth > (m_opener.getOffsetWidth() - 2)) {
    int spaceOnTheRight=(Window.getClientWidth() + Window.getScrollLeft()) - m_opener.getAbsoluteLeft() - selectorWidth- 2;
    dx=spaceOnTheRight < 0 ? spaceOnTheRight : 0;
  }
  if (((Window.getClientHeight() - (panelTop + openerHeight)) < popupHeight) && (panelTop > popupHeight)) {
    CmsDomUtil.positionElement(m_popup.getElement(),m_panel.getElement(),dx,-(popupHeight - 2));
    m_selectBoxState.setValue(I_CmsLayoutBundle.INSTANCE.generalCss().cornerBottom());
    m_selectorState.setValue(I_CmsLayoutBundle.INSTANCE.generalCss().cornerTop());
  }
 else {
    CmsDomUtil.positionElement(m_popup.getElement(),m_panel.getElement(),dx,openerHeight);
    m_selectBoxState.setValue(I_CmsLayoutBundle.INSTANCE.generalCss().cornerTop());
    m_selectorState.setValue(I_CmsLayoutBundle.INSTANCE.generalCss().cornerBottom());
  }
}
