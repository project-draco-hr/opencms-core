{
  Set<String> targets=new HashSet<String>();
  if (searchObj.getGalleries() != null) {
    targets.addAll(searchObj.getGalleries());
  }
  if (searchObj.getFolders() != null) {
    targets.addAll(searchObj.getFolders());
  }
  if (m_uploadButton == null) {
    m_uploadButton=createUploadButtonForTarget("",false);
    m_uploadButton.addStyleName(I_CmsLayoutBundle.INSTANCE.galleryDialogCss().resultTabUpload());
    m_tab.insert(m_uploadButton,0);
  }
  String uploadTarget=null;
  if (targets.size() == 1) {
    uploadTarget=targets.iterator().next();
    I_CmsUploadButtonHandler handler=m_uploadButton.getButtonHandler();
    if (handler instanceof CmsDialogUploadButtonHandler) {
      ((CmsDialogUploadButtonHandler)handler).setTargetFolder(uploadTarget);
    }
    m_uploadButton.enable();
    m_uploadButton.setTitle(Messages.get().key(Messages.GUI_GALLERY_UPLOAD_TITLE_1,uploadTarget));
  }
 else {
    m_uploadButton.disable(Messages.get().key(Messages.GUI_GALLERY_UPLOAD_TARGET_UNSPECIFIC_0));
  }
}
