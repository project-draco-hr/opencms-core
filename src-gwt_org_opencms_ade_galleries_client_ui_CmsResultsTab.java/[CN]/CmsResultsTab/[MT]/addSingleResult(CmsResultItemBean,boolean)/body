{
  m_types.add(resultItem.getType());
  boolean hasPreview=m_tabHandler.hasPreview(resultItem.getType());
  CmsDNDHandler dndHandler=m_dndHandler;
  if (m_resultDndFilter != null) {
    if (!m_resultDndFilter.apply(resultItem)) {
      dndHandler=null;
    }
  }
  CmsResultListItem listItem=new CmsResultListItem(resultItem,hasPreview,dndHandler);
  if (resultItem.isPreset()) {
    m_preset=listItem;
  }
  if (hasPreview) {
    listItem.addPreviewClickHandler(new PreviewHandler(resultItem.getPath(),resultItem.getType()));
  }
  CmsUUID structureId=new CmsUUID(resultItem.getClientId());
  listItem.getListItemWidget().addButton(new CmsContextMenuButton(structureId,m_contextMenuHandler));
  if (m_tabHandler.hasSelectResource()) {
    SelectHandler selectHandler=new SelectHandler(resultItem.getPath(),structureId,resultItem.getTitle(),resultItem.getType());
    listItem.addSelectClickHandler(selectHandler);
    listItem.addDoubleClickHandler(selectHandler);
  }
  if (front) {
    addWidgetToFrontOfList(listItem);
  }
 else {
    addWidgetToList(listItem);
  }
}
