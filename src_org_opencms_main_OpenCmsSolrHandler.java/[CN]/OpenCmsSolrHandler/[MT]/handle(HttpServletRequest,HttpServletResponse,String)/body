{
  m_handlerName=HANDLER_NAMES.valueOf(name);
  if (m_handlerName != null) {
    try {
      initializeRequest(req,res);
      if ((m_params.get(CommonParams.Q) != null) || (m_params.get(CommonParams.FQ) != null)) {
switch (m_handlerName) {
case SolrSelect:
          m_index.writeResponse(res,m_index.search(m_cms,m_query,true));
        break;
case SolrSpell:
      res.getWriter().println(m_index.spellCheck(m_cms,m_query.getQuery(),m_params));
    break;
default :
  break;
}
}
}
 catch (Exception e) {
res.setStatus(HttpServletResponse.SC_EXPECTATION_FAILED);
String message=Messages.get().getBundle().key(Messages.GUI_SOLR_UNEXPECTED_ERROR_0);
String formattedException=CmsException.getStackTraceAsString(e).replace("\n","<br/>");
res.getWriter().println(Messages.get().getBundle().key(Messages.GUI_SOLR_ERROR_HTML_1,message + formattedException));
}
}
}
