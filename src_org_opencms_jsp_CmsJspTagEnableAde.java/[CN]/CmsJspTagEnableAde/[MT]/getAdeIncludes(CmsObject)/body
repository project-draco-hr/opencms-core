{
  CmsMemoryObjectCache cache=CmsMemoryObjectCache.getInstance();
  String headerInclude=(String)cache.getCachedObject(CmsJspTagEnableAde.class,INCLUDE_FILE_JQUERY);
  if (headerInclude == null) {
    try {
      CmsFile file=cms.readFile(INCLUDE_FILE_JQUERY);
      CmsProperty p=cms.readPropertyObject(file,CmsPropertyDefinition.PROPERTY_CONTENT_ENCODING,true);
      String e=p.getValue();
      if (e == null) {
        e=OpenCms.getSystemInfo().getDefaultEncoding();
      }
      headerInclude=CmsEncoder.createString(file.getContents(),e);
      CmsLinkManager linkMan=OpenCms.getLinkManager();
      CmsMacroResolver resolver=CmsMacroResolver.newInstance();
      resolver.setKeepEmptyMacros(true);
      String backlinkUri=linkMan.substituteLink(cms,"/system/workplace/editors/ade/backlink.jsp");
      resolver.addMacro("backlinkUri",backlinkUri);
      String editorUri=linkMan.substituteLink(cms,"/system/workplace/editors/editor.jsp");
      resolver.addMacro("editorUri",editorUri);
      String serverGetUri=linkMan.substituteLink(cms,"/system/workplace/editors/ade/get.jsp");
      resolver.addMacro("serverGetUri",serverGetUri);
      String serverSetUri=linkMan.substituteLink(cms,"/system/workplace/editors/ade/set.jsp");
      resolver.addMacro("serverSetUri",serverSetUri);
      String skinUri=CmsWorkplace.getSkinUri();
      resolver.addMacro("skinUri",skinUri);
      headerInclude=resolver.resolveMacros(headerInclude);
      cache.putCachedObject(CmsJspTagEnableAde.class,INCLUDE_FILE_JQUERY,headerInclude);
    }
 catch (    CmsException e) {
      headerInclude="";
      LOG.error(Messages.get().getBundle().key(Messages.LOG_DIRECT_EDIT_NO_HEADER_1,INCLUDE_FILE_JQUERY),e);
    }
  }
  CmsMacroResolver resolver=CmsMacroResolver.newInstance();
  resolver.addMacro("currentUri",cms.getRequestContext().getUri());
  headerInclude=resolver.resolveMacros(headerInclude);
  return headerInclude;
}
