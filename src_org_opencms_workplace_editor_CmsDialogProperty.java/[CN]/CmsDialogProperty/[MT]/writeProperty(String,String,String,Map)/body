{
  boolean emptyParam=true;
  if (propValue != null) {
    if (!"".equals(propValue.trim())) {
      emptyParam=false;
    }
  }
  if (emptyParam) {
    if (activeProperties.containsKey(propName)) {
      checkLock(getParamResource());
      getCms().deleteProperty(getParamResource(),propName);
    }
  }
 else {
    if (!propValue.equals(oldValue)) {
      try {
        checkLock(getParamResource());
        getCms().writeProperty(getParamResource(),propName,propValue);
      }
 catch (      CmsException e) {
        if (e.getType() == CmsException.C_NOT_FOUND) {
          defineProperty(propName);
          getCms().writeProperty(getParamResource(),propName,propValue);
        }
 else {
          throw e;
        }
      }
    }
  }
}
