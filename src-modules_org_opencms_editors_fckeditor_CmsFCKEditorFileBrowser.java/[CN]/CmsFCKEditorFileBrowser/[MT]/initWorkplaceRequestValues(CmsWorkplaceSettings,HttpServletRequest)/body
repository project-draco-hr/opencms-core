{
  fillParamValues(request);
  setParamDialogtype(DIALOG_TYPE);
  if (COMMAND_FILEUPLOAD.equals(getParamCommand())) {
    setAction(ACTION_FILEUPLOAD);
  }
 else   if (COMMAND_CREATEFOLDER.equals(getParamCommand())) {
    setAction(ACTION_CREATEFOLDER);
  }
 else   if (COMMAND_GETFOLDERS.equals(getParamCommand())) {
    setAction(ACTION_GETFOLDERS);
  }
 else {
    setAction(ACTION_GETFOLDERS_FILES);
  }
  CmsFlexController controller=CmsFlexController.getController(getJsp().getRequest());
  HttpServletResponse res=controller.getTopResponse();
  CmsRequestUtil.setNoCacheHeaders(res);
  String contentType=CONTENTTYPE_XML;
  if (getAction() == ACTION_FILEUPLOAD) {
    contentType=CONTENTTYPE_HTML;
  }
  res.setContentType(contentType);
}
