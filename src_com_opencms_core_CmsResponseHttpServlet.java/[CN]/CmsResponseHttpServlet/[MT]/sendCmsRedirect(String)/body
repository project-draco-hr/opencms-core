{
  String hostName;
  if ((m_clusterurl == null) || (m_clusterurl.length() < 1)) {
    hostName=m_req.getScheme() + "://" + m_req.getHeader("HOST");
  }
 else {
    hostName=m_req.getScheme() + "://" + m_clusterurl;
  }
  m_redir=true;
  String servlet=m_req.getServletPath();
  String contextPath="";
  try {
    contextPath=m_req.getContextPath();
  }
 catch (  NoSuchMethodError err) {
  }
  try {
    m_res.sendRedirect(hostName + contextPath + servlet+ location);
  }
 catch (  IOException exc) {
    if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_INFO,"[CmsResponseHttpServlet] Couldn't redirect to: " + hostName + contextPath+ servlet+ location);
    }
  }
}
