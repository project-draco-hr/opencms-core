{
  if (DEBUG)   System.err.println("CmsResponse.sendCmsRedirect(" + location + ")");
  String hostName;
  if ((m_clusterurl == null) || (m_clusterurl.length() < 1)) {
    hostName=m_req.getScheme() + "://" + m_req.getServerName()+ ":"+ m_req.getServerPort();
  }
 else {
    hostName=m_req.getScheme() + "://" + m_clusterurl;
  }
  m_redir=true;
  String servlet=m_req.getServletPath();
  String contextPath="";
  try {
    contextPath=m_req.getContextPath();
  }
 catch (  NoSuchMethodError err) {
  }
  try {
    m_res.sendRedirect(hostName + contextPath + servlet+ location);
  }
 catch (  IOException exc) {
    if (I_CmsLogChannels.C_LOGGING && A_OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INFO)) {
      A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INFO,"[CmsResponseHttpServlet] Couldn't redirect to: " + hostName + contextPath+ servlet+ location);
    }
  }
}
