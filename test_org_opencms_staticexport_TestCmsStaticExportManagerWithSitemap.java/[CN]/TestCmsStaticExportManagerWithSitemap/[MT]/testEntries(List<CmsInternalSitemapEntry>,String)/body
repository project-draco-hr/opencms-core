{
  CmsObject cms=OpenCms.initCmsObject(OpenCms.getDefaultUsers().getUserExport());
  CmsStaticExportManager manager=OpenCms.getStaticExportManager();
  for (  CmsInternalSitemapEntry entry : entries) {
    CmsStaticExportData data;
    String rfsName=manager.getRfsName(cms,entry.getRootPath(),parameters);
    String rfsPrefix=OpenCms.getStaticExportManager().getRfsPrefixForRfsName(rfsName);
    rfsName=rfsName.substring(rfsPrefix.length());
    data=manager.getRfsExportData(cms,rfsName);
    data.setRfsName(rfsName);
    if (TMP_FILE.exists()) {
      FileWriter fw=new FileWriter(TMP_FILE,true);
      PrintWriter out=new PrintWriter(fw);
      out.println("<exportdata>");
      out.println("  <vfsName>" + data.getVfsName() + "</vfsName>");
      out.println("  <rfsName>" + data.getRfsName() + "</rfsName>");
      out.println("  <resName>" + data.getResource().getRootPath() + "</resName>");
      out.println("  <parameters>" + data.getParameters() + "</parameters>");
      out.println("</exportdata>");
      out.close();
    }
    if (entry.isSitemap()) {
      testEntries(entry.getSubEntries(),parameters);
    }
  }
}
