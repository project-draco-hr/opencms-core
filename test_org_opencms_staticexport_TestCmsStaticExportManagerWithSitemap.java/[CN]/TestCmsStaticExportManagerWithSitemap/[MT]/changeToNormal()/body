{
  boolean success=true;
  CmsObject adminCms=getCmsObject();
  adminCms.getRequestContext().setSiteRoot("/");
  if (adminCms.getLock(adminCms.readResource("/sites/default/")).isLockableBy(adminCms.getRequestContext().currentUser())) {
    adminCms.lockResource("/sites/default/");
    CmsProperty sitemapProp=new CmsProperty("ade.sitemap","/_config/sitemap","/_config/sitemap",true);
    adminCms.writePropertyObject("/sites/default/",sitemapProp);
  }
 else {
    success=false;
  }
  if (adminCms.getLock(adminCms.readResource("/system/modules/org.opencms.ade.sitemap/schemas/")).isLockableBy(adminCms.getRequestContext().currentUser())) {
    adminCms.lockResource("/system/modules/org.opencms.ade.sitemap/schemas/");
    CmsProperty exportNameProp=new CmsProperty("exportname","","",true);
    adminCms.writePropertyObject("/system/modules/org.opencms.ade.sitemap/schemas/",exportNameProp);
  }
 else {
    success=false;
  }
  OpenCms.getPublishManager().publishProject(adminCms);
  OpenCms.getPublishManager().waitWhileRunning();
  OpenCms.getMemoryMonitor().clearCache();
  return success;
}
