{
  m_configFile=configFile;
  LogFactory.releaseAll();
  try {
    System.setProperty("opencms.log",configuration.getString("log.file"));
    String log4jDebug=configuration.getString("log.log4j.debug");
    if (log4jDebug != null) {
      System.setProperty("log4j.debug",log4jDebug);
    }
    String log4jPath=configuration.getString("log.log4j.configuration");
    if (log4jPath != null) {
      log4jPath=log4jPath.trim();
      if ("this".equalsIgnoreCase(log4jPath)) {
        log4jPath=m_configFile;
      }
      System.setProperty("log4j.configuration","file:" + log4jPath);
      PropertyConfigurator.configure(log4jPath);
    }
  }
 catch (  SecurityException e) {
  }
}
