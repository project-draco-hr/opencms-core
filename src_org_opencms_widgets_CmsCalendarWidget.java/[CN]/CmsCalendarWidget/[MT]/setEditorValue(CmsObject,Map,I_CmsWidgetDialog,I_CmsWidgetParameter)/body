{
  String[] values=(String[])formParameters.get(param.getId());
  if ((values != null) && (values.length > 0)) {
    long dateTime;
    try {
      dateTime=Long.valueOf(param.getStringValue(cms)).longValue();
    }
 catch (    NumberFormatException e) {
      dateTime=0;
    }
    String dateTimeValue=values[0].trim();
    if (CmsStringUtil.isNotEmpty(dateTimeValue)) {
      try {
        dateTime=widgetDialog.getCalendarDate(dateTimeValue,true);
      }
 catch (      ParseException e) {
        if (LOG.isWarnEnabled()) {
          LOG.warn(Messages.get().key(Messages.ERR_PARSE_DATETIME_1,dateTimeValue),e);
        }
      }
    }
 else {
      dateTime=0;
    }
    param.setStringValue(cms,String.valueOf(dateTime));
  }
}
