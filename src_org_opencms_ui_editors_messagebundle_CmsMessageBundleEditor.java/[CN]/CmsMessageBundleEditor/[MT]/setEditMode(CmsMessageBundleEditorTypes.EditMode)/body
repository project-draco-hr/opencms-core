{
  CmsMessageBundleEditorTypes.EditMode oldMode=m_model.getEditMode();
  boolean success=false;
  if (!newMode.equals(oldMode)) {
    m_table.clearFilters();
    if (m_model.setEditMode(newMode)) {
      m_table.setTableFieldFactory(m_fieldFactories.get(newMode));
      adjustOptionsColumn(oldMode,newMode);
      if (newMode.equals(CmsMessageBundleEditorTypes.EditMode.MASTER)) {
        addAddKeyButton();
        if (m_table.getItemIds().isEmpty()) {
          m_table.addItem();
        }
      }
 else {
        removeAddKeyButton();
      }
      success=true;
    }
 else {
      Notification.show(m_messages.key(Messages.ERR_MODE_CHANGE_NOT_POSSIBLE_0),Type.ERROR_MESSAGE);
    }
    adjustFocus();
  }
  return success;
}
