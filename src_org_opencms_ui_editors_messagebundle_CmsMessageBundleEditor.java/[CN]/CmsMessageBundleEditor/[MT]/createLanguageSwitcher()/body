{
  HorizontalLayout languages=new HorizontalLayout();
  languages.setHeight("100%");
  languages.setDefaultComponentAlignment(Alignment.MIDDLE_LEFT);
  languages.setSpacing(true);
  Label languageLabel=new Label(m_messages.key(Messages.GUI_LANGUAGE_SWITCHER_LABEL_0));
  ComboBox languageSelect=new ComboBox();
  languageSelect.setNullSelectionAllowed(false);
  if (m_model.getBundleType().equals(BundleType.PROPERTY)) {
    languageSelect.addItem(CmsMessageBundleEditorModel.DEFAULT_LOCALE);
    languageSelect.setItemCaption(CmsMessageBundleEditorModel.DEFAULT_LOCALE,m_messages.key(Messages.GUI_DEFAULT_LOCALE_0));
  }
  for (  Locale locale : m_model.getLocales()) {
    languageSelect.addItem(locale);
    languageSelect.setItemCaption(locale,locale.getDisplayName(UI.getCurrent().getLocale()));
  }
  languageSelect.setValue(m_model.getLocale());
  languageSelect.setNewItemsAllowed(false);
  languageSelect.setTextInputAllowed(false);
  languageSelect.addValueChangeListener(new ValueChangeListener(){
    public void valueChange(    ValueChangeEvent event){
      try {
        m_table.clearFilters();
        m_model.setLocale((Locale)event.getProperty().getValue());
      }
 catch (      IOException|CmsException e) {
        e.printStackTrace();
      }
      String locale=m_model.getLocale().equals(CmsMessageBundleEditorModel.DEFAULT_LOCALE) ? m_messages.key(Messages.GUI_DEFAULT_LOCALE_0) : m_model.getLocale().getDisplayName(UI.getCurrent().getLocale());
      m_table.setColumnHeader(CmsMessageBundleEditorModel.PROPERTY_ID_TRANSLATION,m_messages.key(Messages.GUI_COLUMN_HEADER_TRANSLATION_0) + " (" + locale+ ")");
    }
  }
);
  languages.addComponent(languageLabel);
  languages.addComponent(languageSelect);
  return languages;
}
