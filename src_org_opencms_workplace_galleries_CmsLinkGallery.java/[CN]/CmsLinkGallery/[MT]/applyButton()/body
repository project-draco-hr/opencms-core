{
  if (MODE_VIEW.equals(getParamDialogMode())) {
    return button(null,null,"apply_in","button.paste",0);
  }
 else {
    String uri=getParamResourcePath();
    if (CmsStringUtil.isEmpty(getParamDialogMode())) {
      uri=getJsp().link(uri);
    }
 else     if (MODE_WIDGET.equals(getParamDialogMode())) {
      try {
        CmsResource res=getCms().readResource(getParamResourcePath());
        CmsFile file=getCms().readFile(getCms().getSitePath(res));
        uri=new String(file.getContents());
      }
 catch (      CmsException e) {
        if (OpenCms.getLog(this).isErrorEnabled()) {
          OpenCms.getLog(this).error("Error reading resource from VFS: " + getParamResourcePath());
        }
      }
    }
    return button("javascript:link('" + uri + "',document.form.title.value, document.form.title.value);",null,"apply","button.paste",0);
  }
}
