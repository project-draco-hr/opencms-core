{
  if (segment == HTML_START) {
    String stylesheet=null;
    if ("true".equals(getParamIsPopup())) {
      stylesheet="commons/css_popup.css";
    }
    StringBuffer result=new StringBuffer(super.pageHtmlStyle(segment,title,stylesheet));
    if (getSettings().isViewExplorer()) {
      result.append("<script type=\"text/javascript\" src=\"");
      result.append(getSkinUri());
      result.append("commons/explorer.js\"></script>\n");
    }
    result.append("<script type=\"text/javascript\">\n");
    result.append(dialogScriptSubmit());
    if (helpUrl != null) {
      result.append("if (top.head && top.head.helpUrl) {\n");
      result.append("top.head.helpUrl=\"");
      result.append(helpUrl + "\";\n}\n");
    }
    result.append("</script>\n");
    return result.toString();
  }
 else {
    return super.pageHtml(segment,null);
  }
}
