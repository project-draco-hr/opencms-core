{
  Map<String,String> result=new HashMap<String,String>();
  result.put(I_CmsGalleryProviderConstants.ReqParam.dialogmode.name(),A_CmsAjaxGallery.MODE_WIDGET);
  result.put(I_CmsGalleryProviderConstants.ReqParam.types.name(),getGalleryTypes());
  result.put(I_CmsGalleryProviderConstants.ReqParam.fieldid.name(),param.getId());
  result.put(I_CmsGalleryProviderConstants.ReqParam.hashid.name(),"" + hashId);
  result.put(I_CmsGalleryProviderConstants.ReqParam.currentelement.name(),"'+document.getElementById('" + param.getId() + "').getAttribute('value')+'");
  if (widgetDialog instanceof CmsDialog) {
    String paramResource=((CmsDialog)widgetDialog).getParamResource();
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(paramResource)) {
      result.put(I_CmsGalleryProviderConstants.ReqParam.resource.name(),paramResource);
    }
  }
  CmsGalleryWidgetConfiguration configuration=getWidgetConfiguration(cms,widgetDialog,param);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(configuration.getStartup())) {
    result.put(I_CmsGalleryProviderConstants.ReqParam.gallerypath.name(),configuration.getStartup());
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(configuration.getGalleryTypes())) {
    result.put(I_CmsGalleryProviderConstants.ReqParam.gallerytypes.name(),configuration.getGalleryTypes());
  }
  return result;
}
