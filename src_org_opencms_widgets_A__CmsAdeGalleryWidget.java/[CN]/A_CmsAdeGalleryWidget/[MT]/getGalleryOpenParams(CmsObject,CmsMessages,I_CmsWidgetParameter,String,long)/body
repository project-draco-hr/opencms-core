{
  Map<String,String> result=new HashMap<String,String>();
  result.put(I_CmsGalleryProviderConstants.ReqParam.dialogmode.name(),A_CmsAjaxGallery.MODE_WIDGET);
  result.put(I_CmsGalleryProviderConstants.ReqParam.types.name(),getGalleryTypes());
  if (param != null) {
    result.put(I_CmsGalleryProviderConstants.ReqParam.fieldid.name(),param.getId());
    result.put(I_CmsGalleryProviderConstants.ReqParam.currentelement.name(),"'+document.getElementById('" + param.getId() + "').getAttribute('value')+'");
  }
  result.put(I_CmsGalleryProviderConstants.ReqParam.hashid.name(),"" + hashId);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(resource)) {
    result.put(I_CmsGalleryProviderConstants.ReqParam.resource.name(),resource);
  }
  CmsGalleryWidgetConfiguration configuration=getWidgetConfiguration(cms,messages,param);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(configuration.getStartup())) {
    result.put(I_CmsGalleryProviderConstants.ReqParam.gallerypath.name(),configuration.getStartup());
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(configuration.getGalleryTypes())) {
    result.put(I_CmsGalleryProviderConstants.ReqParam.gallerytypes.name(),configuration.getGalleryTypes());
  }
  return result;
}
