{
synchronized (m_sessions) {
    Iterator i=getConcurrentSessionIterator();
    long sendTime=System.currentTimeMillis();
    while (i.hasNext()) {
      CmsSessionInfo sessionInfo=(CmsSessionInfo)m_sessions.get(i.next());
      sessionInfo.getBroadcastMessageQueue().addBroadcastMessage(new CmsBroadcastMessage(cms.getRequestContext().currentUser(),message,sendTime));
    }
  }
}
