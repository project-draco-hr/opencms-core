{
  if (hasTemplate(fileName)) {
    return m_configuration.getTemplate(getCacheKey(fileName));
  }
 else {
    String encoding=cms.getRequestContext().getEncoding();
    byte[] content=cms.readFile(fileName).getContents();
    StringBuffer fTemplate=new StringBuffer(new String(content,encoding));
    fTemplate.append("<@");
    fTemplate.append(CmsMacroWrapperFreeMarker.MACRO_NAME);
    fTemplate.append(" />");
    return putTemplate(fileName,fTemplate.toString());
  }
}
