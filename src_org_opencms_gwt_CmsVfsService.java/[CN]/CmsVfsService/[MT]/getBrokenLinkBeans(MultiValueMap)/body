{
  CmsBrokenLinkRenderer brokenLinkRenderer=new CmsBrokenLinkRenderer(getCmsObject());
  List<CmsBrokenLinkBean> result=new ArrayList<CmsBrokenLinkBean>();
  for (  CmsResource key : (Set<CmsResource>)linkMap.keySet()) {
    CmsBrokenLinkBean parentBean=createSitemapBrokenLinkBean(key);
    result.add(parentBean);
    Collection<CmsResource> values=linkMap.getCollection(key);
    for (    CmsResource resource : values) {
      List<CmsBrokenLinkBean> brokenLinkBeans=brokenLinkRenderer.renderBrokenLink(key,resource);
      for (      CmsBrokenLinkBean childBean : brokenLinkBeans) {
        parentBean.addChild(childBean);
      }
    }
  }
  return result;
}
