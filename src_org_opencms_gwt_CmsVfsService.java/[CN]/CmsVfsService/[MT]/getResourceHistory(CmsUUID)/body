{
  try {
    CmsHistoryResourceCollection result=new CmsHistoryResourceCollection();
    CmsObject cms=getCmsObject();
    CmsResource resource=cms.readResource(structureId,CmsResourceFilter.ALL);
    List<I_CmsHistoryResource> versions=cms.readAllAvailableVersions(resource);
    for (    I_CmsHistoryResource historyRes : versions) {
      CmsHistoryResourceBean historyBean=createHistoryResourceBean(cms,historyRes);
      result.add(historyBean);
    }
    CmsListInfoBean info=getPageInfo(structureId);
    result.setContentInfo(info);
    return result;
  }
 catch (  Exception e) {
    error(e);
    return null;
  }
}
