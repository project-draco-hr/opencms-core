{
  try {
    CmsObject cms=getCmsObject();
    CmsResource resource=cms.readResource(structureId);
    CmsListInfoBean listInfo=getPageInfo(resource);
    CmsRestoreInfoBean result=new CmsRestoreInfoBean();
    result.setListInfoBean(listInfo);
    CmsObject onlineCms=OpenCms.initCmsObject(cms);
    CmsProject onlineProject=cms.readProject(CmsProject.ONLINE_PROJECT_NAME);
    onlineCms.getRequestContext().setCurrentProject(onlineProject);
    CmsResource onlineResource=onlineCms.readResource(structureId);
    result.setOnlinePath(onlineResource.getRootPath());
    result.setOfflinePath(resource.getRootPath());
    String offlineDate=formatDateTime(resource.getDateLastModified());
    String onlineDate=formatDateTime(onlineResource.getDateLastModified());
    result.setOfflineDate(offlineDate);
    result.setOnlineDate(onlineDate);
    result.setStructureId(structureId);
    return result;
  }
 catch (  CmsException e) {
    error(e);
    return null;
  }
}
