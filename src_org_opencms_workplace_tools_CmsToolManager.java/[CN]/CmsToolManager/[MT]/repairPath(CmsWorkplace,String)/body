{
  while (!validatePath(path,true)) {
    LOG.warn(Messages.get().key(wp.getLocale(),Messages.LOG_MISSING_ADMIN_TOOL_1,new Object[]{path}));
    path=getParent(wp,path);
  }
  while (resolveAdminTool(path) == null) {
    LOG.warn(Messages.get().key(wp.getLocale(),Messages.LOG_MISSING_ADMIN_TOOL_1,new Object[]{path}));
    path=getParent(wp,path);
  }
  while (!resolveAdminTool(path).getHandler().isEnabled(wp.getCms())) {
    LOG.warn(Messages.get().key(wp.getLocale(),Messages.LOG_MISSING_TOOL_HANDLER_2,new Object[]{resolveAdminTool(path),path}));
    path=getParent(wp,path);
  }
  return path;
}
