{
  String message="";
  if (originator != null) {
    if (originator instanceof String) {
      message=(String)originator;
    }
 else {
      message=originator.getClass().getName();
    }
    message="[" + message + "] ";
  }
  if (rootCause != null) {
    message+=createMessage(rootCause);
  }
  if (stmt != null) {
    Statement s=stmt;
    while (s instanceof DelegatingPreparedStatement) {
      s=((DelegatingPreparedStatement)s).getDelegate();
    }
    if (s != null) {
      message+="query: " + s.toString();
    }
  }
  return message;
}
