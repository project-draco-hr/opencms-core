{
  m_editor.getClipboard().showDropzone(false);
  if (m_current.equals(getDropZoneInfo())) {
    CmsDebugLog.getInstance().printLine("Droped to menu");
    m_controller.addToFavoriteList(m_dragElement.getClientId());
    m_current=m_startInfo;
  }
  Iterator<Entry<I_CmsDragTargetContainer,DragInfo>> it=m_targetInfos.entrySet().iterator();
  while (it.hasNext()) {
    Entry<I_CmsDragTargetContainer,DragInfo> entry=it.next();
    if (entry.getValue().equals(m_current) && !(m_dragFromMenu && (m_current == m_startInfo))) {
      entry.getValue().getDraggable().clearDrag();
      entry.getValue().getPlaceholder().removeFromParent();
    }
 else {
      entry.getValue().getPlaceholder().removeFromParent();
      ((Widget)entry.getValue().getDraggable()).removeFromParent();
    }
    entry.getKey().getElement().removeClassName(I_CmsLayoutBundle.INSTANCE.dragdropCss().currentTarget());
    entry.getKey().removeHighlighting();
  }
  if (m_dragFromMenu) {
    m_editor.getClipboard().setActive(false);
    m_editor.getAdd().setActive(false);
    ((Widget)m_dragElement.getDragParent()).removeFromParent();
    Document.get().getBody().removeClassName(I_CmsButton.ButtonData.MOVE.getIconClass());
  }
  m_targetInfos=null;
  m_current=null;
  m_startInfo=null;
  m_dropZoneInfo=null;
}
