{
  String result="";
  if (m_resource != null) {
    try {
      CmsGallerySearchResult search=CmsGallerySearch.searchById(cms,m_resource.getStructureId(),locale);
      if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(search.getTitle())) {
        result=search.getTitle();
      }
 else {
        CmsProperty prop=cms.readPropertyObject(m_resource,CmsPropertyDefinition.PROPERTY_TITLE,false);
        result=prop.getValue();
      }
    }
 catch (    CmsException e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
 else {
    result=Messages.get().getBundle(locale).key(Messages.GUI_ELEMENT_VIEW_DEFAULT_TITLE_0);
  }
  return result;
}
