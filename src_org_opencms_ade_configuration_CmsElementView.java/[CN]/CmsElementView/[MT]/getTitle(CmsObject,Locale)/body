{
  if (m_title == null) {
    if (m_resource == null) {
      m_title="Default";
      m_titleKey=GUI_ELEMENT_VIEW_DEFAULT_TITLE_0;
    }
 else {
      try {
        CmsFile configFile=cms.readFile(m_resource);
        CmsXmlContent content=CmsXmlContentFactory.unmarshal(cms,configFile);
        if (content.hasLocale(CmsConfigurationReader.DEFAULT_LOCALE)) {
          m_title=content.getValue(N_TITLE,CmsConfigurationReader.DEFAULT_LOCALE).getStringValue(cms);
          I_CmsXmlContentValue titleKey=content.getValue(N_TITLE_KEY,CmsConfigurationReader.DEFAULT_LOCALE);
          if ((titleKey != null) && CmsStringUtil.isNotEmptyOrWhitespaceOnly(titleKey.getStringValue(cms))) {
            m_titleKey=titleKey.getStringValue(cms);
          }
        }
      }
 catch (      CmsException e) {
        e.printStackTrace();
      }
    }
  }
  if (m_titleKey == null) {
    return m_title;
  }
 else {
    return OpenCms.getWorkplaceManager().getMessages(locale).key(m_titleKey);
  }
}
