{
  if (!getCmsObject().getRequestContext().getCurrentProject().equals(project)) {
    getCmsObject().getRequestContext().setCurrentProject(project);
    getWorkplaceSettings().setProject(project.getUuid());
    OpenCms.getSessionManager().updateSessionInfo(getCmsObject(),getHttpSession());
    if (!project.isOnlineProject()) {
      setAttribute(LAST_OFFLINE_PROJECT,project);
    }
  }
}
