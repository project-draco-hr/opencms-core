{
  if (!m_previewCalculated) {
    CmsFormatterBean result=null;
    if (this != EMPTY_CONFIGURATION) {
      result=getFormatter(CmsFormatterBean.WILDCARD_TYPE,CmsFormatterBean.PREVIEW_WIDTH);
      if ((result == null) && !m_widthFormatters.isEmpty()) {
        for (        CmsFormatterBean f : m_widthFormatters) {
          if ((f.getMinWidth() >= CmsFormatterBean.PREVIEW_WIDTH) && (CmsFormatterBean.PREVIEW_WIDTH <= f.getMaxWidth())) {
            if ((result == null) || (result.getMinWidth() < f.getMinWidth())) {
              result=f;
            }
          }
        }
      }
      if ((result == null) && !m_typeFormatters.isEmpty()) {
        result=m_typeFormatters.values().iterator().next();
      }
    }
    m_previewCalculated=true;
    m_previewFormatter=result;
  }
  return m_previewFormatter;
}
