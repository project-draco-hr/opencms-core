{
  PreparedStatement stmnt=null;
  Connection con=null;
  try {
    con=DriverManager.getConnection(m_poolName);
    stmnt=sqlPrepare(con,"insert_channel_offline");
    for (int i=0; i < channelToAdd.size(); i++) {
      try {
        stmnt.setInt(1,masterId);
        cms.setContextToCos();
        stmnt.setInt(2,Integer.parseInt(cms.readProperty(channelToAdd.get(i) + "",I_CmsConstants.C_PROPERTY_CHANNELID)));
        cms.setContextToVfs();
        stmnt.executeUpdate();
      }
 catch (      CmsException exc) {
        if (CmsBase.isLogging()) {
          CmsBase.log(CmsBase.C_MODULE_DEBUG,"[CmsDbAccess] Couldn't find channel " + channelToAdd.get(i) + " errormessage: "+ exc.getMessage());
        }
      }
    }
  }
  finally {
    sqlClose(con,stmnt,null);
  }
  stmnt=null;
  con=null;
  try {
    con=DriverManager.getConnection(m_poolName);
    stmnt=sqlPrepare(con,"delete_channel_offline");
    for (int i=0; i < channelToDelete.size(); i++) {
      try {
        stmnt.setInt(1,masterId);
        cms.setContextToCos();
        stmnt.setInt(2,Integer.parseInt(cms.readProperty(channelToDelete.get(i) + "",I_CmsConstants.C_PROPERTY_CHANNELID)));
        cms.setContextToVfs();
        stmnt.executeUpdate();
      }
 catch (      CmsException exc) {
        if (CmsBase.isLogging()) {
          CmsBase.log(CmsBase.C_MODULE_DEBUG,"[CmsDbAccess] Couldn't find channel " + channelToAdd.get(i) + " errormessage: "+ exc.getMessage());
        }
      }
    }
  }
  finally {
    sqlClose(con,stmnt,null);
  }
}
