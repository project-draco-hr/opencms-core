{
  CmsObject cms=getCmsObject();
  if (change.getParentId() != null) {
    CmsResource parentFolder=cms.readParentFolder(change.getParentId());
    String entryFolderPath=CmsStringUtil.joinPaths(cms.getSitePath(parentFolder),change.getName() + "/");
    CmsResource entryFolder=cms.createResource(entryFolderPath,CmsResourceTypeFolder.getStaticTypeId());
    cms.writePropertyObjects(entryFolderPath,generateInheritProperties(change,entryFolder));
    CmsResource copyPage=OpenCms.getSitemapManager().getCopyPage(cms,sitemapUri);
    byte[] content=cms.readFile(copyPage).getContents();
    CmsResource entryResource=new CmsResource(change.getEntryId(),new CmsUUID(),CmsStringUtil.joinPaths(entryFolder.getRootPath(),"index.html"),copyPage.getTypeId(),false,0,cms.getRequestContext().currentProject().getUuid(),CmsResource.STATE_NEW,System.currentTimeMillis(),cms.getRequestContext().currentUser().getId(),System.currentTimeMillis(),cms.getRequestContext().currentUser().getId(),CmsResource.DATE_RELEASED_DEFAULT,CmsResource.DATE_EXPIRED_DEFAULT,1,content.length,System.currentTimeMillis(),0);
    cms.createResource(CmsStringUtil.joinPaths(entryFolderPath,"index.html"),entryResource,content,generateOwnProperties(change));
  }
}
