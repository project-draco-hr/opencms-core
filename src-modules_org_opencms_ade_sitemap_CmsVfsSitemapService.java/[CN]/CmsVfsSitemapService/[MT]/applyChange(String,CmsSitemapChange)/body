{
  CmsObject cms=getCmsObject();
  CmsResource configFile=null;
  if (change.hasDetailPageInfos()) {
    CmsConfigurationFileFinder finder=new CmsConfigurationFileFinder(CmsPropertyDefinition.PROPERTY_ADE_SITEMAP_CONFIG);
    configFile=finder.getConfigurationFile(cms,entryPoint);
    cms.lockResourceTemporary(configFile);
  }
  if (change.isNew()) {
    createNewEntry(entryPoint,change);
  }
 else   if (change.getEntryId() != null) {
    modifyEntry(change);
  }
  if (change.hasDetailPageInfos()) {
    saveDetailPages(change.getDetailPageInfos(),configFile);
    try {
      cms.unlockResource(configFile);
    }
 catch (    CmsException e) {
      LOG.debug(e);
    }
  }
}
