{
  if (CmsStringUtil.isEmpty(m_hiddenFields)) {
    List fields=getFormConfiguration().getFields();
    StringBuffer result=new StringBuffer(fields.size() * 8);
    for (int i=0, n=fields.size(); i < n; i++) {
      I_CmsField currentField=(I_CmsField)fields.get(i);
      if (currentField == null) {
        continue;
      }
 else       if (CmsCheckboxField.class.isAssignableFrom(currentField.getClass())) {
        Iterator k=currentField.getItems().iterator();
        while (k.hasNext()) {
          CmsFieldItem item=(CmsFieldItem)k.next();
          if (item.isSelected()) {
            result.append("<input type=\"hidden\" name=\"");
            result.append(currentField.getName());
            result.append("\" value=\"");
            result.append(CmsEncoder.escapeXml(item.getValue()));
            result.append("\">\n");
          }
        }
      }
 else       if (CmsStringUtil.isNotEmpty(currentField.getValue())) {
        result.append("<input type=\"hidden\" name=\"");
        result.append(currentField.getName());
        result.append("\" value=\"");
        result.append(CmsEncoder.escapeXml(currentField.getValue()));
        result.append("\">\n");
      }
    }
    m_hiddenFields=result.toString();
  }
  return m_hiddenFields;
}
