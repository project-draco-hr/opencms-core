{
  if (CmsStringUtil.isEmpty(m_hiddenFields)) {
    StringBuffer result=new StringBuffer(getFormConfiguration().getFields().size() * 8);
    Iterator i=getFormConfiguration().getFields().iterator();
    while (i.hasNext()) {
      I_CmsField currentField=(I_CmsField)i.next();
      if (CmsCheckboxField.getStaticType().equals(currentField.getType())) {
        Iterator k=currentField.getItems().iterator();
        while (k.hasNext()) {
          CmsFieldItem item=(CmsFieldItem)k.next();
          if (item.isSelected()) {
            result.append("<input type=\"hidden\" name=\"");
            result.append(currentField.getName());
            result.append("\" value=\"");
            result.append(CmsEncoder.escapeXml(item.getValue()));
            result.append("\">\n");
          }
        }
      }
 else       if (CmsStringUtil.isNotEmpty(currentField.getValue())) {
        result.append("<input type=\"hidden\" name=\"");
        result.append(currentField.getName());
        result.append("\" value=\"");
        result.append(CmsEncoder.escapeXml(currentField.getValue()));
        result.append("\">\n");
      }
    }
    m_hiddenFields=result.toString();
  }
  return m_hiddenFields;
}
