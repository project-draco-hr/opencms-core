{
  m_element.clearContent();
  m_linkValue=null;
  m_stringValue=null;
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(value)) {
    return;
  }
  String path=value;
  if (cms != null) {
    String siteRoot=OpenCms.getSiteManager().getSiteRoot(value);
    String oldSite=cms.getRequestContext().getSiteRoot();
    try {
      if (siteRoot != null) {
        cms.getRequestContext().setSiteRoot(siteRoot);
      }
      path=cms.getRequestContext().removeSiteRoot(value);
      path=OpenCms.getLinkManager().getRootPath(cms,path);
    }
  finally {
      cms.getRequestContext().setSiteRoot(oldSite);
    }
  }
  boolean internal=(path != null);
  CmsRelationType type;
  if (internal) {
    type=getContentDefinition().getContentHandler().getRelationType(this);
  }
 else {
    path=value;
    type=CmsRelationType.XML_WEAK;
  }
  CmsLink link=new CmsLink("varLink",type,path,internal);
  if (internal) {
    link.checkConsistency(cms);
  }
  CmsLinkUpdateUtil.updateXmlForHtmlValue(link,null,m_element.addElement(CmsXmlPage.NODE_LINK));
  m_linkValue=link;
}
