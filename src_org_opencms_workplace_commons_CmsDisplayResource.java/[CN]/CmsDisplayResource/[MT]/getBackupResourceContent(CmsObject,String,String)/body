{
  if (CmsStringUtil.isNotEmpty(resource) && CmsStringUtil.isNotEmpty(versionId)) {
    CmsBackupResource res=null;
    try {
      cms.getRequestContext().saveSiteRoot();
      cms.getRequestContext().setSiteRoot("/");
      res=cms.readBackupFile(resource,Integer.parseInt(versionId));
    }
 catch (    CmsException e) {
      if (LOG.isInfoEnabled()) {
        LOG.info(e.getLocalizedMessage());
      }
      return "".getBytes();
    }
 finally {
      cms.getRequestContext().restoreSiteRoot();
    }
    byte[] backupResourceContent=res.getContents();
    backupResourceContent=CmsEncoder.changeEncoding(backupResourceContent,OpenCms.getSystemInfo().getDefaultEncoding(),cms.getRequestContext().getEncoding());
    return backupResourceContent;
  }
  return "".getBytes();
}
