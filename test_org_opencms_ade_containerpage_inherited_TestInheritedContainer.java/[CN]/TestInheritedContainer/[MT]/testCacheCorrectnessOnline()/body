{
  writeConfiguration(1,"a");
  writeConfiguration(2,"b");
  writeConfiguration(3,"c");
  publish();
  CmsObject cms=OpenCms.initCmsObject(getCmsObject());
  String level3="/system/level1/level2/level3";
  CmsInheritedContainerState state=OpenCms.getADEManager().getInheritedContainerState(cms,level3,"alpha");
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=c","key=a","key=b");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=c","key=a","key=b");
  writeConfiguration(2,"d");
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=c","key=a","key=d");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=c","key=a","key=b");
  publish();
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=c","key=a","key=d");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=c","key=a","key=d");
  writeConfiguration(1,"b");
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=c","key=b","key=d");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=c","key=a","key=d");
  publish();
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=c","key=b","key=d");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=c","key=b","key=d");
  writeConfiguration(3,"a");
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=a","key=b","key=d");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=c","key=b","key=d");
  publish();
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=a","key=b","key=d");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=a","key=b","key=d");
  deleteConfiguration(2);
  checkSpecForPoint(level3,"alpha",OFFLINE,"key=a","key=b");
  checkSpecForPoint(level3,"alpha",ONLINE,"key=a","key=b","key=d");
  publish();
  checkSpecForPoint(level3,"alpha",ONLINE,"key=a","key=b");
}
