{
  try {
    CmsContainerConfiguration config=buildConfiguration("a b c|||a b c");
    saveConfiguration("/system/x1/.container-config",config,"alpha");
    CmsObject cms=getCmsObject();
    CmsResource x2=cms.readResource("/system/x1/x2");
    List<CmsContainerElementBean> elements=OpenCms.getADEManager().getInheritedContainerState(cms,x2,"alpha").getElements(true);
    CmsContainerElementBean newElement=generateDummyElement("d");
    CmsInheritanceInfo info=new CmsInheritanceInfo("d",new Boolean(true),true);
    newElement.setInheritanceInfo(info);
    elements.add(newElement);
    OpenCms.getADEManager().saveInheritedContainer(cms,"/system/x1/x2","alpha",true,elements);
    checkConfigurationForPath("/system/x1/x2","alpha",OFFLINE,"key=a new=false","key=b new=false","key=c new=false","key=d new=true");
  }
  finally {
    deleteConfiguration("/system/x1/.container-config");
    deleteConfiguration("/system/x1/x2/.container-config");
  }
}
