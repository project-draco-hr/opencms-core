{
  CmsInheritedContainerState result=new CmsInheritedContainerState();
  result.addConfiguration(buildConfiguration("a b c d|||a b c d"));
  result.addConfiguration(buildConfiguration("||b d|"));
  List<CmsContainerElementBean> elementBeans=result.getElements(true);
  assertEquals(4,elementBeans.size());
  CmsInheritanceInfo info1=elementBeans.get(0).getInheritanceInfo();
  assertEquals("a",info1.getKey());
  CmsInheritanceInfo info2=elementBeans.get(1).getInheritanceInfo();
  assertEquals("c",info2.getKey());
  CmsInheritanceInfo info3=elementBeans.get(2).getInheritanceInfo();
  assertEquals("b",info3.getKey());
  CmsInheritanceInfo info4=elementBeans.get(3).getInheritanceInfo();
  assertEquals("d",info4.getKey());
  elementBeans=result.getElements(false);
  assertEquals(2,elementBeans.size());
  info1=elementBeans.get(0).getInheritanceInfo();
  assertEquals("a",info1.getKey());
  info2=elementBeans.get(1).getInheritanceInfo();
  assertEquals("c",info2.getKey());
}
