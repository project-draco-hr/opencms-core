{
  if (inputDir == null) {
    inputDir="";
  }
  if (destinationDir == null) {
    destinationDir="/";
  }
  if (imageGallery == null) {
    imageGallery="";
  }
  if (linkGallery == null) {
    linkGallery="";
  }
  if (downloadGallery == null) {
    downloadGallery="";
  }
  if (template == null) {
    template="";
  }
  if (element == null) {
    element="body";
  }
  if (encoding == null) {
    encoding="";
  }
  if (startPattern == null) {
    startPattern="";
  }
  if (endPattern == null) {
    endPattern="";
  }
  if (overwrite == null) {
    overwrite="checked";
  }
  m_cms=cms;
  m_cmsObject=m_cms.getCmsObject();
  m_locale=CmsLocaleManager.getLocale(locale);
  if (m_locale == null) {
    m_locale=m_cms.getRequestContext().getLocale();
  }
  m_inputDir=inputDir.trim();
  if (m_inputDir.endsWith("/") || m_inputDir.endsWith("\\")) {
    m_inputDir=m_inputDir.substring(0,m_inputDir.length() - 1);
  }
  m_destinationDir=destinationDir.trim();
  if (!m_destinationDir.endsWith(I_CmsConstants.C_FOLDER_SEPARATOR)) {
    m_destinationDir+=I_CmsConstants.C_FOLDER_SEPARATOR;
  }
  m_imageGallery=imageGallery.trim();
  if (!m_imageGallery.endsWith(I_CmsConstants.C_FOLDER_SEPARATOR)) {
    m_imageGallery+=I_CmsConstants.C_FOLDER_SEPARATOR;
  }
  m_linkGallery=linkGallery.trim();
  if (!m_linkGallery.endsWith(I_CmsConstants.C_FOLDER_SEPARATOR)) {
    m_linkGallery+=I_CmsConstants.C_FOLDER_SEPARATOR;
  }
  m_downloadGallery=downloadGallery.trim();
  if (!m_downloadGallery.endsWith(I_CmsConstants.C_FOLDER_SEPARATOR)) {
    m_downloadGallery+=I_CmsConstants.C_FOLDER_SEPARATOR;
  }
  m_template=template;
  m_element=element;
  m_inputEncoding=encoding;
  if (CmsStringUtil.isEmpty(m_inputEncoding)) {
    m_inputEncoding=CmsEncoder.ENCODING_ISO_8859_1;
  }
  m_startPattern=startPattern;
  m_endPattern=endPattern;
  m_overwrite=overwrite.trim();
  if (m_overwrite.equals("checked")) {
    m_overwriteMode=true;
  }
 else {
    m_overwriteMode=false;
  }
  m_fileIndex=new HashMap();
  m_externalLinks=new HashSet();
  m_imageInfo=new HashMap();
  m_extensions=OpenCms.getResourceManager().getExtensionMapping();
  m_htmlConverter=new CmsHtmlImportConverter(this,false);
  m_baseUrl=null;
  try {
    m_baseUrl=new URL("file://");
  }
 catch (  MalformedURLException e) {
  }
}
