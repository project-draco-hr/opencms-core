{
  String translatedLink=null;
  translatedLink=(String)m_fileIndex.get(link.replace('\\','/'));
  if (translatedLink == null) {
    if (link.startsWith("#")) {
      translatedLink=link;
    }
 else     if (link.length() >= m_inputDir.length() + 1) {
      String relativeFSName=link.substring(m_inputDir.length() + 1);
      translatedLink=m_destinationDir + relativeFSName;
    }
  }
  if ((translatedLink != null) && translatedLink.endsWith("/")) {
    translatedLink+="index.html";
  }
  if (translatedLink == null) {
    translatedLink="#";
  }
  return translatedLink;
}
