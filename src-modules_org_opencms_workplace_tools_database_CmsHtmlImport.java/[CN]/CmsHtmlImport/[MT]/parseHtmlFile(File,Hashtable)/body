{
  String parsedHtml="";
  try {
    byte[] content=getFileBytes(file);
    String contentString=new String(content,m_inputEncoding);
    contentString=CmsEncoder.escapeNonAscii(contentString);
    contentString=CmsStringUtil.substitute(contentString,"&#","{subst}");
    parsedHtml=m_htmlConverter.convertHTML(file.getAbsolutePath(),contentString,m_startPattern,m_endPattern,properties);
    parsedHtml=CmsStringUtil.substitute(parsedHtml,"{subst}","&#");
  }
 catch (  Exception e) {
    CmsMessageContainer message=Messages.get().container(Messages.ERR_HTMLIMPORT_PARSE_1,file.getAbsolutePath());
    LOG.error(message.key(),e);
    throw new CmsImportExportException(message,e);
  }
  return parsedHtml;
}
