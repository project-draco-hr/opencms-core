{
  StringBuffer output=new StringBuffer();
  CmsXmlWpTemplateFile templateFile=(CmsXmlWpTemplateFile)doc;
  List properties=cms.readAllPropertydefinitions();
  templateFile.setData(C_TAG_RESTYPE,resType.getResourceTypeName());
  templateFile.setData(C_TAG_RESTYPE + "_esc",CmsEncoder.escapeWBlanks(resType.getResourceTypeName(),cms.getRequestContext().getEncoding()));
  output.append(templateFile.getProcessedDataValue(C_TAG_RESTYPEENTRY,callingObject));
  Iterator i=properties.iterator();
  while (i.hasNext()) {
    CmsPropertydefinition propdef=(CmsPropertydefinition)i.next();
    templateFile.setData("PROPERTY_NAME",propdef.getName());
    templateFile.setData("PROPERTY_NAME_ESC",CmsEncoder.escapeWBlanks(propdef.getName(),cms.getRequestContext().getEncoding()));
    output.append(templateFile.getProcessedDataValue(C_TYPELISTENTRY,callingObject));
  }
  return output.toString();
}
