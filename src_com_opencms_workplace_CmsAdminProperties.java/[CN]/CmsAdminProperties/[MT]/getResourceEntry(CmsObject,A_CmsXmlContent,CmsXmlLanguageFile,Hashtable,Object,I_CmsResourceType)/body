{
  StringBuffer output=new StringBuffer();
  CmsXmlWpTemplateFile templateFile=(CmsXmlWpTemplateFile)doc;
  Vector properties=cms.readAllPropertydefinitions(resType.getResourceTypeName());
  templateFile.setData(C_TAG_RESTYPE,resType.getResourceTypeName());
  templateFile.setData(C_TAG_RESTYPE + "_esc",Encoder.escapeWBlanks(resType.getResourceTypeName(),cms.getRequestContext().getEncoding()));
  output.append(templateFile.getProcessedDataValue(C_TAG_RESTYPEENTRY,callingObject));
  for (int z=0; z < properties.size(); z++) {
    CmsPropertydefinition propdef=(CmsPropertydefinition)properties.elementAt(z);
    templateFile.setData("PROPERTY_NAME",propdef.getName());
    templateFile.setData("PROPERTY_NAME_ESC",Encoder.escapeWBlanks(propdef.getName(),cms.getRequestContext().getEncoding()));
    output.append(templateFile.getProcessedDataValue(C_TYPELISTENTRY,callingObject));
  }
  return output.toString();
}
