{
  CmsFlexController controller=(CmsFlexController)req.getAttribute(CmsFlexController.ATTRIBUTE_NAME);
  Map parameterMap=new HashMap();
  addParameter(parameterMap,CmsJspTagTemplate.C_TEMPLATE_ELEMENT,element,true);
  try {
    controller.getCurrentRequest().addParameterMap(parameterMap);
    context.getOut().print(CmsFlexResponse.C_FLEX_CACHE_DELIMITER);
    controller.getCurrentResponse().addToIncludeList(target,parameterMap);
    controller.getCurrentRequest().getRequestDispatcher(target).include(req,res);
  }
 catch (  ServletException e) {
    Throwable t;
    if (e.getRootCause() != null) {
      t=e.getRootCause();
    }
 else {
      t=e;
    }
    t=controller.setThrowable(t,target);
    throw new JspException(t);
  }
catch (  IOException e) {
    Throwable t=controller.setThrowable(e,target);
    throw new JspException(t);
  }
}
