{
  String propValue="";
  CmsContainerElementBean element=null;
  try {
    element=CmsADEManager.getCurrentElement(req);
  }
 catch (  CmsException e) {
    LOG.warn(e);
  }
  if (!CmsStringUtil.isEmptyOrWhitespaceOnly(defaultValue)) {
    propValue=defaultValue;
  }
  if ((element != null) && element.getProperties().containsKey(propertyName)) {
    CmsProperty property=element.getProperties().get(propertyName);
    if (property != null) {
      if (null != property.getStructureValue()) {
        propValue=property.getStructureValue();
      }
 else       if ((null != property.getResourceValue()) && CmsStringUtil.isEmptyOrWhitespaceOnly(defaultValue)) {
        propValue=property.getResourceValue();
      }
    }
  }
  pageContext.getOut().print(propValue);
}
