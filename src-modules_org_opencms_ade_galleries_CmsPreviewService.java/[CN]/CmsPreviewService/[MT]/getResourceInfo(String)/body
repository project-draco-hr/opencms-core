{
  CmsObject cms=getCmsObject();
  CmsResourceInfoBean resInfo=new CmsResourceInfoBean();
  try {
    int pos=resourcePath.indexOf("?");
    String resName=resourcePath;
    if (pos > -1) {
      resName=resourcePath.substring(0,pos);
    }
    CmsSitemapEntry sitemapEntry=OpenCms.getSitemapManager().getEntryForUri(cms,resName);
    CmsResource resource=cms.readResource(sitemapEntry.getStructureId());
    readResourceInfo(cms,resource,resInfo);
  }
 catch (  CmsException e) {
    error(e);
  }
  return resInfo;
}
