{
  super();
  m_container=new IndexedContainer();
  m_container.addContainerProperty("typeIcon",Resource.class,null);
  m_container.addContainerProperty("resourceName",String.class,null);
  m_container.addContainerProperty("title",String.class,null);
  m_container.addContainerProperty("resourceType",String.class,null);
  m_fileTable=new Table();
  m_fileTable.addStyleName("borderless");
  m_fileTable.setSizeFull();
  m_fileTable.setRowHeaderMode(RowHeaderMode.ICON_ONLY);
  setCompositionRoot(m_fileTable);
  m_fileTable.setContainerDataSource(m_container);
  m_fileTable.setItemIconPropertyId("typeIcon");
  m_fileTable.setColumnCollapsingAllowed(true);
  m_fileTable.setColumnCollapsed("typeIcon",true);
  m_fileTable.setSelectable(true);
  m_fileTable.setMultiSelect(true);
  m_fileTable.setColumnHeader("typeIcon","i");
  m_fileTable.setColumnHeader("resourceName","Name");
  m_fileTable.setColumnHeader("title","Title");
  m_fileTable.setColumnHeader("resourceType","Resource type");
  m_fileTable.addItemClickListener(new ItemClickListener(){
    public void itemClick(    ItemClickEvent event){
      System.out.println("hallo!");
      if (event.getButton().equals(MouseButton.RIGHT)) {
        Set<CmsUUID> selection=(Set<CmsUUID>)m_fileTable.getValue();
        if (selection == null) {
          m_fileTable.select(event.getItemId());
        }
 else         if (!selection.contains(event.getItemId())) {
          m_fileTable.setValue(null);
          m_fileTable.select(event.getItemId());
        }
      }
    }
  }
);
  m_menu=new ContextMenu();
  m_fileTable.addValueChangeListener(new ValueChangeListener(){
    public void valueChange(    ValueChangeEvent event){
      Set<CmsUUID> selectedIds=(Set<CmsUUID>)event.getProperty().getValue();
      if ((selectedIds != null) && !selectedIds.isEmpty()) {
        m_menu.removeAllItems();
        m_menuBuilder.buildContextMenu(selectedIds,m_menu);
      }
    }
  }
);
  m_menu.setAsTableContextMenu(m_fileTable);
}
