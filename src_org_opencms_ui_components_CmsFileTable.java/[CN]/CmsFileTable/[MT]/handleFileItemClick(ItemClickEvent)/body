{
  if (isEditing()) {
    stopEdit();
  }
 else   if (!event.isCtrlKey() && !event.isShiftKey()) {
    CmsUUID itemId=(CmsUUID)event.getItemId();
    boolean openedFolder=false;
    if (event.getButton().equals(MouseButton.RIGHT)) {
      handleSelection(itemId);
      openContextMenu(event);
    }
 else {
      if ((event.getPropertyId() == null) || CmsResourceTableProperty.PROPERTY_TYPE_ICON.equals(event.getPropertyId())) {
        openContextMenu(event);
      }
 else       if (CmsResourceTableProperty.PROPERTY_RESOURCE_NAME.equals(event.getPropertyId())) {
        Boolean isFolder=(Boolean)event.getItem().getItemProperty(CmsResourceTableProperty.PROPERTY_IS_FOLDER).getValue();
        if ((isFolder != null) && isFolder.booleanValue()) {
          if (m_folderSelectHandler != null) {
            m_folderSelectHandler.onFolderSelect(itemId);
          }
          openedFolder=true;
        }
 else {
          try {
            CmsObject cms=A_CmsUI.getCmsObject();
            CmsResource res=cms.readResource(itemId,CmsResourceFilter.IGNORE_EXPIRATION);
            if (((CmsResourceTypePlain.getStaticTypeId() == res.getTypeId()) || (CmsResourceTypeXmlContent.isXmlContent(res) && !CmsResourceTypeXmlContainerPage.isContainerPage(res))) && !res.getName().endsWith(".html") && !res.getName().endsWith(".htm")) {
              m_currentResources=Collections.singletonList(res);
              CmsEditDialogAction action=new CmsEditDialogAction();
              I_CmsDialogContext context=m_contextProvider.getDialogContext();
              if (action.getVisibility(context).isActive()) {
                action.executeAction(context);
                return;
              }
            }
            String link=OpenCms.getLinkManager().substituteLink(cms,res);
            HttpServletRequest req=CmsVaadinUtils.getRequest();
            CmsJspTagEnableAde.removeDirectEditFlagFromSession(req.getSession());
            if (cms.getRequestContext().getCurrentProject().isOnlineProject()) {
              A_CmsUI.get().openPageOrWarn(link,"_blank");
            }
 else {
              A_CmsUI.get().getPage().setLocation(link);
            }
            return;
          }
 catch (          CmsVfsResourceNotFoundException e) {
            LOG.info(e.getLocalizedMessage(),e);
          }
catch (          CmsException e) {
            LOG.error(e.getLocalizedMessage(),e);
          }
        }
      }
    }
    if (!openedFolder) {
      update(itemId,false);
    }
  }
}
