{
  FileTableState fileTableState=new FileTableState();
  fileTableState.setSortAscending(m_fileTable.isSortAscending());
  fileTableState.setSortColumnId((String)m_fileTable.getSortContainerPropertyId());
  List<String> collapsedCollumns=new ArrayList<String>();
  Object[] visibleCols=m_fileTable.getVisibleColumns();
  for (int i=0; i < visibleCols.length; i++) {
    if (m_fileTable.isColumnCollapsed(visibleCols[i])) {
      collapsedCollumns.add((String)visibleCols[i]);
    }
  }
  fileTableState.setCollapsedColumns(collapsedCollumns);
  return fileTableState;
}
