{
  m_menuHandler=handler;
  if ((m_dialog != null) && m_dialog.isShowing()) {
    CmsDebugLog.getInstance().printLine("Dialog is already open, cannot open another one.");
    return;
  }
  int height=400;
  int width=300;
  if (menuEntryBean.getParams().containsKey(CmsMenuCommandParameters.PARAM_DIALOG_HEIGHT)) {
    height=CmsClientStringUtil.parseInt(menuEntryBean.getParams().get(CmsMenuCommandParameters.PARAM_DIALOG_HEIGHT));
  }
  if (menuEntryBean.getParams().containsKey(CmsMenuCommandParameters.PARAM_DIALOG_WIDTH)) {
    width=CmsClientStringUtil.parseInt(menuEntryBean.getParams().get(CmsMenuCommandParameters.PARAM_DIALOG_WIDTH));
  }
  m_iFrameName=FRAME_NAME_PREFIX + menuEntryBean.getName();
  exportClosingMethod();
  m_dialog=new CmsPopup(menuEntryBean.getLabel());
  m_dialog.addStyleName(I_CmsLayoutBundle.INSTANCE.contentEditorCss().contentEditor());
  m_dialog.removePadding();
  m_dialog.setHeight(height);
  m_dialog.setWidth(width);
  m_dialog.setGlassEnabled(true);
  CmsIFrame editorFrame=new CmsIFrame(m_iFrameName,"");
  m_dialog.addDialogClose(new Command(){
    /** 
 * @see com.google.gwt.user.client.Command#execute()
 */
    public void execute(){
      onClose(false);
    }
  }
);
  m_dialog.add(editorFrame);
  m_dialog.center();
  m_form=generateForm(structureId,menuEntryBean);
  RootPanel.getBodyElement().appendChild(m_form);
  m_form.submit();
}
