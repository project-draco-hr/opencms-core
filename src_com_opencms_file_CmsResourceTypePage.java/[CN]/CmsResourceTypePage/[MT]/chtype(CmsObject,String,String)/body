{
  if (isSimpleType(cms,resourcename)) {
    super.chtype(cms,resourcename,newType);
    return;
  }
  CmsFile file=cms.readFile(resourcename);
  if ((cms.getRequestContext().currentUser().equals(cms.readOwner(file))) || (cms.userInGroup(cms.getRequestContext().currentUser().getName(),C_GROUP_ADMIN))) {
    cms.doChtype(resourcename,newType);
    String bodyPath=checkBodyPath(cms,(CmsFile)file);
    if (bodyPath != null) {
      cms.doChtype(bodyPath,newType);
    }
  }
}
