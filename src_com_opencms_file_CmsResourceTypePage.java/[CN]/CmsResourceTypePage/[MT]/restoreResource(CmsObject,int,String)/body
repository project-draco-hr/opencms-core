{
  if (!cms.accessWrite(filename)) {
    throw new CmsException(filename,CmsException.C_NO_ACCESS);
  }
  CmsFile file=cms.readFile(filename);
  cms.doRestoreResource(versionId,filename);
  String bodyPath=checkBodyPath(cms,(CmsFile)file);
  if (bodyPath != null) {
    cms.doRestoreResource(versionId,bodyPath);
  }
}
