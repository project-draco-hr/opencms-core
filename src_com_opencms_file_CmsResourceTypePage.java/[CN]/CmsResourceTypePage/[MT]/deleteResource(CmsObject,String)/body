{
  CmsFile file=cms.readFile(resourcename);
  cms.doDeleteFile(resourcename);
  cms.deleteLinkEntrys(file.getResourceId());
  String bodyPath=checkBodyPath(cms,file);
  if (bodyPath != null) {
    try {
      cms.doDeleteFile(bodyPath);
    }
 catch (    CmsException e) {
      if (e.getType() != CmsException.C_NOT_FOUND) {
        throw e;
      }
    }
  }
  String currentProject=cms.getRequestContext().currentProject().getName();
  A_CmsXmlContent.clearFileCache(currentProject + ":" + cms.getRequestContext().addSiteRoot(resourcename));
}
