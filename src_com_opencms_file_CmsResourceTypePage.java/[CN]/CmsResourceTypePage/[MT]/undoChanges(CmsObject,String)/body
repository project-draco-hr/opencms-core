{
  if (isSimpleType(cms,resourcename)) {
    super.undoChanges(cms,resourcename);
    return;
  }
  if (!cms.hasPermissions(resourcename,I_CmsConstants.C_WRITE_ACCESS)) {
    throw new CmsException(resourcename,CmsException.C_NO_ACCESS);
  }
  CmsFile file=cms.readFile(resourcename);
  cms.doUndoChanges(resourcename);
  String bodyPath=checkBodyPath(cms,(CmsFile)file);
  if (bodyPath != null) {
    cms.doUndoChanges(bodyPath);
  }
  CmsPageLinks linkObject=cms.getPageLinks(cms.readAbsolutePath(file));
  cms.createLinkEntrys(linkObject.getResourceId(),linkObject.getLinkTargets());
}
