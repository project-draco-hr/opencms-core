{
  CmsFile resource=null;
  if (C_SIMPLE_PAGE) {
    properties.put(C_XML_CONTROL_TEMPLATE_PROPERTY,masterTemplate);
    resource=(CmsFile)this.createResource(cms,resourcename,properties,contents,null);
  }
 else {
    resource=(CmsFile)this.createResource(cms,resourcename,properties,contents,null);
    CmsXmlControlFile pageXml=new CmsXmlControlFile(cms,resource);
    pageXml.setMasterTemplate(masterTemplate);
    pageXml.write();
  }
  return resource;
}
