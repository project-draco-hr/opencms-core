{
  if (isSimpleType(cms,resourcename)) {
    super.changeLockedInProject(cms,newProjectId,resourcename);
    return;
  }
  CmsFile file=cms.readFile(resourcename,true);
  cms.doChangeLockedInProject(newProjectId,resourcename);
  String bodyPath=checkBodyPath(cms,(CmsFile)file);
  if (bodyPath != null) {
    cms.doChangeLockedInProject(newProjectId,bodyPath);
  }
  String currentProject=cms.getRequestContext().currentProject().getName();
  CmsXmlControlFile.clearFileCache(currentProject + ":" + resourcename);
}
