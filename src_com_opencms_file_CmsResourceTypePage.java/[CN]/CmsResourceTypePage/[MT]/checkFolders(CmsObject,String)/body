{
  String completePath=I_CmsWpConstants.C_VFS_PATH_BODIES;
  StringTokenizer t=new StringTokenizer(path,"/");
  String correspFolder="/";
  while (t.hasMoreTokens()) {
    String foldername=t.nextToken();
    correspFolder=correspFolder + foldername + "/";
    try {
      cms.readFolder(completePath + foldername + "/");
    }
 catch (    CmsException e) {
      String orgFolder=completePath + foldername + "/";
      orgFolder=orgFolder.substring(I_CmsWpConstants.C_VFS_PATH_BODIES.length() - 1);
      CmsFolder newfolder=cms.doCreateFolder(completePath,foldername);
      cms.doLockResource(cms.readAbsolutePath(newfolder),false);
      cms.cpacc(orgFolder,cms.readAbsolutePath(newfolder));
      try {
        CmsFolder correspondingFolder=cms.readFolder(correspFolder);
        if (!correspondingFolder.isLocked()) {
          cms.doUnlockResource(cms.readAbsolutePath(newfolder));
        }
      }
 catch (      CmsException ex) {
      }
    }
    completePath+=foldername + "/";
  }
}
