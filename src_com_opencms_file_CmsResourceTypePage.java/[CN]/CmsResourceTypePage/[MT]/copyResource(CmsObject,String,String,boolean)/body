{
  CmsFile file=cms.readFile(source);
  CmsXmlControlFile hXml=new CmsXmlControlFile(cms,file);
  String bodyPath=(C_CONTENTBODYPATH.substring(0,C_CONTENTBODYPATH.lastIndexOf("/"))) + (source);
  if (bodyPath.equals(hXml.getElementTemplate("body"))) {
    String destinationFolder=destination.substring(0,destination.lastIndexOf("/") + 1);
    checkFolders(cms,destinationFolder);
    String newbodyPath=(C_CONTENTBODYPATH.substring(0,C_CONTENTBODYPATH.lastIndexOf("/"))) + destination;
    hXml.setElementTemplate("body",newbodyPath);
    cms.doCopyFile(source,destination);
    CmsFile newPageFile=cms.readFile(destination);
    newPageFile.setContents(hXml.getXmlText().getBytes());
    cms.writeFile(newPageFile);
    cms.doCopyFile(bodyPath,newbodyPath);
    cms.createLinkEntrys(newPageFile.getResourceId(),cms.readLinkEntrys(file.getResourceId()));
  }
 else {
    cms.doCopyFile(source,destination);
  }
  if (!keepFlags) {
    setDefaultFlags(cms,destination);
  }
}
