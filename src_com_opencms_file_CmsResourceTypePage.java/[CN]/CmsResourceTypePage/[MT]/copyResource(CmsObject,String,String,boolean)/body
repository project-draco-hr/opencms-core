{
  CmsFile file=cms.readFile(source);
  CmsXmlControlFile hXml=new CmsXmlControlFile(cms,file);
  String bodyPath=(C_CONTENTBODYPATH.substring(0,C_CONTENTBODYPATH.lastIndexOf("/"))) + (source);
  if (bodyPath.equals(hXml.getElementTemplate("body"))) {
    String destinationFolder=destination.substring(0,destination.lastIndexOf("/") + 1);
    checkFolders(cms,destinationFolder);
    String newbodyPath=(C_CONTENTBODYPATH.substring(0,C_CONTENTBODYPATH.lastIndexOf("/"))) + destination;
    hXml.setElementTemplate("body",newbodyPath);
    Hashtable properties=cms.readAllProperties(source);
    CmsFile newPageFile=cms.doCreateFile(destinationFolder,destination.substring(destinationFolder.length()),hXml.getXmlText().getBytes(),I_CmsConstants.C_TYPE_PAGE_NAME,properties);
    cms.doLockResource(destination,true);
    cms.doCopyFile(bodyPath,newbodyPath);
  }
 else {
    cms.doCopyFile(source,destination);
  }
  if (!keepFlags) {
    setDefaultFlags(cms,destination);
  }
}
