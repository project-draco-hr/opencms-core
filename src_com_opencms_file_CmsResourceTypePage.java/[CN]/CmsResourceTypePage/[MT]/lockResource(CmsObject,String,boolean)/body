{
  if (isSimpleType(cms,resourcename)) {
    super.lockResource(cms,resourcename,force);
    return;
  }
  CmsFile pageFile=cms.readFile(resourcename);
  CmsResource bodyFile=null;
  String bodyPath=null;
  try {
    bodyPath=readBodyPath(cms,pageFile);
    bodyFile=cms.readFileHeader(bodyPath);
  }
 catch (  Exception e) {
    bodyPath=null;
    bodyFile=null;
  }
  cms.doLockResource(resourcename,force);
  if (bodyFile != null) {
    cms.doLockResource(bodyPath,force);
  }
}
