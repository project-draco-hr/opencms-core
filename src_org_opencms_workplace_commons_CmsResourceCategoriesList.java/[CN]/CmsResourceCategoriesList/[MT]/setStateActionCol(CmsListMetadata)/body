{
  CmsListColumnDefinition stateCol=new CmsListColumnDefinition(LIST_COLUMN_STATE);
  stateCol.setName(Messages.get().container(Messages.GUI_CATEGORIES_LIST_COLS_STATE_0));
  stateCol.setHelpText(Messages.get().container(Messages.GUI_CATEGORIES_LIST_COLS_STATE_HELP_0));
  stateCol.setWidth("20");
  stateCol.setAlign(CmsListColumnAlignEnum.ALIGN_CENTER);
  stateCol.setSorteable(false);
  CmsListDirectAction stateAction=new CmsListDirectAction(LIST_ACTION_REMOVE){
    /** 
 * @see org.opencms.workplace.list.A_CmsListAction#getConfirmationMessage()
 */
    public CmsMessageContainer getConfirmationMessage(){
      Iterator itCategories;
      try {
        itCategories=((A_CmsResourceCategoriesList)getWp()).getResourceCategories().iterator();
      }
 catch (      CmsException e) {
        e.printStackTrace();
        return super.getConfirmationMessage();
      }
      while (itCategories.hasNext()) {
        CmsCategory category=(CmsCategory)itCategories.next();
        try {
          if (((A_CmsResourceCategoriesList)getWp()).getResourceCategories().containsAll(((A_CmsResourceCategoriesList)getWp()).getCategoryService().readSubCategories(getWp().getCms(),category.getPath(),true))) {
            return Messages.get().container(Messages.GUI_CATEGORIES_LIST_DEFACTION_REMOVE_CONF_MORE_0);
          }
        }
 catch (        CmsException e) {
          return super.getConfirmationMessage();
        }
      }
      return super.getConfirmationMessage();
    }
  }
;
  stateAction.setName(Messages.get().container(Messages.GUI_CATEGORIES_LIST_DEFACTION_REMOVE_NAME_0));
  stateAction.setHelpText(Messages.get().container(Messages.GUI_CATEGORIES_LIST_DEFACTION_REMOVE_HELP_0));
  stateAction.setIconPath(ICON_MINUS);
  stateAction.setConfirmationMessage(Messages.get().container(Messages.GUI_CATEGORIES_LIST_DEFACTION_REMOVE_CONF_SINGLE_0));
  stateCol.addDirectAction(stateAction);
  metadata.addColumn(stateCol);
}
