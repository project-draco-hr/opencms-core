{
  if (m_adminCms != null) {
    throw new IllegalStateException();
  }
  m_adminCms=adminCms;
  publishManager.addPublishListener(new CmsPublishEventAdapter(){
    @Override public void onFinish(    CmsPublishJobRunning publishJob){
      CmsWorkflowManager.this.onFinishPublishJob(publishJob);
    }
    /** 
 * @see org.opencms.publish.CmsPublishEventAdapter#onStart(org.opencms.publish.CmsPublishJobEnqueued)
 */
    @Override public void onStart(    CmsPublishJobEnqueued publishJob){
      CmsWorkflowManager.this.onStartPublishJob(publishJob);
    }
  }
);
}
