{
  A_CmsMetadefinition metadef=readMetadefinition(meta,resource.getType());
  if (metadef == null) {
    throw new CmsException("Metadefinition " + meta + " not found.",CmsException.C_NOT_FOUND);
  }
 else {
    try {
      if (readMetainformation(resource,metadef.getName()) != null) {
synchronized (m_statementUpdateMetainfo) {
          m_statementUpdateMetainfo.setString(1,value);
          m_statementUpdateMetainfo.setString(2,resource.getAbsolutePath());
          m_statementUpdateMetainfo.setInt(3,resource.getProjectId());
          m_statementUpdateMetainfo.setInt(4,metadef.getId());
          m_statementUpdateMetainfo.executeUpdate();
        }
      }
 else {
synchronized (m_statementCreateMetainfo) {
          m_statementCreateMetainfo.setInt(1,metadef.getId());
          m_statementCreateMetainfo.setString(2,resource.getAbsolutePath());
          m_statementCreateMetainfo.setInt(3,resource.getProjectId());
          m_statementCreateMetainfo.setString(4,value);
          m_statementCreateMetainfo.executeUpdate();
        }
      }
    }
 catch (    SQLException exc) {
      throw new CmsException(exc.getMessage(),CmsException.C_SQL_ERROR,exc);
    }
  }
}
