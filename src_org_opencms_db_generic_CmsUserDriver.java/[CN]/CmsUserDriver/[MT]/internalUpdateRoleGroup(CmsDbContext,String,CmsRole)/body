{
  CmsGroup group=readGroup(dbc,groupName);
  if ((CmsRole.valueOf(group) == null) || !CmsRole.valueOf(group).equals(role)) {
    CmsGroup roleGroup=readGroup(dbc,role.getGroupName());
    Iterator it=readUsersOfGroup(dbc,groupName,false).iterator();
    while (it.hasNext()) {
      CmsUser user=(CmsUser)it.next();
      createUserInGroup(dbc,user.getId(),roleGroup.getId());
    }
    group.setFlags(role.getVirtualGroupFlags());
  }
}
