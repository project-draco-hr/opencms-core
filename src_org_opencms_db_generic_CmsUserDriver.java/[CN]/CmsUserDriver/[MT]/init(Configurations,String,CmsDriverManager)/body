{
  m_sqlManager=this.initQueries(dbPoolUrl);
  m_driverManager=driverManager;
  String digest=config.getString(I_CmsConstants.C_CONFIGURATION_DB + ".user.digest.type","MD5");
  if (OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
    OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Digest configured    : " + digest);
  }
  m_digestFileEncoding=config.getString(I_CmsConstants.C_CONFIGURATION_DB + ".user.digest.encoding","UTF-8");
  if (OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
    OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Digest file encoding : " + m_digestFileEncoding);
  }
  try {
    m_digest=MessageDigest.getInstance(digest);
    if (OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
      OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Using digest encoding: " + m_digest.getAlgorithm() + " from "+ m_digest.getProvider().getName()+ " version "+ m_digest.getProvider().getVersion());
    }
  }
 catch (  NoSuchAlgorithmException e) {
    if (OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
      OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Error setting digest : using clear passwords - " + e.getMessage());
    }
  }
  if (OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
    OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". User driver init     : ok");
  }
}
