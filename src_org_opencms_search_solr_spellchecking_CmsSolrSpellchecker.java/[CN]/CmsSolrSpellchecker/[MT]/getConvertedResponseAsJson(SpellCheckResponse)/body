{
  if (null == response) {
    return null;
  }
  final JSONObject suggestions=new JSONObject();
  final Map<String,Suggestion> solrSuggestions=response.getSuggestionMap();
  for (  final String key : solrSuggestions.keySet()) {
    final List<String> l=solrSuggestions.get(key).getAlternatives();
    boolean ignoreWord=false;
    if (Character.isUpperCase(key.charAt(0))) {
      final String lowercaseKey=key.toLowerCase();
      if (l.contains(lowercaseKey)) {
        ignoreWord=true;
      }
    }
    if (!ignoreWord) {
      try {
        suggestions.put(key,l);
      }
 catch (      JSONException e) {
        LOG.debug("Exception while converting Solr spellcheckresponse to JSON. ");
      }
    }
  }
  return suggestions;
}
