{
  performPermissionCheck(cms);
  setResponeHeaders(res);
  CmsSpellcheckingRequest cmsSpellcheckingRequest=null;
  try {
    final JSONObject jsonRequest=new JSONObject(getRequestBody(servletRequest));
    cmsSpellcheckingRequest=parseJsonRequest(jsonRequest);
  }
 catch (  Exception e) {
    cmsSpellcheckingRequest=parseHttpRequest(servletRequest,cms);
  }
  if ((null != cmsSpellcheckingRequest) && cmsSpellcheckingRequest.isInitialized()) {
    final SpellCheckResponse spellCheckResponse=performSpellcheckQuery(cmsSpellcheckingRequest);
    if (null == spellCheckResponse) {
      cmsSpellcheckingRequest.m_wordSuggestions=new JSONObject();
    }
 else {
      cmsSpellcheckingRequest.m_wordSuggestions=getConvertedResponseAsJson(spellCheckResponse);
    }
  }
  sendResponse(res,cmsSpellcheckingRequest);
}
