{
  CmsXmlContainerPage pageXml=CmsXmlContainerPageFactory.unmarshal(m_cms,containerPage);
  CmsContainerPageBean page=pageXml.getContainerPage(m_cms);
  List<CmsContainerBean> newContainers=Lists.newArrayList();
  for (  CmsContainerBean container : page.getContainers().values()) {
    List<CmsContainerElementBean> newElements=Lists.newArrayList();
    for (    CmsContainerElementBean element : container.getElements()) {
      CmsContainerElementBean newBean=replaceContainerElement(containerPage,element);
      if (newBean != null) {
        newElements.add(newBean);
      }
    }
    CmsContainerBean newContainer=new CmsContainerBean(container.getName(),container.getType(),container.getParentInstanceId(),newElements);
    newContainers.add(newContainer);
  }
  CmsContainerPageBean newPageBean=new CmsContainerPageBean(newContainers);
  pageXml.save(m_cms,newPageBean);
}
