{
  if (!CmsCollectionUtil.isEmptyOrNull(menuEntries)) {
    m_menu=new CmsContextMenu(menuEntries,true,getPopup());
    m_resizeRegistration=Window.addResizeHandler(m_menu);
    m_menuPanel.setWidget(0,0,m_menu);
    if (m_menuCloseHandler != null) {
      m_menuCloseHandler.removeHandler();
    }
    if (m_popupCloseHandler != null) {
      m_popupCloseHandler.removeHandler();
    }
    m_menuCloseHandler=getPopup().addCloseHandler(new CmsContextMenuCloseHandler(m_menu));
    m_popupCloseHandler=getPopup().addCloseHandler(new CloseHandler<PopupPanel>(){
      public void onClose(      CloseEvent<PopupPanel> event){
        setActive(false);
      }
    }
);
    m_popup.position();
  }
 else {
    if (m_noEntriesLabel.getParent() != null) {
      m_noEntriesLabel.removeFromParent();
    }
    m_noEntriesLabel.addStyleName(I_CmsLayoutBundle.INSTANCE.contextmenuCss().menuInfoLabel());
    m_noEntriesLabel.addStyleName(I_CmsLayoutBundle.INSTANCE.generalCss().buttonCornerAll());
    getPopup().add(m_noEntriesLabel);
    m_popup.position();
  }
}
