{
  setClassName(jsonObj.optString(CmsGalleryConfigParam.CONFIG_KEY_CLASS.getName(),null));
  I_CmsGalleryWidgetDynamicConfiguration dynConf=null;
  if (getClassName() != null) {
    try {
      dynConf=(I_CmsGalleryWidgetDynamicConfiguration)Class.forName(getClassName()).newInstance();
    }
 catch (    Exception e) {
    }
  }
  setType(jsonObj.optString(CmsGalleryConfigParam.CONFIG_KEY_TYPE.getName()));
  if ((CmsGalleryConfigParam.CONFIG_VALUE_DYNAMIC.getName().equals(getType()) || CmsStringUtil.isEmpty(getType())) && (dynConf != null)) {
    setType(dynConf.getType(cms,widgetDialog,param));
  }
  String startUp=jsonObj.optString(CmsGalleryConfigParam.CONFIG_KEY_STARTUP.getName());
  if (startUp.startsWith("[") && startUp.endsWith("]")) {
    setStartUpFolders(jsonObj.optJSONArray(CmsGalleryConfigParam.CONFIG_KEY_STARTUP.getName()));
    LOG.debug(jsonObj.optJSONArray(CmsGalleryConfigParam.CONFIG_KEY_STARTUP.getName()).toString());
  }
 else {
    setStartup(startUp);
  }
  if ((CmsGalleryConfigParam.CONFIG_VALUE_DYNAMIC.getName().equals(getStartup()) || CmsStringUtil.isEmpty(getStartup())) && (dynConf != null)) {
    setStartup(dynConf.getStartup(cms,widgetDialog,param));
  }
}
