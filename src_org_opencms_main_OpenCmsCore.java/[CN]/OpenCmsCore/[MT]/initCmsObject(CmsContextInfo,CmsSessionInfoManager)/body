{
  CmsUser user=contextInfo.getUser();
  if (user == null) {
    user=m_driverManager.readUser(contextInfo.getUserName());
  }
  CmsProject project=contextInfo.getProject();
  if (project == null) {
    project=m_driverManager.readProject(contextInfo.getProjectName());
  }
  CmsRequestContext context=new CmsRequestContext(user,project,contextInfo.getRequestedUri(),contextInfo.getSiteRoot(),contextInfo.getLocale(),contextInfo.getEncoding(),contextInfo.getRemoteAddr(),m_directoryTranslator,m_fileTranslator);
  CmsObject cms=new CmsObject(m_driverManager,context,sessionStorage);
  return cms;
}
