{
  if (m_startupClassesInitialized) {
    return;
  }
synchronized (this) {
    m_startupClassesInitialized=true;
    if (res == null) {
    }
    if (getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
      getLog(CmsLog.CHANNEL_INIT).info(". Startup class init   : starting");
    }
    String context=req.getContextPath() + req.getServletPath();
    if (context.endsWith("/")) {
      context=context.substring(0,context.lastIndexOf('/'));
    }
    setOpenCmsContext(context);
    if (getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
      getLog(CmsLog.CHANNEL_INIT).info(". OpenCms context      : " + context);
    }
    ArrayList webAppNames=(ArrayList)OpenCms.getRuntimeProperty("compatibility.support.webAppNames");
    if (webAppNames == null) {
      webAppNames=new ArrayList();
    }
    if (!webAppNames.contains(context)) {
      webAppNames.add(context);
      setRuntimeProperty("compatibility.support.webAppNames",webAppNames);
    }
    try {
      Hashtable startupNode=OpenCms.getRegistry().getSystemValues("startup");
      if (startupNode != null) {
        for (int i=1; i <= startupNode.size(); i++) {
          String currentClass=(String)startupNode.get("class" + i);
          try {
            Class.forName(currentClass).newInstance();
            if (getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
              getLog(CmsLog.CHANNEL_INIT).info(". Startup class init   : " + currentClass + " instanciated");
            }
          }
 catch (          Exception e1) {
            if (getLog(CmsLog.CHANNEL_INIT).isWarnEnabled()) {
              getLog(CmsLog.CHANNEL_INIT).warn(". Startup class init   : non-critical error " + e1.toString());
            }
          }
        }
      }
    }
 catch (    Exception e2) {
      if (getLog(CmsLog.CHANNEL_INIT).isWarnEnabled()) {
        getLog(CmsLog.CHANNEL_INIT).warn(". Startup class init   : non-critical error " + e2.toString());
      }
    }
    if (getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
      getLog(CmsLog.CHANNEL_INIT).info(". Startup class init   : finished");
      getLog(CmsLog.CHANNEL_INIT).info(".                      ...............................................................");
      getLog(CmsLog.CHANNEL_INIT).info(".");
    }
  }
}
