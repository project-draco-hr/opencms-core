{
  CmsObject cms=null;
  CmsRequestHttpServlet cmsReq=new CmsRequestHttpServlet(req,getFileTranslator());
  CmsResponseHttpServlet cmsRes=new CmsResponseHttpServlet(req,res);
  try {
    initStartupClasses(req,res);
    cms=initUser(req,res,cmsReq,cmsRes);
    CmsFile file=initResource(cms,cms.getRequestContext().getUri());
    if (file != null) {
      setResponse(cms,file);
      showResource(req,res,cms,file);
      updateUser(cms,cmsReq);
    }
  }
 catch (  Throwable t) {
    errorHandling(cms,req,res,t);
  }
}
