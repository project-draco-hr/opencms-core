{
  CmsObject cms=null;
  try {
    cms=initCmsObject(req,res);
    CmsFile file=initResource(cms,cms.getRequestContext().getUri());
    if (file != null) {
      res.setContentType(getMimeType(file.getName(),cms.getRequestContext().getEncoding()));
      showResource(req,res,cms,file);
      updateUser(cms,req);
    }
  }
 catch (  Throwable t) {
    errorHandling(cms,req,res,t);
  }
}
