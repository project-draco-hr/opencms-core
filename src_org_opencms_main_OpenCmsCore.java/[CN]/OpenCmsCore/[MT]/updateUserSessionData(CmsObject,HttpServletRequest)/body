{
  if (!cms.getRequestContext().isUpdateSessionEnabled()) {
    return;
  }
  HttpSession session=req.getSession(false);
  if (session != null) {
    if (!cms.getRequestContext().currentUser().isGuestUser()) {
      CmsSessionInfo sessionInfo=m_sessionManager.getSessionInfo(session.getId());
      if (sessionInfo != null) {
        sessionInfo.update(cms.getRequestContext());
      }
 else {
        sessionInfo=new CmsSessionInfo(cms.getRequestContext(),session.getId(),session.getMaxInactiveInterval());
        m_sessionManager.addSessionInfo(sessionInfo);
      }
    }
  }
}
