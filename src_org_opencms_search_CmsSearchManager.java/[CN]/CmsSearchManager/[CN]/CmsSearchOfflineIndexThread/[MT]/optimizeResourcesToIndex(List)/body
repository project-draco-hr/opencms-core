{
  List result=new ArrayList();
  Iterator i=resourcesToIndex.iterator();
  while (i.hasNext()) {
    CmsPublishedResource pubRes=(CmsPublishedResource)i.next();
    int pos=result.indexOf(pubRes);
    if (pos < 0) {
      result.add(pubRes);
    }
 else {
      CmsPublishedResource curRes=(CmsPublishedResource)result.get(pos);
      if ((pubRes.getState() != curRes.getState()) || (pubRes.getMovedState() != curRes.getMovedState()) || !pubRes.getRootPath().equals(curRes.getRootPath())) {
        result.add(pubRes);
      }
    }
  }
  return result;
}
