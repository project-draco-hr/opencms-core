{
  Iterator i=resourceToIndex.iterator();
  while (i.hasNext()) {
    CmsPublishedResource pubRes=(CmsPublishedResource)i.next();
    int pos=m_resourcesToIndex.indexOf(pubRes);
    if (pos < 0) {
      m_resourcesToIndex.add(pubRes);
    }
 else {
      CmsPublishedResource curRes=(CmsPublishedResource)m_resourcesToIndex.get(pos);
      if ((pubRes.getState() != curRes.getState()) || (pubRes.getMovedState() != curRes.getMovedState()) || !pubRes.getRootPath().equals(curRes.getRootPath())) {
        m_resourcesToIndex.add(pubRes);
      }
    }
  }
}
