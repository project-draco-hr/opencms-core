{
  CmsSearchOfflineIndexWorkThread thread=new CmsSearchOfflineIndexWorkThread(report,resourcesToIndex);
  long startTime=System.currentTimeMillis();
  long waitTime=getOfflineUpdateFrequency() / 2;
  boolean slowUpdate=false;
  if (LOG.isDebugEnabled()) {
    LOG.debug(Messages.get().getBundle().key(Messages.LOG_OI_UPDATE_START_1,Integer.valueOf(resourcesToIndex.size())));
  }
  thread.start();
  do {
    try {
      thread.join(waitTime);
    }
 catch (    InterruptedException e) {
    }
    if (thread.isAlive()) {
      slowUpdate=true;
      LOG.warn(Messages.get().getBundle().key(Messages.LOG_OI_UPDATE_LONG_2,Integer.valueOf(resourcesToIndex.size()),Long.valueOf(System.currentTimeMillis() - startTime)));
    }
  }
 while (thread.isAlive());
  if (slowUpdate || LOG.isDebugEnabled()) {
    LOG.info(Messages.get().getBundle().key(Messages.LOG_OI_UPDATE_FINISH_2,Integer.valueOf(resourcesToIndex.size()),Long.valueOf(System.currentTimeMillis() - startTime)));
  }
}
