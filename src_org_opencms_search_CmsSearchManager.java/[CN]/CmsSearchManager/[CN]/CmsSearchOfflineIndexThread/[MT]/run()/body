{
  I_CmsReport report=new CmsLogReport(m_adminCms.getRequestContext().getLocale(),CmsSearchManager.class);
  try {
    while (m_isAlive) {
      List<CmsPublishedResource> resourcesToIndex=getResourcesToIndex();
      if (resourcesToIndex.size() > 0) {
        updateIndexOffline(report,resourcesToIndex);
      }
      try {
        sleep(OpenCms.getSearchManager().getOfflineUpdateFrequency());
      }
 catch (      InterruptedException e) {
      }
    }
  }
  finally {
    m_isAlive=false;
  }
}
