{
  CmsSearchManager manager=OpenCms.getSearchManager();
  I_CmsReport report=null;
  boolean writeLog=Boolean.valueOf((String)parameters.get("writeLog")).booleanValue();
  if (writeLog) {
    report=new CmsLogReport(I_CmsReport.C_BUNDLE_NAME,cms.getRequestContext().getLocale(),getClass());
  }
  long startTime=System.currentTimeMillis();
  manager.updateIndex(report);
  long runTime=System.currentTimeMillis() - startTime;
  String finishMessage="Finished rebuilding all search indexes, time required " + CmsStringUtil.formatRuntime(runTime);
  if (OpenCms.getLog(this).isInfoEnabled()) {
    OpenCms.getLog(this).info(finishMessage);
  }
  return finishMessage;
}
