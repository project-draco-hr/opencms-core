{
  if (m_coreContainer != null) {
    for (    SolrCore core : m_coreContainer.getCores()) {
      m_coreContainer.remove(core.getName());
      if (core.getOpenCount() > 0) {
        LOG.error("There are still " + core.getOpenCount() + " open Solr cores left, potetial resource leak!");
        while (core.getOpenCount() >= 0) {
          core.close();
        }
      }
 else {
        core.close();
      }
    }
    CmsSolrSpellchecker spell=CmsSolrSpellchecker.getInstance();
    if (spell != null) {
      spell.shutDown();
    }
    m_coreContainer.shutdown();
    if (CmsLog.INIT.isInfoEnabled()) {
      CmsLog.INIT.info(Messages.get().getBundle().key(Messages.INIT_SOLR_SHUTDOWN_SUCCESS_0));
    }
    m_coreContainer=null;
  }
}
