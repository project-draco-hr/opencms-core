{
  String servletPath=cms.getRequestContext().getRequest().getServletUrl();
  String downloadPath=servletPath + cms.readAbsolutePath(res);
  filelistTemplate.setData("fullpath",downloadPath);
  filelistTemplate.setData("name_value",res.getName());
  filelistTemplate.setData("filepath",cms.readAbsolutePath(res));
  if ((cms.getPermissions(cms.readAbsolutePath(res)).getPermissions() & I_CmsConstants.C_ACCESS_WRITE) > 0) {
    filelistTemplate.setData("delete",filelistTemplate.getProcessedDataValue("deleteentry",this));
  }
 else {
    filelistTemplate.setData("delete","&nbsp;");
  }
  String title="";
  try {
    title=cms.readProperty(cms.readAbsolutePath(res),C_PROPERTY_TITLE);
  }
 catch (  CmsException e) {
  }
  if (title == null) {
    title="";
  }
  filelistTemplate.setData("title_value",title);
}
