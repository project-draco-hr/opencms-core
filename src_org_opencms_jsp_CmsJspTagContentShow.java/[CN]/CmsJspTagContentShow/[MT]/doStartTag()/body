{
  Tag ancestor=findAncestorWithClass(this,I_CmsJspTagContentContainer.class);
  if (ancestor == null) {
    throw new JspTagException("Tag <contentshow> without required parent tag <contentload> found!");
  }
  I_CmsJspTagContentContainer contentContainer=(I_CmsJspTagContentContainer)ancestor;
  String resourceName=contentContainer.getResourceName();
  A_CmsXmlDocument xmlContent=contentContainer.getXmlDocument();
  Locale locale=contentContainer.getXmlDocumentLocale();
  String element=getElement();
  if (CmsStringUtil.isEmpty(element)) {
    element=contentContainer.getXmlDocumentElement();
  }
  int index=getIndex();
  if (getIndex() < 0) {
    index=contentContainer.getXmlDocumentIndex();
  }
  String content=contentShowTagAction(xmlContent,element,locale,index,resourceName,pageContext.getRequest());
  if (content == null) {
    content=CmsMessages.formatUnknownKey(element + '[' + index+ ']');
  }
  try {
    pageContext.getOut().print(content);
  }
 catch (  IOException e) {
    if (OpenCms.getLog(this).isErrorEnabled()) {
      OpenCms.getLog(this).error("Error in Jsp <contentshow> tag processing",e);
    }
    throw new javax.servlet.jsp.JspException(e);
  }
  return SKIP_BODY;
}
