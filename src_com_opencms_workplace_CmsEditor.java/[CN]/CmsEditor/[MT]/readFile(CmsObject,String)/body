{
  CmsFile result=null;
  try {
    result=cms.readFile(filename);
  }
 catch (  Exception e) {
    String errorMessage="Error while reading file " + filename + ": "+ e;
    if (OpenCms.isLogging(CmsLog.CHANNEL_WORKPLACE_XML,CmsLog.LEVEL_WARN)) {
      OpenCms.log(CmsLog.CHANNEL_WORKPLACE_XML,CmsLog.LEVEL_WARN,getClassName() + errorMessage);
    }
    if (e instanceof CmsException) {
      throw (CmsException)e;
    }
 else {
      throw new CmsException(errorMessage,CmsException.C_UNKNOWN_EXCEPTION);
    }
  }
  return result;
}
