{
  CmsXmlPage page=(CmsXmlPage)req.getAttribute(filename);
  if (page != null) {
    return page;
  }
  CmsFile file=cms.readFile(filename,CmsResourceFilter.IGNORE_EXPIRATION);
  if (file.getTypeId() != CmsResourceTypeXmlPage.C_RESOURCE_TYPE_ID) {
    throw new CmsXmlException("Resource '" + filename + "' is not of required type XML page");
  }
  page=unmarshal(cms,file);
  req.setAttribute(filename,page);
  return page;
}
