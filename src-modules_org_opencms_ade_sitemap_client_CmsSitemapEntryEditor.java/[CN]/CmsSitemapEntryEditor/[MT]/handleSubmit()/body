{
  final Map<String,String> fieldValues=getForm().collectValues();
  final String titleValue=getAndRemoveValue(fieldValues,FIELD_TITLE);
  final String urlNameValue=getAndRemoveValue(fieldValues,FIELD_URLNAME);
  String shouldInheritTemplateStr=getAndRemoveValue(fieldValues,FIELD_TEMPLATE_INHERIT_CHECKBOX);
  String template=fieldValues.get(CmsSitemapManager.Property.template.toString());
  boolean shouldInheritTemplate=((shouldInheritTemplateStr != null) && shouldInheritTemplateStr.equalsIgnoreCase("true")) && (template != null);
  String templateInherited=shouldInheritTemplate ? template : null;
  fieldValues.put(CmsSitemapManager.Property.templateInherited.toString(),templateInherited);
  CmsCoreProvider.get().translateUrlName(urlNameValue,new AsyncCallback<String>(){
    public void onFailure(    Throwable caught){
    }
    public void onSuccess(    String newUrlName){
      setUrlNameField(newUrlName);
      if (m_controller.hasSiblingEntriesWithName(m_entry,newUrlName)) {
        showUrlNameError(Messages.get().key(Messages.GUI_URLNAME_ALREADY_EXISTS_0));
      }
 else {
        hide();
        m_controller.edit(m_entry,titleValue,null,newUrlName,fieldValues);
      }
    }
  }
);
}
