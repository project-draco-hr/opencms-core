{
  Hashtable parameters=(Hashtable)userObj;
  String elementName=(String)parameters.get("_ELEMENT_");
  String newsFolder=getNewsFolder(elementName,parameters);
  Vector v=CmsNewsTemplateFile.getAllArticles(cms,newsFolder);
  String result="";
  CmsNewsListDefFile listDef=new CmsNewsListDefFile(cms,C_PATH_INTERNAL_TEMPLATES + C_NEWS_NEWSLISTDEF);
  for (int i=0; i < v.size(); i++) {
    Object o=v.elementAt(i);
    CmsNewsTemplateFile doc2=(CmsNewsTemplateFile)o;
    result=result + listDef.getNewsListEntry(Utils.getNiceShortDate(doc2.getNewsDate()),doc2.getNewsHeadline(),doc2.getNewsShortText(),doc2.getFilename() + "/index.html");
  }
  return result;
}
