{
  CmsStaticExportManager manager=OpenCms.getStaticExportManager();
  boolean templatesFound=false;
  Iterator i=publishedResources.iterator();
  while (i.hasNext()) {
    CmsPublishedResource pupRes=(CmsPublishedResource)i.next();
    String vfsName=pupRes.getRootPath();
    if (manager.getExportFolderMatcher().match(vfsName)) {
      CmsStaticExportData exportData=manager.getVfsExportData(cms,vfsName);
      if (exportData != null) {
        CmsResource resource=null;
        if (pupRes.isFile()) {
          resource=exportData.getResource();
        }
 else {
          try {
            String defaultFileName=cms.readPropertyObject(vfsName,CmsPropertyDefinition.PROPERTY_DEFAULT_FILE,false).getValue();
            if (defaultFileName != null) {
              resource=cms.readResource(vfsName + defaultFileName);
            }
          }
 catch (          CmsException e) {
            for (int j=0; j < OpenCms.getDefaultFiles().size(); j++) {
              String tmpResourceName=vfsName + OpenCms.getDefaultFiles().get(j);
              try {
                resource=cms.readResource(tmpResourceName);
                break;
              }
 catch (              CmsException e1) {
              }
            }
          }
        }
        if ((resource != null) && resource.isFile()) {
          I_CmsResourceLoader loader=OpenCms.getResourceManager().getLoader(resource);
          if (!loader.isStaticExportProcessable()) {
            if (!pupRes.getState().isDeleted()) {
              resourcesToExport.add(exportData);
            }
          }
 else {
            templatesFound=true;
            cms.writeStaticExportPublishedResource(exportData.getRfsName(),CmsStaticExportManager.EXPORT_LINK_WITHOUT_PARAMETER,"",System.currentTimeMillis());
          }
        }
      }
    }
  }
  return templatesFound;
}
