{
  if (LOG.isDebugEnabled()) {
    LOG.debug(Messages.get().getBundle().key(Messages.LOG_GET_ALL_RESOURCES_0));
  }
  List vfsResources=cms.readResources("/",CmsResourceFilter.ALL.addExcludeFlags(CmsResource.FLAG_INTERNAL));
  List resources=new ArrayList(vfsResources.size());
  Iterator i=vfsResources.iterator();
  while (i.hasNext()) {
    CmsPublishedResource resource=new CmsPublishedResource((CmsResource)i.next());
    if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().getBundle().key(Messages.LOG_PROCESSING_1,resource.getRootPath()));
    }
    resources.add(resource);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug(Messages.get().getBundle().key(Messages.LOG_NUM_RESOURCES_1,new Integer(resources.size())));
  }
  return resources;
}
