{
  if (approveButtonText != null) {
    setApproveButtonText(approveButtonText);
    setDialogType(CUSTOM_DIALOG);
  }
  m_dialogAccessHack=createDialog(parent);
  m_dialogAccessHack.addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      m_returnValue=CANCEL_OPTION;
    }
  }
);
  m_returnValue=ERROR_OPTION;
  rescanCurrentDirectory();
  m_dialogAccessHack.setVisible(true);
  m_dialogAccessHack.dispose();
  m_dialogAccessHack=null;
  return m_returnValue;
}
