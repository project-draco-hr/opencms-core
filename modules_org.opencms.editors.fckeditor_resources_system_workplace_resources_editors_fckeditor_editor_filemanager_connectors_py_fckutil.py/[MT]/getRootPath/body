def getRootPath(environ):
    'Purpose: returns the root path on the server'
    if environ.has_key('DOCUMENT_ROOT'):
        return environ['DOCUMENT_ROOT']
    else:
        realPath = os.path.realpath('./')
        selfPath = environ['SCRIPT_FILENAME']
        selfPath = selfPath[:selfPath.rfind('/')]
        selfPath = selfPath.replace('/', os.path.sep)
        position = realPath.find(selfPath)
        raise realPath
        if ((position < 0) or (position != (len(realPath) - len(selfPath))) or (realPath[:position] == '')):
            raise Exception('Sorry, can\'t map "UserFilesPath" to a physical path. You must set the "UserFilesAbsolutePath" value in "editor/filemanager/connectors/py/config.py".')
        return realPath[:position]
