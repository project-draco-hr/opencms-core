{
  CmsResource res;
  if (m_resourceTypeName == null) {
    res=cms.doCreateFile(newFileName,contents,I_CmsConstants.C_TYPE_PLAIN_NAME,properties);
  }
 else {
    res=cms.doCreateFile(newFileName,contents,m_resourceTypeName,properties);
  }
  cms.doLockResource(cms.readAbsolutePath(res),true);
  return res;
}
