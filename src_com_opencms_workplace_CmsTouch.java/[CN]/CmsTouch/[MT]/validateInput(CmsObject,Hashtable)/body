{
  I_CmsSession session=cms.getRequestContext().getSession(true);
  m_ResourceName=null;
  m_Resource=null;
  m_TouchRecursive=false;
  m_NewTimestamp=-1;
  try {
    m_NewTimestamp=Long.parseLong((String)theParameters.get(CmsTouch.C_PARA_NEWTIMESTAMP));
  }
 catch (  Exception e) {
    m_NewTimestamp=-1;
  }
  if (DEBUG > 0)   System.out.println("[" + this.getClass().getName() + "] timestamp: "+ m_NewTimestamp);
  m_ResourceName=(String)theParameters.get(I_CmsWpConstants.C_PARA_FILE);
  if (m_ResourceName != null) {
    session.putValue(I_CmsWpConstants.C_PARA_FILE,m_ResourceName);
  }
 else {
    m_ResourceName=(String)session.getValue(I_CmsWpConstants.C_PARA_FILE);
  }
  if (DEBUG > 0)   System.out.println("[" + this.getClass().getName() + "] resource: "+ m_ResourceName);
  m_Resource=(CmsResource)cms.readFileHeader(m_ResourceName);
  String dummy=(String)theParameters.get(I_CmsWpConstants.C_PARA_FLAGS);
  if (dummy != null) {
    m_TouchRecursive=dummy.trim().equalsIgnoreCase("true");
  }
  if (DEBUG > 0)   System.out.println("[" + this.getClass().getName() + "] recursive: "+ m_TouchRecursive);
}
