{
  String modulePath=CmsWorkplace.VFS_PATH_MODULES + module.getName() + "/";
  List exportPoints=module.getExportPoints();
  List resources=module.getResources();
  if (module.isCreateClassesFolder() || module.isCreateElementsFolder() || module.isCreateLibFolder()|| module.isCreateResourcesFolder()|| module.isCreateTemplateFolder()) {
    module.setCreateModuleFolder(true);
  }
  if (module.isCreateModuleFolder()) {
    getCms().createResource(modulePath,CmsResourceTypeFolder.getStaticTypeId());
    resources.add(modulePath);
    module.setResources(resources);
  }
  if (module.isCreateTemplateFolder()) {
    String path=modulePath + PATH_TEMPLATES;
    getCms().createResource(path,CmsResourceTypeFolder.getStaticTypeId());
  }
  if (module.isCreateElementsFolder()) {
    String path=modulePath + PATH_ELEMENTS;
    getCms().createResource(path,CmsResourceTypeFolder.getStaticTypeId());
  }
  if (module.isCreateTemplateFolder()) {
    String path=modulePath + PATH_RESOURCES;
    getCms().createResource(path,CmsResourceTypeFolder.getStaticTypeId());
  }
  if (module.isCreateLibFolder()) {
    String path=modulePath + PATH_LIB;
    getCms().createResource(path,CmsResourceTypeFolder.getStaticTypeId());
    CmsExportPoint exp=new CmsExportPoint(path,"WEB-INF/lib/");
    exportPoints.add(exp);
    module.setExportPoints(exportPoints);
  }
  if (module.isCreateClassesFolder()) {
    String path=modulePath + PATH_CLASSES;
    getCms().createResource(path,CmsResourceTypeFolder.getStaticTypeId());
    CmsExportPoint exp=new CmsExportPoint(path,"WEB-INF/classes/");
    exportPoints.add(exp);
    module.setExportPoints(exportPoints);
    StringTokenizer tok=new StringTokenizer(m_module.getName(),".");
    while (tok.hasMoreTokens()) {
      String folder=tok.nextToken();
      path+=folder + "/";
      getCms().createResource(path,CmsResourceTypeFolder.getStaticTypeId());
    }
  }
  return module;
}
