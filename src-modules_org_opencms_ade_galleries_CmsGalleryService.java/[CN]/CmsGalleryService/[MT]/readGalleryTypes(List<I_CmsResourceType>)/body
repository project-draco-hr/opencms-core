{
  Map<String,CmsGalleryTypeInfo> galleryTypeInfos=new HashMap<String,CmsGalleryTypeInfo>();
  Iterator<I_CmsResourceType> iTypes=resourceTypes.iterator();
  while (iTypes.hasNext()) {
    I_CmsResourceType contentType=iTypes.next();
    Iterator<I_CmsResourceType> galleryTypes=contentType.getGalleryTypes().iterator();
    while (galleryTypes.hasNext()) {
      try {
        I_CmsResourceType galleryType=galleryTypes.next();
        if (galleryTypeInfos.containsKey(galleryType.getTypeName())) {
          CmsGalleryTypeInfo typeInfo=galleryTypeInfos.get(galleryType.getTypeName());
          typeInfo.addContentType(contentType);
        }
 else {
          CmsGalleryTypeInfo typeInfo;
          typeInfo=new CmsGalleryTypeInfo(galleryType,contentType,getGalleriesByType(galleryType.getTypeId()));
          galleryTypeInfos.put(galleryType.getTypeName(),typeInfo);
        }
      }
 catch (      CmsException e) {
        logError(e);
      }
    }
  }
  return galleryTypeInfos;
}
