{
  LinkedHashMap<String,CmsTypesListInfoBean> map=new LinkedHashMap<String,CmsTypesListInfoBean>();
  if (types == null) {
    return map;
  }
  Iterator<I_CmsResourceType> it=types.iterator();
  while (it.hasNext()) {
    I_CmsResourceType type=it.next();
    CmsTypesListInfoBean bean=new CmsTypesListInfoBean();
    bean.setId(type.getTypeName());
    Locale wpLocale=getWorkplaceLocale();
    bean.setTypeNiceName(CmsWorkplaceMessages.getResourceTypeDescription(wpLocale,type.getTypeName()));
    bean.setTitle(CmsWorkplaceMessages.getResourceTypeName(wpLocale,type.getTypeName()));
    bean.setSubTitle(CmsWorkplaceMessages.getResourceTypeDescription(wpLocale,type.getTypeName()));
    String iconPath=CmsWorkplace.getResourceUri(CmsWorkplace.RES_PATH_FILETYPES + OpenCms.getWorkplaceManager().getExplorerTypeSetting(type.getTypeName()).getIcon());
    bean.setIconResource(iconPath);
    ArrayList<String> galleryNames=new ArrayList<String>();
    Iterator<I_CmsResourceType> galleryTypes=type.getGalleryTypes().iterator();
    while (galleryTypes.hasNext()) {
      I_CmsResourceType galleryType=galleryTypes.next();
      galleryNames.add(galleryType.getTypeName());
    }
    bean.setGalleryTypeNames(galleryNames);
    map.put(type.getTypeName(),bean);
  }
  return map;
}
