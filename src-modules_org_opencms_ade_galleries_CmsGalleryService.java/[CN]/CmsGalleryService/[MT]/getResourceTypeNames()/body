{
  if (m_resourceTypeNames == null) {
    try {
      JSONObject data=CmsGalleryProvider.get().getData(getRequest());
      String typesString=data.optString(I_CmsGalleryProviderConstants.ReqParam.types.name());
      String[] typesArray=CmsStringUtil.splitAsArray(typesString,",");
      m_resourceTypeNames=new JSONArray(typesArray);
    }
 catch (    JSONException e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
    if ((m_resourceTypeNames == null) || (m_resourceTypeNames.length() == 0)) {
      m_resourceTypes=getResourceManager().getResourceTypes();
      m_resourceTypeNames=new JSONArray();
      for (      I_CmsResourceType type : m_resourceTypes) {
        m_resourceTypeNames.put(type.getTypeName());
      }
    }
  }
  return m_resourceTypeNames;
}
