{
  ArrayList<CmsListInfoBean> list=new ArrayList<CmsListInfoBean>();
  if ((searchResult == null) || (searchResult.size() == 0)) {
    return list;
  }
  Iterator<CmsGallerySearchResult> iSearchResult=searchResult.iterator();
  while (iSearchResult.hasNext()) {
    try {
      Locale wpLocale=getWorkplaceLocale();
      CmsGallerySearchResult sResult=iSearchResult.next();
      CmsListInfoBean bean=new CmsListInfoBean();
      String path=sResult.getPath();
      path=getCmsObject().getRequestContext().removeSiteRoot(path);
      String fileIcon=getFileIconName(path);
      String iconPath=CmsWorkplace.RES_PATH_FILETYPES;
      if (CmsStringUtil.isEmptyOrWhitespaceOnly(fileIcon)) {
        iconPath+=OpenCms.getWorkplaceManager().getExplorerTypeSetting(sResult.getResourceType()).getIcon();
      }
 else {
        iconPath+="mimetype/" + fileIcon;
      }
      iconPath=CmsWorkplace.getResourceUri(iconPath);
      bean.setTitle(sResult.getTitle());
      I_CmsResourceType type=OpenCms.getResourceManager().getResourceType(sResult.getResourceType());
      bean.setSubTitle(CmsWorkplaceMessages.getResourceTypeName(wpLocale,type.getTypeName()));
      list.add(bean);
    }
 catch (    Exception e) {
      if (LOG.isErrorEnabled()) {
        LOG.error(e.getLocalizedMessage(),e);
      }
    }
  }
  return list;
}
