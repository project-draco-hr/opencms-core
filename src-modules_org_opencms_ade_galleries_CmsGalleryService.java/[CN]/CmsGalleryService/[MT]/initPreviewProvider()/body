{
  m_previewProvider=new HashMap<String,I_CmsPreviewProvider>();
  m_typeProviderMapping=new HashMap<I_CmsResourceType,I_CmsPreviewProvider>();
  for (  I_CmsResourceType type : getResourceTypes()) {
    String providerClass=type.getGalleryPreviewProvider().trim();
    try {
      if (m_previewProvider.containsKey(providerClass)) {
        m_typeProviderMapping.put(type,m_previewProvider.get(providerClass));
      }
 else {
        I_CmsPreviewProvider previewProvider=(I_CmsPreviewProvider)Class.forName(providerClass).newInstance();
        m_previewProvider.put(providerClass,previewProvider);
        m_typeProviderMapping.put(type,previewProvider);
      }
    }
 catch (    Exception e) {
      log(e.getLocalizedMessage(),e);
    }
  }
}
