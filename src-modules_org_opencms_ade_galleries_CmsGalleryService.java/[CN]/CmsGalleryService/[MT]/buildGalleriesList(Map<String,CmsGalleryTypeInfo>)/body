{
  ArrayList<CmsListInfoBean> list=new ArrayList<CmsListInfoBean>();
  if (galleryTypes == null) {
    return list;
  }
  Iterator<Entry<String,CmsGalleryTypeInfo>> iGalleryTypes=galleryTypes.entrySet().iterator();
  while (iGalleryTypes.hasNext()) {
    Entry<String,CmsGalleryTypeInfo> ent=iGalleryTypes.next();
    CmsGalleryTypeInfo tInfo=ent.getValue();
    String iconPath=CmsWorkplace.getResourceUri(CmsWorkplace.RES_PATH_FILETYPES + OpenCms.getWorkplaceManager().getExplorerTypeSetting(tInfo.getResourceType().getTypeName()).getIcon());
    JSONArray contentTypes=new JSONArray();
    Iterator<I_CmsResourceType> it=tInfo.getContentTypes().iterator();
    while (it.hasNext()) {
      contentTypes.put(it.next().getTypeId());
    }
    Iterator<CmsResource> ir=tInfo.getGalleries().iterator();
    while (ir.hasNext()) {
      CmsResource res=ir.next();
      CmsListInfoBean bean=new CmsListInfoBean();
      String sitePath=getCmsObject().getSitePath(res);
      String title="";
      try {
        title=getCmsObject().readPropertyObject(sitePath,CmsPropertyDefinition.PROPERTY_TITLE,false).getValue("");
      }
 catch (      CmsException e) {
        if (LOG.isErrorEnabled()) {
          LOG.error(e.getLocalizedMessage(),e);
        }
      }
      bean.setTitle(title);
      bean.setSubTitle(sitePath);
      list.add(bean);
    }
  }
  return list;
}
