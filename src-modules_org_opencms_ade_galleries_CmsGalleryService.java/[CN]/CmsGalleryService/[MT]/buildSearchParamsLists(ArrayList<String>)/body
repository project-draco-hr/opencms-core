{
  CmsGalleryDialogBean bean=new CmsGalleryDialogBean();
  bean.setTabs(tabs);
  Map<String,CmsGalleryTypeInfo> galleryTypes=readGalleryTypes(getResourceTypes());
  if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_galleries.name())) {
    ArrayList<CmsGalleriesListInfoBean> galleries=buildGalleriesList(galleryTypes);
    bean.setGalleries(galleries);
  }
  if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_types.name())) {
    ArrayList<CmsTypesListInfoBean> types=buildTypesList(getResourceTypes());
    bean.setTypes(types);
  }
  if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_categories.name())) {
    List<CmsResource> galleryFolders=new ArrayList<CmsResource>();
    Iterator<Entry<String,CmsGalleryTypeInfo>> iGalleryTypes=galleryTypes.entrySet().iterator();
    while (iGalleryTypes.hasNext()) {
      galleryFolders.addAll(iGalleryTypes.next().getValue().getGalleries());
    }
    CmsCategoryTreeEntry category=readCategoriesTree(galleryFolders);
    bean.setCategories(category);
  }
  if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_sitemap.name())) {
  }
  if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_vfstree.name())) {
  }
  if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_containerpage.name())) {
  }
  bean.setLocales(buildLocalesMap());
  return bean;
}
