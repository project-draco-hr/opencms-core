{
  List<String> types=searchData.getTypes();
  List<String> galleries=searchData.getGalleries();
  List<String> categories=searchData.getCategories();
  String queryStr=searchData.getQuery();
  int matches=searchData.getMachesPerPage();
  CmsGallerySearchParameters.CmsGallerySortParam sortOrder;
  String temp=searchData.getSortOrder();
  try {
    sortOrder=CmsGallerySearchParameters.CmsGallerySortParam.valueOf(temp);
  }
 catch (  Exception e) {
    sortOrder=CmsGallerySearchParameters.CmsGallerySortParam.DEFAULT;
  }
  int page=searchData.getPage();
  String locale=searchData.getLocale();
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(locale)) {
    locale=getCmsObject().getRequestContext().getLocale().toString();
  }
  CmsGallerySearchParameters params=new CmsGallerySearchParameters();
  if (!CmsStringUtil.isEmptyOrWhitespaceOnly(queryStr)) {
    params.setSearchWords(queryStr);
  }
  params.setSearchLocale(locale);
  params.setSortOrder(sortOrder);
  params.setMatchesPerPage(matches);
  params.setResultPage(page);
  if (types != null) {
    params.setResourceTypes(types);
  }
  if (categories != null) {
    params.setCategories(categories);
  }
  if (galleries != null) {
    params.setGalleries(galleries);
  }
  return params;
}
