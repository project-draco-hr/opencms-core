{
  if (mode == null) {
    mode=Mode.NORMAL;
  }
  final String restoreMessage;
  if (CmsNotification.shouldRestoreMessage(m_mode,mode,m_type,type)) {
    restoreMessage=getMessage();
  }
 else {
    restoreMessage=null;
  }
  hide(true);
  final Type oldType=m_type;
  m_type=type;
  m_mode=mode;
  setMessage(message);
  setClassForType(type);
  animateShow();
  if (Mode.NORMAL.equals(m_mode) || CmsStringUtil.isNotEmptyOrWhitespaceOnly(restoreMessage)) {
    m_timer=new Timer(){
      /** 
 * @see com.google.gwt.user.client.Timer#run()
 */
      @Override public void run(){
        hide(false);
        if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(restoreMessage)) {
          show(Mode.STICKY,oldType,restoreMessage);
        }
      }
    }
;
    m_timer.schedule(3000 * (type == Type.NORMAL ? 1 : 2));
  }
}
