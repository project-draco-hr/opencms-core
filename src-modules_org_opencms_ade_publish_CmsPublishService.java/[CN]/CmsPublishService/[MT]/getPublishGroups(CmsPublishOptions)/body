{
  CmsPublishGroups result=new CmsPublishGroups();
  CmsObject cms=this.getCmsObject();
  CmsPublish pub=new CmsPublish(cms);
  CmsPublishOptions serverOptions=pub.getOptions();
  serverOptions.setIncludeRelated(options.isIncludeRelated());
  serverOptions.setIncludeSiblings(options.isIncludeSiblings());
  serverOptions.setProjectId(options.getProjectId());
  setCachedOptions(serverOptions);
  List<CmsPublishGroupBean> groups=pub.getPublishGroups();
  for (  CmsPublishGroupBean group : groups) {
    String groupName=group.getName();
    List<CmsPublishResourceBean> resourceBeans=group.getResources();
    List<CmsClientPublishResourceBean> clientBeans=toClientResourceBeans(resourceBeans);
    result.addGroup(groupName,clientBeans);
  }
  return result;
}
