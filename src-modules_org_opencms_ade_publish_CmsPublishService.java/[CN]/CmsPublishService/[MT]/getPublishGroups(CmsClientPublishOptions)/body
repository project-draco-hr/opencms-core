{
  CmsPublishGroups result=new CmsPublishGroups();
  CmsObject cms=this.getCmsObject();
  CmsADEPublish pub=new CmsADEPublish(cms);
  CmsPublishOptions serverOptions=pub.getOptions();
  serverOptions.setIncludeRelated(options.isIncludeRelated());
  serverOptions.setIncludeSiblings(options.isIncludeSiblings());
  String project=options.getProject();
  CmsUUID projectId=null;
  if ((project != null) && !project.equals("")) {
    projectId=new CmsUUID(project);
  }
  serverOptions.setProjectId(projectId);
  getSessionCache().setCachePublishOptions(serverOptions);
  List<CmsPublishGroupBean> groups=pub.getPublishGroups();
  for (  CmsPublishGroupBean group : groups) {
    String groupName=group.getName();
    List<CmsPublishResourceBean> resourceBeans=group.getResources();
    List<CmsClientPublishResourceBean> clientBeans=toClientResourceBeans(resourceBeans);
    result.addGroup(groupName,clientBeans);
  }
  return result;
}
