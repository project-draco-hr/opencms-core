{
  List ret=new ArrayList();
  boolean withOtherOus=hasPrincipalsInOtherOus() && getList().getMetadata().getItemDetailDefinition(LIST_DETAIL_OTHEROU).isVisible();
  List principals=getPrincipals(withOtherOus);
  Iterator itPrincipals=principals.iterator();
  while (itPrincipals.hasNext()) {
    I_CmsPrincipal principal=(I_CmsPrincipal)itPrincipals.next();
    CmsListItem item=getList().newItem(principal.getId().toString());
    item.set(LIST_COLUMN_NAME,principal.getName());
    item.set(LIST_COLUMN_DISPLAY,principal.getSimpleName());
    if (principal.isUser()) {
      if (principal.getId().equals(CmsAccessControlEntry.PRINCIPAL_ALL_OTHERS_ID) || principal.getId().equals(CmsAccessControlEntry.PRINCIPAL_OVERWRITE_ALL_ID)) {
        item.set(LIST_COLUMN_DESCRIPTION,((CmsUser)principal).getDescription(getLocale()));
      }
 else {
        item.set(LIST_COLUMN_DESCRIPTION,((CmsUser)principal).getFullName());
      }
    }
 else {
      item.set(LIST_COLUMN_DESCRIPTION,((CmsGroup)principal).getDescription(getLocale()));
    }
    item.set(LIST_COLUMN_ORGUNIT,CmsOrganizationalUnit.SEPARATOR + principal.getOuFqn());
    ret.add(item);
  }
  return ret;
}
