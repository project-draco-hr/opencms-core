{
  Map<Locale,I_CmsContainerPageBean> result=new HashMap<Locale,I_CmsContainerPageBean>();
  Iterator<Locale> itLocales=content.getLocales().iterator();
  while (itLocales.hasNext()) {
    Locale locale=itLocales.next();
    CmsContainerPageBean cntPage=new CmsContainerPageBean(locale);
    Iterator<I_CmsXmlContentValue> itContainers=content.getValues(CmsXmlContainerPage.N_CONTAINER,locale).iterator();
    while (itContainers.hasNext()) {
      I_CmsXmlContentValue container=itContainers.next();
      String containerPath=container.getPath();
      String name=content.getValue(CmsXmlUtils.concatXpath(containerPath,CmsXmlContainerPage.N_NAME),locale).getStringValue(cms);
      String type=content.getValue(CmsXmlUtils.concatXpath(containerPath,CmsXmlContainerPage.N_TYPE),locale).getStringValue(cms);
      CmsContainerBean cnt=new CmsContainerBean(name,type,-1);
      Iterator<I_CmsXmlContentValue> itElements=content.getValues(CmsXmlUtils.concatXpath(containerPath,CmsXmlContainerPage.N_ELEMENT),locale).iterator();
      while (itElements.hasNext()) {
        I_CmsXmlContentValue element=itElements.next();
        String elementPath=element.getPath();
        String elemUri=content.getValue(CmsXmlUtils.concatXpath(elementPath,CmsXmlContainerPage.N_URI),locale).getStringValue(cms);
        CmsResource elemRes=cms.readResource(elemUri);
        String formatter=content.getValue(CmsXmlUtils.concatXpath(elementPath,CmsXmlContainerPage.N_FORMATTER),locale).getStringValue(cms);
        CmsResource formatterRes=cms.readResource(formatter);
        HashMap<String,String> properties=new HashMap<String,String>();
        Iterator<I_CmsXmlContentValue> itProperties=content.getValues(CmsXmlUtils.concatXpath(elementPath,CmsXmlContainerPage.N_PROPERTIES),locale).iterator();
        while (itProperties.hasNext()) {
          I_CmsXmlContentValue property=itProperties.next();
          String propertyPath=property.getPath();
          String propertyName=content.getValue(CmsXmlUtils.concatXpath(propertyPath,CmsXmlContainerPage.N_NAME),locale).getStringValue(cms);
          List<I_CmsXmlContentValue> propertyValues=content.getSubValues(CmsXmlUtils.concatXpath(propertyPath,CmsXmlContainerPage.N_VALUE),locale);
          String propertyValue=null;
          if (propertyValues.size() >= 1) {
            propertyValue=propertyValues.get(0).getStringValue(cms);
          }
          if (propertyValue != null) {
            properties.put(propertyName,propertyValue);
          }
        }
        I_CmsContainerElementBean elem=new CmsContainerElementBean(elemRes,formatterRes,properties);
        cacheContainerElement(elem.getClientId(),elem);
        cnt.addElement(elem);
      }
      cntPage.addContainer(cnt);
    }
    result.put(locale,cntPage);
  }
  return result;
}
