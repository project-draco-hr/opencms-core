{
  CmsProject project=m_projectRb.readProject(id);
  if (isAdmin(currentUser,currentProject) || isManagerOfProject(currentUser,project) || (project.getFlags() == C_PROJECT_STATE_UNLOCKED)) {
    m_fileRb.unlockProject(project);
    project.clearCountLockedResources();
    m_projectRb.writeProject(project);
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ id,CmsException.C_NO_ACCESS);
  }
}
