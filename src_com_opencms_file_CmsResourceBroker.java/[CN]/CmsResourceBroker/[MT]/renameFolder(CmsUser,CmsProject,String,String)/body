{
  validFilename(newname);
  CmsResource file=readFileHeader(currentUser,currentProject,oldname);
  if (accessWrite(currentUser,currentProject,file)) {
    m_fileRb.renameFolder(currentProject,onlineProject(currentUser,currentProject),oldname,file.getPath() + newname);
    m_metadefRb.writeMetainformations(m_metadefRb.readAllMetainformations(file),currentProject.getId(),file.getPath() + newname,file.getType());
    fileSystemChanged(currentProject.getName(),oldname);
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ oldname,CmsException.C_ACCESS_DENIED);
  }
}
