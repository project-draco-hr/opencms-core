{
  CmsResource onlineRes=m_fileRb.readFileHeader(onlineProject,resource);
  m_fileRb.copyResourceToProject(offlineProject,onlineProject,resource);
  fileSystemChanged(offlineProject.getName(),resource);
  CmsResource offlineRes=m_fileRb.readFileHeader(offlineProject,resource);
  m_metadefRb.writeMetainformations(offlineRes,m_metadefRb.readAllMetainformations(onlineRes));
  if (onlineRes.isFolder()) {
    Vector files=m_fileRb.getFilesInFolder(onlineProject,resource);
    Vector folders=m_fileRb.getSubFolders(onlineProject,resource);
    for (int i=0; i < files.size(); i++) {
      helperCopyResourceToProject(onlineProject,offlineProject,((CmsResource)files.elementAt(i)).getAbsolutePath());
    }
    for (int i=0; i < folders.size(); i++) {
      helperCopyResourceToProject(onlineProject,offlineProject,((CmsResource)folders.elementAt(i)).getAbsolutePath());
    }
  }
}
