{
  System.err.println("Check write access to resource " + resource);
  System.err.println("Check if online project");
  if (onlineProject(currentUser,currentProject).equals(currentProject)) {
    return (false);
  }
  System.err.println("Check if access project " + currentProject);
  if (!accessProject(currentUser,currentProject,currentProject.getName())) {
    return (false);
  }
  System.err.println("Check if locked by other " + resource.isLockedBy() + " : "+ currentUser.getId());
  if (resource.isLockedBy() != currentUser.getId()) {
    return (false);
  }
  System.err.println("Check if parent folder readable");
  if (resource.getParent() != null) {
    resource=m_fileRb.readFolder(currentProject,resource.getParent());
  }
 else {
    return true;
  }
  do {
    System.err.println("Check access for " + resource);
    if (accessOther(currentUser,currentProject,resource,C_ACCESS_PUBLIC_WRITE) || accessOwner(currentUser,currentProject,resource,C_ACCESS_OWNER_WRITE) || accessGroup(currentUser,currentProject,resource,C_ACCESS_GROUP_WRITE)) {
      if (resource.isLocked()) {
        return (false);
      }
      if (resource.getParent() != null) {
        resource=m_fileRb.readFolder(currentProject,resource.getParent());
      }
    }
 else {
      return (false);
    }
  }
 while (resource.getParent() != null);
  return (true);
}
