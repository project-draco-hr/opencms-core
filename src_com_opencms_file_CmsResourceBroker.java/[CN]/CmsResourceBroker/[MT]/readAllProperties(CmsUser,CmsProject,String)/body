{
  CmsResource res;
  try {
    res=m_fileRb.readFileHeader(currentProject,resource);
  }
 catch (  CmsException exc) {
    if (currentProject.equals(onlineProject(currentUser,currentProject))) {
      throw exc;
    }
 else {
      res=m_fileRb.readFileHeader(onlineProject(currentUser,currentProject),resource);
    }
  }
  if (!accessRead(currentUser,currentProject,res)) {
    throw new CmsException("[" + this.getClass().getName() + "] "+ resource,CmsException.C_NO_ACCESS);
  }
  return (m_metadefRb.readAllMetainformations(res));
}
