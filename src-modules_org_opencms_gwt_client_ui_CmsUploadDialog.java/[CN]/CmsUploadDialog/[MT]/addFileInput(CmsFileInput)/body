{
  if (fileInput != null) {
    addFiles(fileInput);
  }
  m_state=DialogState.selection;
  m_okButton.enable();
  displayDialogInfo(Messages.get().key(Messages.GUI_UPLOAD_INFO_SELECTION_0),false);
  updateSummary();
  CmsUploadButton uploadButton=new CmsUploadButton(this);
  uploadButton.setText(Messages.get().key(Messages.GUI_UPLOAD_BUTTON_ADD_FILES_0));
  m_fileInputPanel.add(uploadButton);
  center();
  m_fileInputPanel.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().fileInputPanel());
  m_fileInputPanel.getElement().getStyle().setHeight(uploadButton.getOffsetHeight(),Unit.PX);
  m_fileInputPanel.getElement().getStyle().setWidth(uploadButton.getOffsetWidth(),Unit.PX);
  setHeight();
  center();
}
