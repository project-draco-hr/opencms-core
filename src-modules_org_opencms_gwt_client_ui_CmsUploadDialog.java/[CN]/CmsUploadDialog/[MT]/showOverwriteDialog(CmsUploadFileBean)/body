{
  m_state=DialogState.overwrite;
  m_okButton.enable();
  setDialogInfo("The following files are already existent on the VFS of OpenCms. You can choose those files that should be overwritten in the list bellow.",true);
  m_form.getElement().getStyle().setDisplay(Display.NONE);
  List<CmsFileInfo> existings=getFilesForFilenames(m_filesToUpload,infoBean.getExistingResourceNames());
  Map<String,CmsFileInfo> existingFiles=createFileMapFromList(existings);
  rebuildList(existingFiles);
  List<String> invalids=new ArrayList<String>(infoBean.getInvalidFileNames());
  Collections.sort(invalids,String.CASE_INSENSITIVE_ORDER);
  Map<String,String> beans=getResourceTypes(invalids);
  for (  String filename : invalids) {
    addFileToList(m_filesToUpload.get(filename),beans.get(filename),true);
    m_filesToUpload.remove(filename);
  }
  setHeight();
}
