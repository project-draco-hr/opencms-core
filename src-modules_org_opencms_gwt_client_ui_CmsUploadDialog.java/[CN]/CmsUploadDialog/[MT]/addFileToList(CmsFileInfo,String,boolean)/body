{
  CmsListInfoBean infoBean=new CmsListInfoBean(file.getFileName(),formatBytes(file.getFileSize()),null);
  CmsListItemWidget listItemWidget=new CmsListItemWidget(infoBean);
  listItemWidget.setIcon(CmsIconUtil.getResourceIconClasses(resType,file.getFileName(),false));
  CmsCheckBox check=new CmsCheckBox();
  check.setChecked(false);
  if (!invalid) {
    if (m_filesToUpload.containsKey(file.getFileName())) {
      check.setChecked(true);
    }
    check.setTitle(file.getFileName());
    addClickHandlerToCheckBox(check,file);
  }
 else {
    check.getElement().getStyle().setVisibility(Visibility.HIDDEN);
  }
  CmsListItem listItem=new CmsListItem();
  listItem.initContent(check,listItemWidget);
  m_contentWrapper.add(listItem);
  m_listItems.put(file.getFileName(),listItem);
}
