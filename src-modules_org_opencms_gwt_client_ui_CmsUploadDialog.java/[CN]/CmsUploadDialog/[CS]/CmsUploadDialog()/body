{
  setText("Upload files");
  setModal(true);
  setGlassEnabled(true);
  catchNotifications();
  setWidth("439px");
  addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().uploadDialogContent());
  createButtons();
  m_filesToUpload=new HashMap<String,CmsFileInfo>();
  m_form=new FormPanel();
  m_form.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().uploadForm());
  m_form.setAction(CmsCoreProvider.get().getUploadUri());
  m_form.setEncoding(FormPanel.ENCODING_MULTIPART);
  m_form.setMethod(FormPanel.METHOD_POST);
  m_formHandler=new CmsUploadHandler();
  m_form.addSubmitCompleteHandler(m_formHandler);
  m_fileInputPanel=new FlowPanel();
  m_form.setWidget(m_fileInputPanel);
  addButton(m_form);
  m_targetFolder="/demo_t3/";
  final Hidden targetFolder=new Hidden();
  targetFolder.setName("upload_target_folder");
  targetFolder.setValue(m_targetFolder);
  m_fileInputPanel.add(targetFolder);
  FlowPanel mainPanel=new FlowPanel();
  m_dialogInfo=new HTML();
  m_dialogInfo.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().dialogInfo());
  mainPanel.add(m_dialogInfo);
  m_contentWrapper=new FlowPanel();
  m_contentWrapper.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().mainContentWidget());
  m_contentWrapper.addStyleName(I_CmsLayoutBundle.INSTANCE.generalCss().cornerAll());
  mainPanel.add(m_contentWrapper);
  m_selectionSummary=new HTML();
  m_selectionSummary.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().summary());
  mainPanel.add(m_selectionSummary);
  setContent(mainPanel);
}
