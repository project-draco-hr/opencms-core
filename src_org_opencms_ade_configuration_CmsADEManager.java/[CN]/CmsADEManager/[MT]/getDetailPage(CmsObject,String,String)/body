{
  boolean online=cms.getRequestContext().getCurrentProject().isOnlineProject();
  CmsConfigurationCache cache=online ? m_onlineCache : m_offlineCache;
  String resType=cache.getParentFolderType(pageRootPath);
  if (resType == null) {
    return null;
  }
  String originRootPath=cms.getRequestContext().addSiteRoot(originPath);
  CmsADEConfigData configData=lookupConfiguration(cms,originRootPath);
  List<CmsDetailPageInfo> pageInfo=configData.getDetailPagesForType(resType);
  if ((pageInfo == null) || pageInfo.isEmpty()) {
    configData=lookupConfiguration(cms,pageRootPath);
    pageInfo=configData.getDetailPagesForType(resType);
    if ((pageInfo == null) || pageInfo.isEmpty()) {
      return null;
    }
  }
  return pageInfo.get(0).getUri();
}
