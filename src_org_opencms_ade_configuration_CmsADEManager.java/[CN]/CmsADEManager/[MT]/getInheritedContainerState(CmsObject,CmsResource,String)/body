{
  String rootPath=resource.getRootPath();
  if (!resource.isFolder()) {
    rootPath=CmsResource.getParentFolder(rootPath);
  }
  CmsInheritedContainerState result=new CmsInheritedContainerState();
  boolean online=cms.getRequestContext().getCurrentProject().isOnlineProject();
  CmsContainerConfigurationCache cache=online ? m_onlineContainerConfigurationCache : m_offlineContainerConfigurationCache;
  result.addConfigurations(cache,rootPath,name,cms.getRequestContext().getLocale());
  return result;
}
