{
  if (m_uptodateModules == null) {
    m_uptodateModules=new ArrayList();
    m_modulesToUpdate=new ArrayList();
    Map installedModules=getInstalledModules();
    Map availableModules=getAvailableModules();
    Iterator itMods=availableModules.keySet().iterator();
    while (itMods.hasNext()) {
      String name=(String)itMods.next();
      CmsModuleVersion instVer=(CmsModuleVersion)installedModules.get(name);
      CmsModuleVersion availVer=((CmsModule)availableModules.get(name)).getVersion();
      boolean uptodate=(instVer != null && instVer.compareTo(availVer) >= 0);
      if (uptodate) {
        m_uptodateModules.add(name);
      }
 else {
        m_modulesToUpdate.add(name);
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug(name + " --- installed: " + instVer+ " available: "+ availVer+ " --- uptodate: "+ uptodate);
      }
    }
  }
  return m_uptodateModules;
}
