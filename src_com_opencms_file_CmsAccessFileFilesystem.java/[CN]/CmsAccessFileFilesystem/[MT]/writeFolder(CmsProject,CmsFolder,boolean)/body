{
  String foldername=absoluteName(folder.getAbsolutePath(),project);
  String folderheadername=getFileHeaderName(foldername);
  int state=folder.getState();
  if ((state == C_STATE_NEW) || (state == C_STATE_CHANGED)) {
    folder.setState(state);
  }
 else {
    if (changed == true) {
      folder.setState(C_STATE_CHANGED);
    }
 else {
      folder.setState(state);
    }
  }
  byte[] value=getFileHeaderContent(folder);
  File diskFile=new File(folderheadername);
  try {
    OutputStream s=new FileOutputStream(diskFile);
    s.write(value);
    s.close();
  }
 catch (  Exception e) {
    throw new CmsException("[" + this.getClass().getName() + "] "+ e.getMessage());
  }
}
