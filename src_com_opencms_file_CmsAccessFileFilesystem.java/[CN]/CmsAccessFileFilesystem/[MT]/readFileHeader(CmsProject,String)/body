{
  CmsFile file=null;
  File discFile=new File(absoluteName(filename,project));
  if (discFile.exists()) {
    String fileheadername=getFileHeaderName(absoluteName(filename,project));
    File discFileHeader=new File(fileheadername);
    if (discFileHeader.exists()) {
      try {
        InputStream s=new FileInputStream(discFileHeader);
        byte[] discFileHeaderContent=new byte[(new Long(discFileHeader.length())).intValue()];
        int result=s.read(discFileHeaderContent);
        if (result != -1) {
          file=(CmsFile)setFileHeaderContent(discFileHeaderContent);
        }
        s.close();
      }
 catch (      Exception e) {
        throw new CmsException("[" + this.getClass().getName() + "] "+ filename+ e.getMessage());
      }
    }
 else {
      int type;
      if (discFile.isFile()) {
        type=m_mountpoint.getType();
      }
 else {
        type=C_TYPE_FOLDER;
      }
      file=new CmsFile(filename,type,m_mountpoint.getFlags(),m_mountpoint.getUser(),m_mountpoint.getGroup(),m_mountpoint.getProject(),m_mountpoint.getAccessFlags(),C_STATE_UNCHANGED,C_UNKNOWN_ID,m_mountpoint.getLauncherId(),m_mountpoint.getLauncherClass(),discFile.lastModified(),discFile.lastModified(),new byte[0],new Long(discFile.length()).intValue());
    }
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ filename,CmsException.C_NOT_FOUND);
  }
  return file;
}
