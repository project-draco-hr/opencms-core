{
  String filename=absoluteName(file.getAbsolutePath(),project);
  String fileheadername=getFileHeaderName(filename);
  CmsFile fileheader=(CmsFile)file.clone();
  fileheader.setContents(new byte[0]);
  int state=file.getState();
  if ((state == C_STATE_NEW) || (state == C_STATE_CHANGED)) {
    fileheader.setState(state);
  }
 else {
    if (changed == true) {
      fileheader.setState(C_STATE_CHANGED);
    }
 else {
      fileheader.setState(state);
    }
  }
  byte[] value=getFileHeaderContent(fileheader);
  File diskFile=new File(fileheadername);
  try {
    OutputStream s=new FileOutputStream(diskFile);
    s.write(value);
    s.close();
  }
 catch (  Exception e) {
    throw new CmsException("[" + this.getClass().getName() + "] "+ e.getMessage());
  }
}
