{
  Properties additionalTags=new Properties();
  additionalTags.put("new-empty-tags","o:SmartTagType, o:smarttagtype");
  additionalTags.put("new-inline-tags","o:SmartTagType, o:smarttagtype");
  m_tidy.getConfiguration().addProps(additionalTags);
  m_tidy.setTidyMark(false);
  m_tidy.setMakeClean(true);
  m_tidy.setNumEntities(true);
  m_tidy.setPrintBodyOnly(true);
switch (m_mode) {
case C_MODE_HMTL:
    m_tidy.setXHTML(false);
  m_tidy.setWord2000(false);
break;
case C_MODE_XHTML:
m_tidy.setXHTML(true);
m_tidy.setWord2000(true);
break;
case C_MODE_WORD:
m_tidy.setXHTML(false);
m_tidy.setWord2000(true);
break;
default :
break;
}
}
