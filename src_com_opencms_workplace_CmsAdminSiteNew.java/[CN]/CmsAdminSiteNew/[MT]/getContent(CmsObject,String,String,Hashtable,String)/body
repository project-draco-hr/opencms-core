{
  CmsXmlTemplateFile xmlTemplateDocument=getOwnTemplateFile(cms,templateFile,elementName,parameters,templateSelector);
  if (parameters.get("submitform") != null) {
    if (((String)parameters.get("NAME")).equals("") || ((String)parameters.get("DOMAINNAME")).equals("") || ((String)parameters.get("DESCRIPTION")).equals("")) {
      templateSelector="datamissing";
    }
 else {
      cms.newSite((String)parameters.get("NAME"),(String)parameters.get("DESCRIPTION"),Integer.parseInt((String)parameters.get("CATEGORY")),Integer.parseInt((String)parameters.get("LANGUAGE")),Integer.parseInt((String)parameters.get("DOMAIN")),(String)parameters.get("DOMAINNAME"),(String)parameters.get("MANAGERGROUP"),(String)parameters.get("GROUP"));
      templateSelector="wait";
    }
  }
  return startProcessing(cms,xmlTemplateDocument,elementName,parameters,templateSelector);
}
