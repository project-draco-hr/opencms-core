{
  m_childWidth=widgetWidth;
  m_tmPrefix=textMetricsPrefix;
  int width=widgetWidth - 4;
  if (m_openClose != null) {
    width-=16;
  }
  if (m_iconPanel.isVisible()) {
    width-=32;
  }
  if (width < 0) {
    width=0;
  }
  m_title.truncate(textMetricsPrefix + TM_TITLE,width - 10);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(m_subtitleSuffix.getText())) {
    m_subtitleSuffix.getElement().getStyle().clearWidth();
    int suffixWidth=m_subtitleSuffix.getOffsetWidth();
    CmsDebugLog.getInstance().printLine("suffix '" + m_subtitleSuffix.getText() + "' width: "+ suffixWidth);
    if (suffixWidth <= 0) {
      suffixWidth=100;
      m_subtitleSuffix.truncate(textMetricsPrefix + "_STSUFFIX",suffixWidth);
    }
    if (suffixWidth > 200) {
      suffixWidth=200;
      m_subtitleSuffix.truncate(textMetricsPrefix + "_STSUFFIX",suffixWidth);
    }
    m_subtitle.truncate(textMetricsPrefix + TM_SUBTITLE,width - suffixWidth - 10);
  }
 else {
    m_subtitle.truncate(textMetricsPrefix + TM_SUBTITLE,width - 10);
  }
  for (  Widget addInfo : m_additionalInfo) {
    ((AdditionalInfoItem)addInfo).truncate(textMetricsPrefix,widgetWidth - 10);
  }
}
