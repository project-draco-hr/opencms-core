{
  HashMap parameters=new HashMap();
  String params[]=Utils.split(query,"&");
  for (int i=0; i < params.length; i++) {
    String pair[]=Utils.split(params[i],"=");
    String[] p=(String[])parameters.get(pair[0]);
    if (p == null) {
      p=new String[]{pair[1]};
    }
 else {
      String[] p2=new String[p.length + 1];
      System.arraycopy(p,0,p2,0,p.length);
      p2[p2.length - 1]=pair[1];
      p=p2;
    }
    parameters.put(pair[0],p);
  }
  return parameters;
}
