{
  StringBuffer result=new StringBuffer(1024);
  Iterator i=OpenCms.getWorkplaceManager().getExplorerTypeSettings().iterator();
  result.append("<table border=\"0\" cellpadding=\"2\" cellspacing=\"0\">");
  while (i.hasNext()) {
    CmsExplorerTypeSettings currSettings=(CmsExplorerTypeSettings)i.next();
    if (m_page == null) {
      if (CmsStringUtil.isNotEmpty(currSettings.getNewResourcePage())) {
        continue;
      }
    }
 else     if (!m_page.equals(currSettings.getNewResourcePage())) {
      continue;
    }
    if (CmsStringUtil.isEmpty(currSettings.getNewResourceUri())) {
      continue;
    }
    CmsPermissionSet permissions;
    try {
      permissions=currSettings.getAccess().getAccessControlList().getPermissions(getSettings().getUser(),getCms().getGroupsOfUser(getSettings().getUser().getName()));
    }
 catch (    CmsException e) {
      permissions=currSettings.getAccess().getAccessControlList().getPermissions(getSettings().getUser());
      LOG.error(Messages.get().key(Messages.LOG_READ_GROUPS_OF_USER_FAILED_1,getSettings().getUser().getName()));
    }
    if (permissions.getPermissionString().indexOf("+c") == -1) {
      continue;
    }
    result.append("<tr>\n");
    result.append("\t<td><input type=\"radio\" name=\"");
    result.append(PARAM_NEWRESOURCEURI);
    result.append("\"");
    result.append(" value=\"" + CmsEncoder.encode(currSettings.getNewResourceUri()) + "\"");
    if (attributes != null && !"".equals(attributes)) {
      result.append(" " + attributes);
    }
    result.append("></td>\n");
    result.append("\t<td><img src=\"" + getSkinUri() + "filetypes/"+ currSettings.getIcon()+ "\" border=\"0\" title=\""+ key(currSettings.getKey())+ "\"></td>\n");
    result.append("\t<td>" + key(currSettings.getKey()) + "</td>\n");
    result.append("</tr>\n");
  }
  result.append("</table>\n");
  return result.toString();
}
