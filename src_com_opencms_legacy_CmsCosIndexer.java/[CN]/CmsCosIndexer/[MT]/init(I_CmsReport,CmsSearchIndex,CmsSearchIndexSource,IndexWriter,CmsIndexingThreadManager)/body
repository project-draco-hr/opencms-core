{
  String cdClassName=null;
  String resourceType=null;
  CmsSearchDocumentType documentType=null;
  try {
    m_writer=writer;
    m_index=index;
    m_indexSource=indexSource;
    m_report=report;
    m_threadManager=threadManager;
    resourceType=(String)indexSource.getDocumentTypes().get(0);
    documentType=OpenCms.getSearchManager().getDocumentTypeConfig(resourceType);
    cdClassName=(String)documentType.getResourceTypes().get(0);
    m_contentDefinition=(CmsMasterContent)Class.forName(cdClassName).newInstance();
    m_subId=m_contentDefinition.getSubId();
  }
 catch (  Exception exc) {
    throw new CmsIndexException("Indexing contents of class" + cdClassName + " failed.",exc);
  }
}
