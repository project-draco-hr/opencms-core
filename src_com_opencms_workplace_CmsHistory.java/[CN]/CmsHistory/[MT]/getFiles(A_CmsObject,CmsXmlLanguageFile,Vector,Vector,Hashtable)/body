{
  HttpSession session=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getSession(true);
  String filename=(String)session.getValue(C_PARA_FILE);
  if (filename != null) {
    Vector allFiles=cms.readAllFileHeaders(filename);
    System.err.println(allFiles);
    if (allFiles.size() > 0) {
      allFiles=Utils.sort(cms,allFiles,Utils.C_SORT_PUBLISHED_DOWN);
    }
    for (int i=0; i < allFiles.size(); i++) {
      CmsFile file=((CmsFile)allFiles.elementAt(i));
      if (file.getState() != C_STATE_UNCHANGED) {
        A_CmsProject project=cms.readProject(file);
        if (project.getFlags() == this.C_PROJECT_STATE_ARCHIVE) {
          String projectName="unknown Project";
          String projectId="-1";
          if (project != null) {
            projectName=project.getName();
            projectId=project.getId() + "";
          }
          long updated=cms.readProject(file).getPublishingDate();
          String output=Utils.getNiceDate(updated) + ": " + projectName;
          names.addElement(output);
          values.addElement(projectId);
        }
      }
    }
  }
  return new Integer(-1);
}
