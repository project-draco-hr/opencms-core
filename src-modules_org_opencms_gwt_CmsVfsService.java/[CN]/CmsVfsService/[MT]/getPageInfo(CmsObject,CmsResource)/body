{
  CmsListInfoBean result=new CmsListInfoBean();
  result.setResourceState(res.getState());
  String resourceSitePath=cms.getRequestContext().removeSiteRoot(res.getRootPath());
  String title=cms.readPropertyObject(res,CmsPropertyDefinition.PROPERTY_TITLE,false).getValue();
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(title)) {
    result.setTitle(title);
  }
 else {
    result.setTitle(res.getName());
  }
  result.setSubTitle(resourceSitePath);
  String secure=cms.readPropertyObject(res,CmsPropertyDefinition.PROPERTY_SECURE,true).getValue();
  if (Boolean.parseBoolean(secure)) {
    result.setStateIcon(CmsListInfoBean.StateIcon.secure);
  }
 else {
    String export=cms.readPropertyObject(res,CmsPropertyDefinition.PROPERTY_EXPORT,true).getValue();
    if (Boolean.parseBoolean(export)) {
      result.setStateIcon(CmsListInfoBean.StateIcon.export);
    }
 else {
      result.setStateIcon(CmsListInfoBean.StateIcon.standard);
    }
  }
  String resTypeName=OpenCms.getResourceManager().getResourceType(res.getTypeId()).getTypeName();
  String key=OpenCms.getWorkplaceManager().getExplorerTypeSetting(resTypeName).getKey();
  Locale currentLocale=cms.getRequestContext().getLocale();
  CmsMessages messages=OpenCms.getWorkplaceManager().getMessages(currentLocale);
  String resTypeNiceName=messages.key(key);
  result.addAdditionalInfo(messages.key(org.opencms.workplace.commons.Messages.GUI_LABEL_TYPE_0),resTypeNiceName);
  result.setResourceType(resTypeName);
  return result;
}
