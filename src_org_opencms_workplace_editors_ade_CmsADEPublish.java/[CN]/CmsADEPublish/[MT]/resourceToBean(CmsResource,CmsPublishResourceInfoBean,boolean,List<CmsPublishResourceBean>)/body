{
  CmsMessages messages=OpenCms.getWorkplaceManager().getMessages(m_locale);
  CmsResourceUtil resUtil=new CmsResourceUtil(m_cms,resource);
  String itemHtml="";
  if ((m_request != null) && (m_response != null)) {
    try {
      CmsFormatterInfoBean formatterInfo=new CmsFormatterInfoBean(OpenCms.getResourceManager().getResourceType(resource.getTypeId()),false);
      formatterInfo.setResource(resource);
      formatterInfo.setTitleInfo(CmsPublishResourceBean.JsonProperty.TITLE.name().toLowerCase(),messages.key(org.opencms.workplace.explorer.Messages.GUI_INPUT_TITLE_0),resUtil.getTitle());
      formatterInfo.setSubTitleInfo(CmsPublishResourceBean.JsonProperty.URI.name().toLowerCase(),messages.key(org.opencms.workplace.explorer.Messages.GUI_INPUT_PATH_0),CmsStringUtil.formatResourceName(resUtil.getFullPath(),PATH_LENGTH));
      formatterInfo.setIcon(CmsWorkplace.getResourceUri(resUtil.getIconPathExplorer()));
      formatterInfo.addAdditionalInfo(CmsPublishResourceBean.JsonProperty.STATE.name().toLowerCase(),messages.key(org.opencms.workplace.explorer.Messages.GUI_INPUT_STATE_0),resUtil.getStateName());
      Map<String,Object> reqAttributes=new HashMap<String,Object>();
      reqAttributes.put(CmsADEManager.ATTR_FORMATTER_INFO,formatterInfo);
      itemHtml=formatterInfo.getResourceType().getFormattedContent(m_cms,m_request,m_response,I_CmsResourceType.Formatter.PUBLISH_LIST,reqAttributes);
    }
 catch (    Exception e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
  CmsPublishResourceBean pubResource=new CmsPublishResourceBean(resource.getStructureId(),CmsStringUtil.formatResourceName(resUtil.getFullPath(),PATH_LENGTH),resUtil.getTitle(),CmsWorkplace.getResourceUri(resUtil.getIconPathExplorer()),"" + resUtil.getStateAbbreviation(),removable,info,related,itemHtml);
  return pubResource;
}
