{
  Locale locale=cms.getRequestContext().getLocale();
  if (rootPath.startsWith(siteRoot)) {
    rootPath=rootPath.substring(siteRoot.length());
    rootPath=CmsStringUtil.formatResourceName(rootPath,PATH_LENGTH);
  }
 else {
    String site=OpenCms.getSiteManager().getSiteRoot(rootPath);
    String siteName=site;
    if (site != null) {
      rootPath=rootPath.substring(site.length());
      siteName=OpenCms.getSiteManager().getSiteForSiteRoot(site).getTitle();
    }
 else {
      siteName="/";
    }
    rootPath=CmsStringUtil.formatResourceName(rootPath,PATH_LENGTH);
    rootPath=org.opencms.workplace.commons.Messages.get().getBundle(locale).key(org.opencms.workplace.commons.Messages.GUI_PUBLISH_SITE_RELATION_2,new Object[]{siteName,rootPath});
  }
  return rootPath;
}
