{
  String handlerUri="/system/handler/handle" + errorCode + ".html";
  CmsObject cms=null;
  try {
    cms=OpenCmsCore.getInstance().initCmsObject(null,null,OpenCms.getDefaultUsers().getUserGuest(),null);
    cms.getRequestContext().setUri(handlerUri);
  }
 catch (  CmsException e) {
    if (OpenCms.getLog(this).isWarnEnabled()) {
      OpenCms.getLog(this).warn("Error initializing CmsObject in " + errorCode + " URI handler for '"+ handlerUri+ "'",e);
    }
  }
  CmsFile file;
  try {
    file=cms.readFile(handlerUri,CmsResourceFilter.IGNORE_EXPIRATION);
  }
 catch (  CmsException e) {
    res.sendError(errorCode);
    return;
  }
  try {
    OpenCms.getResourceManager().loadResource(cms,file,req,res);
  }
 catch (  CmsException e) {
    throw new ServletException("Error showing error handler resource in " + errorCode + " URI handler for '"+ handlerUri+ "'",e);
  }
}
