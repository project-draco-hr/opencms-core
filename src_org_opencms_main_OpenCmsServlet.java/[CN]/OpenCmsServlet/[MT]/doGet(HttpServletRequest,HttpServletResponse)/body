{
  res.setHeader("Server","OpenCms/" + OpenCms.getSystemInfo().getVersionNumber());
  if (OpenCmsCore.getInstance().getRunLevel() < 3) {
    init(getServletConfig());
    if (OpenCmsCore.getInstance().getRunLevel() < 3) {
      throw new ServletException("OpenCms not properly configured!");
    }
  }
  String path=req.getPathInfo();
  if ((path != null) && path.startsWith(C_HANDLE)) {
    invokeHandler(req,res);
  }
 else {
    OpenCmsCore.getInstance().showResource(req,res);
  }
}
