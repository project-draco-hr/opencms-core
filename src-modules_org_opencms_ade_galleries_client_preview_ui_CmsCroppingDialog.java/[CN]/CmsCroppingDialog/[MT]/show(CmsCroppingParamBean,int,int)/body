{
  getElement().getStyle().setDisplay(Display.BLOCK);
  m_croppingParam=targetParam;
  m_orgHeight=orgHeight;
  m_orgWidth=orgWidth;
  m_displayCropping=new CmsCroppingParamBean();
  m_displayCropping.setTargetHeight(m_orgHeight);
  m_displayCropping.setTargetWidth(m_orgWidth);
  m_displayCropping=m_displayCropping.getRestrictedSizeParam(getElement().getOffsetHeight() - 29,getElement().getOffsetWidth() - 4);
  m_image.setUrl(m_imagePath + "?" + m_displayCropping.toString());
  m_croppingPanel.getElement().getStyle().setWidth(m_displayCropping.getTargetWidth(),Unit.PX);
  if ((targetParam.getTargetHeight() > 0) && (targetParam.getTargetWidth() > 0)) {
    m_croppingPanel.setRatio(1.00 * targetParam.getTargetHeight() / targetParam.getTargetWidth());
  }
}
