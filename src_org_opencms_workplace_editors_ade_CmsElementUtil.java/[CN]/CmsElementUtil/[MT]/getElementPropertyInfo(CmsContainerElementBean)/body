{
  CmsResource elementRes=m_cms.readResource(element.getElementId());
  JSONObject jsonProperties=CmsXmlContentPropertyHelper.getPropertyInfoJSON(m_cms,elementRes);
  Map<String,CmsProperty> properties=m_manager.getElementProperties(m_cms,element);
  Iterator<Map.Entry<String,CmsProperty>> itProperties=properties.entrySet().iterator();
  while (itProperties.hasNext()) {
    Map.Entry<String,CmsProperty> entry=itProperties.next();
    String propertyName=entry.getKey();
    JSONObject jsonProperty=jsonProperties.optJSONObject(propertyName);
    if (jsonProperty != null) {
      jsonProperty.put(CmsXmlContentPropertyHelper.JsonProperty.value.name(),CmsXmlContentPropertyHelper.getPropValuePaths(m_cms,jsonProperty.getString(CmsXmlContentPropertyHelper.JsonProperty.type.name()),properties.get(propertyName).getStructureValue()));
    }
  }
  return jsonProperties;
}
