{
  try {
    copyFileToServer(OpenCms.getSystemInfo().getPackagesRfsPath() + File.separator + I_CmsConstants.C_MODULE_PATH);
  }
 catch (  CmsException e) {
    setException(e);
    return;
  }
  try {
    Map params=new HashMap();
    params.put(PARAM_MODULE,getParamImportfile());
    params.put(PARAM_STYLE,"new");
    params.put(PARAM_CLOSELINK,getToolManager().linkForPath(getJsp(),"/modules",null));
    getToolManager().jspRedirectPage(this,CmsModulesUploadFromServer.IMPORT_ACTION_REPORT,params);
  }
 catch (  IOException e) {
    throw new CmsRuntimeException(Messages.get().container(Messages.ERR_ACTION_MODULE_UPLOAD_1,getParamImportfile()),e);
  }
}
