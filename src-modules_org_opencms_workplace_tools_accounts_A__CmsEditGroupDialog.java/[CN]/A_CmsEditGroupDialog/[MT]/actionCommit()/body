{
  List errors=new ArrayList();
  try {
    if (m_group.getId() == null) {
      CmsGroup newGroup=getCms().createGroup(m_paramOufqn + m_group.getSimpleName(),m_group.getDescription(),m_group.isEnabled() ? I_CmsPrincipal.FLAG_ENABLED : I_CmsPrincipal.FLAG_DISABLED,getParentGroup());
      newGroup.setProjectManager(m_group.isProjectManager());
      newGroup.setProjectCoWorker(m_group.isProjectCoWorker());
      m_group=newGroup;
    }
 else {
      if (getParentGroup() != null) {
        m_group.setParentId(getCms().readGroup(getParentGroup()).getId());
      }
 else {
        m_group.setParentId(CmsUUID.getNullUUID());
      }
    }
    getCms().writeGroup(m_group);
    Map objects=(Map)getSettings().getListObject();
    if (objects != null) {
      objects.remove(getListClass());
      objects.remove(A_CmsUsersList.class.getName());
    }
  }
 catch (  Throwable t) {
    errors.add(t);
  }
  if (errors.isEmpty() && isNewGroup()) {
    if ((getParamCloseLink() != null) && (getParamCloseLink().indexOf("path=" + getListRootPath()) > -1)) {
      Map argMap=new HashMap();
      argMap.put("groupid",m_group.getId());
      argMap.put("groupname",m_group.getName());
      argMap.put("oufqn",m_paramOufqn);
      setParamCloseLink(CmsToolManager.linkForToolPath(getJsp(),getListRootPath() + "/edit",argMap));
    }
  }
  setCommitErrors(errors);
}
