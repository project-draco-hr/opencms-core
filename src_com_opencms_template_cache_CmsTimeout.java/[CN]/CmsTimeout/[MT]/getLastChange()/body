{
  long time=System.currentTimeMillis();
  long daytime=time - m_daystart;
  if (daytime > C_24_HOURS) {
    java.util.Calendar timeCal=java.util.Calendar.getInstance();
    timeCal.set(java.util.Calendar.HOUR_OF_DAY,0);
    timeCal.set(java.util.Calendar.SECOND,0);
    timeCal.set(java.util.Calendar.MINUTE,0);
    timeCal.set(java.util.Calendar.MILLISECOND,0);
    m_daystart=timeCal.getTime().getTime();
    daytime=time - m_daystart;
  }
  return m_daystart + (daytime - (daytime % m_timeinterval));
}
