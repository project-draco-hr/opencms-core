{
  String type=req.getHeader("content-type");
  CmsObject cms=null;
  if ((type != null) && type.startsWith("multipart/form-data")) {
  }
  CmsRequestHttpServlet cmsReq=new CmsRequestHttpServlet(req);
  CmsResponseHttpServlet cmsRes=new CmsResponseHttpServlet(req,res,m_clusterurl);
  try {
    if (CmsConstants.USE_MULTISITE)     cms=initMultisite(cmsReq,cmsRes);
 else     cms=initUser(cmsReq,cmsRes);
    checkRelocation(cms);
    CmsFile file=m_opencms.initResource(cms);
    m_opencms.setResponse(cms,file);
    m_opencms.showResource(cms,file);
    updateUser(cms,cmsReq,cmsRes);
  }
 catch (  CmsException e) {
    errorHandling(cms,cmsReq,cmsRes,e);
  }
}
