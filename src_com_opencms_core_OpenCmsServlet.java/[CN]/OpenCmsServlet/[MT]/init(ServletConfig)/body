{
  super.init(config);
  String propertyDriver=null;
  String propertyConnect=null;
  String initializerClassname=null;
  try {
    m_configurations=new Configurations(new ExtendedProperties(config.getInitParameter("properties")));
  }
 catch (  Exception e) {
    throw new ServletException(e.getMessage() + ".  Properties file is: " + config.getInitParameter("properties"));
  }
  A_OpenCms.initializeServletLogging(m_configurations);
  if (A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] logging started");
  }
  propertyDriver=(String)m_configurations.getString(C_PROPERTY_DRIVER);
  if (A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] " + C_PROPERTY_DRIVER + " = "+ propertyDriver);
  }
  propertyConnect=(String)m_configurations.getString(C_PROPERTY_CONNECT);
  if (A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] " + C_PROPERTY_CONNECT + " = "+ propertyConnect);
  }
  int count=0;
  String redirect;
  String redirectlocation;
  while ((redirect=(String)m_configurations.getString(C_PROPERTY_REDIRECT + "." + count)) != null) {
    redirectlocation=(String)m_configurations.getString(C_PROPERTY_REDIRECTLOCATION + "." + count);
    m_redirect.addElement(redirect);
    m_redirectlocation.addElement(redirectlocation);
    count++;
    if (A_OpenCms.isLogging()) {
      A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] redirect-rule: " + redirect + " -> "+ redirectlocation);
    }
  }
  initializerClassname=(String)m_configurations.getString(C_INILITALIZER_CLASSNAME);
  if (A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] initializing opencms with initializer: " + initializerClassname);
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] connecting to propertyDB via " + propertyDriver);
  }
  m_opencms=new OpenCms(propertyDriver,propertyConnect,initializerClassname);
  CmsObject cms=new CmsObject();
  try {
    cms.init(null,null,C_USER_ADMIN,C_GROUP_ADMIN,C_PROJECT_ONLINE_ID);
  }
 catch (  CmsException e) {
    throw new ServletException("Could not initialize cms object for DB scheduler. " + e);
  }
  m_schedulerDbConnector=new CmsSchedulerDbConnector(cms,120);
  m_schedulerDbConnector.start();
  if (A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] initializing session storage");
  }
  m_sessionStorage=new CmsSession();
  if (A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[OpenCmsServlet] initializing... DONE");
  }
}
