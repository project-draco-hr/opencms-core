{
  int errorType=e.getType();
  HttpServletRequest req=(HttpServletRequest)cmsReq.getOriginalRequest();
  HttpServletResponse res=(HttpServletResponse)cmsRes.getOriginalResponse();
  try {
switch (errorType) {
case CmsException.C_ACCESS_DENIED:
      requestAuthorization(req,res);
    e.printStackTrace();
  break;
case CmsException.C_NOT_FOUND:
res.setContentType("text/HTML");
res.sendError(res.SC_NOT_FOUND);
break;
case CmsException.C_SERVICE_UNAVAILABLE:
res.sendError(res.SC_SERVICE_UNAVAILABLE,e.toString());
break;
default :
res.setContentType("text/HTML");
e.printStackTrace();
res.getWriter().print(createErrorBox(e));
}
}
 catch (IOException ex) {
}
}
