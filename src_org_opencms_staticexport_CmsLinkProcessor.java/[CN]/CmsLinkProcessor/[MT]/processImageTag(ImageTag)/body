{
switch (m_mode) {
case C_REPLACE_LINKS:
    if (imageTag.getAttribute("src") != null) {
      String targetUri=imageTag.getImageURL();
      String internalUri=CmsLinkManager.getSitePath(m_cms,m_relativePath,targetUri);
      boolean hasAltAttrib=(imageTag.getAttribute("alt") != null);
      String title=null;
      if (internalUri != null) {
        imageTag.setImageURL(replaceLink(m_linkTable.addLink(imageTag.getTagName(),internalUri,true)));
        if (!hasAltAttrib) {
          try {
            title=m_cms.readPropertyObject(internalUri,I_CmsConstants.C_PROPERTY_TITLE,false).getValue("\"\"");
          }
 catch (          CmsException e) {
            title="\"\"";
          }
          imageTag.setAttribute("alt",title);
        }
      }
 else {
        imageTag.setImageURL(replaceLink(m_linkTable.addLink(imageTag.getTagName(),targetUri,false)));
        if (!hasAltAttrib) {
          imageTag.setAttribute("alt","\"\"");
        }
      }
    }
  break;
case C_PROCESS_LINKS:
if (imageTag.getAttribute("src") != null) {
  String imageUrl=imageTag.getImageURL();
  CmsLink link=m_linkTable.getLink(getLinkName(imageUrl));
  if (link != null) {
    imageTag.setImageURL(processLink(link));
  }
 else {
    imageTag.setImageURL(imageUrl);
  }
}
break;
default :
break;
}
}
