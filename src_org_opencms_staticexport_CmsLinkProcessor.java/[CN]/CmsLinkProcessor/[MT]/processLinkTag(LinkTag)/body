{
switch (m_mode) {
case C_REPLACE_LINKS:
    if (linkTag.getAttribute("href") != null) {
      String targetUri=linkTag.extractLink();
      if (!"".equals(targetUri)) {
        String internalUri=CmsLinkManager.getSitePath(m_cms,m_relativePath,targetUri);
        if (internalUri != null) {
          linkTag.setLink(replaceLink(m_linkTable.addLink(linkTag.getTagName(),internalUri,true)));
        }
 else {
          linkTag.setLink(replaceLink(m_linkTable.addLink(linkTag.getTagName(),targetUri,false)));
        }
      }
    }
  break;
case C_PROCESS_LINKS:
if (linkTag.getAttribute("href") != null) {
  linkTag.setLink(processLink(m_linkTable.getLink(getLinkName(linkTag.getLink()))));
}
break;
default :
break;
}
}
