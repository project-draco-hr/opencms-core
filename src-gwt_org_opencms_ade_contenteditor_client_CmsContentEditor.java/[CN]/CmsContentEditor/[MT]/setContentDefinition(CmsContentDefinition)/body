{
  if (m_availableLocales.isEmpty()) {
    m_availableLocales.putAll(definition.getAvailableLocales());
    m_contentLocales.addAll(definition.getContentLocales());
  }
  m_title=definition.getTitle();
  m_sitePath=definition.getSitePath();
  m_resourceTypeName=definition.getResourceType();
  m_registeredEntities.add(definition.getEntityId());
  m_tabInfos=definition.getTabInfos();
  m_definitions.put(definition.getLocale(),definition);
  getWidgetService().addConfigurations(definition.getConfigurations());
  addEntityChangeHandler(definition.getEntityId(),new ValueChangeHandler<Entity>(){
    public void onValueChange(    ValueChangeEvent<Entity> event){
      setChanged();
    }
  }
);
}
