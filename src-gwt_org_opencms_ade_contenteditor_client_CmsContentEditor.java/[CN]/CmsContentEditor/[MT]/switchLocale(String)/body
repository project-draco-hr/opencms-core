{
  if (locale.equals(m_locale)) {
    return;
  }
  m_locale=locale;
  m_basePanel.clear();
  destroyFrom(false);
  m_entityId=getIdForLocale(locale);
  final boolean addedNewLocale=!m_contentLocales.contains(locale);
  if (!m_registeredEntities.contains(m_entityId)) {
    if (addedNewLocale) {
      loadNewDefinition(m_entityId,new I_CmsSimpleCallback<CmsContentDefinition>(){
        public void execute(        final CmsContentDefinition contentDefinition){
          registerContentDefinition(contentDefinition);
          CmsNotification.get().sendBlocking(CmsNotification.Type.NORMAL,org.opencms.gwt.client.Messages.get().key(org.opencms.gwt.client.Messages.GUI_LOADING_0));
          WidgetRegistry.getInstance().registerExternalWidgets(contentDefinition.getExternalWidgetConfigurations(),new Command(){
            public void execute(){
              setContentDefinition(contentDefinition);
              renderFormContent();
              if (addedNewLocale) {
                setChanged();
              }
              CmsNotification.get().hide();
            }
          }
);
        }
      }
);
    }
 else {
      loadDefinition(m_entityId,new I_CmsSimpleCallback<CmsContentDefinition>(){
        public void execute(        CmsContentDefinition contentDefinition){
          setContentDefinition(contentDefinition);
          renderFormContent();
          if (addedNewLocale) {
            setChanged();
          }
        }
      }
);
    }
  }
 else {
    getWidgetService().addConfigurations(m_definitions.get(locale).getConfigurations());
    renderFormContent();
  }
}
