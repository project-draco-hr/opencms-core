{
  CmsObject cms=getCmsObject();
  echo("Testing publish scenario D");
  CmsProject project=cms.readProject("Offline");
  cms.getRequestContext().setCurrentProject(project);
  cms.lockResource("/folder1/");
  cms.copyResource("/folder1/","/folder2/folder1",I_CmsConstants.C_COPY_AS_SIBLING);
  cms.unlockResource("/folder1/");
  cms.unlockResource("/folder2/folder1/");
  cms.publishResource("/folder2/folder1/");
  assertState(cms,"/folder2/folder1/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/index.html",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder11/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder11/index.html",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder11/subsubfolder111/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder11/subsubfolder111/jsp.jsp",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder12/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder12/index.html",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder12/subsubfolder121/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder2/folder1/subfolder12/subsubfolder121/index.html",I_CmsConstants.C_STATE_UNCHANGED);
}
