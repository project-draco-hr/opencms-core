{
  CmsObject cms=getCmsObject();
  echo("Testing publish scenario C");
  long touchTime=System.currentTimeMillis();
  cms.lockResource("/folder1/");
  cms.touch("/folder1/",touchTime,CmsResource.TOUCH_DATE_UNCHANGED,CmsResource.TOUCH_DATE_UNCHANGED,false);
  cms.touch("/folder1/index.html",touchTime,CmsResource.TOUCH_DATE_UNCHANGED,CmsResource.TOUCH_DATE_UNCHANGED,false);
  cms.touch("/folder1/subfolder11/",touchTime,CmsResource.TOUCH_DATE_UNCHANGED,CmsResource.TOUCH_DATE_UNCHANGED,false);
  cms.touch("/folder1/subfolder11/index.html",touchTime,CmsResource.TOUCH_DATE_UNCHANGED,CmsResource.TOUCH_DATE_UNCHANGED,false);
  cms.unlockResource("/folder1/");
  cms.publishResource("/folder1/");
  assertState(cms,"/folder1/",CmsResource.STATE_UNCHANGED);
  assertState(cms,"/folder1/index.html",CmsResource.STATE_UNCHANGED);
  assertState(cms,"/folder1/subfolder11/",CmsResource.STATE_UNCHANGED);
  assertState(cms,"/folder1/subfolder11/index.html",CmsResource.STATE_UNCHANGED);
  cms.createResource("/folder_a/",CmsResourceTypeFolder.getStaticTypeId());
  cms.createResource("/folder_a/file_a.txt",CmsResourceTypePlain.getStaticTypeId());
  cms.createResource("/folder_a/folder_b/",CmsResourceTypeFolder.getStaticTypeId());
  cms.createResource("/folder_a/folder_b/file_b.txt",CmsResourceTypePlain.getStaticTypeId());
  cms.unlockResource("/folder_a/");
  cms.publishResource("/folder_a/");
  assertState(cms,"/folder_a/",CmsResource.STATE_UNCHANGED);
  assertState(cms,"/folder_a/file_a.txt",CmsResource.STATE_UNCHANGED);
  assertState(cms,"/folder_a/folder_b/",CmsResource.STATE_UNCHANGED);
  assertState(cms,"/folder_a/folder_b/file_b.txt",CmsResource.STATE_UNCHANGED);
}
