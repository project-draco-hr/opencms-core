{
  CmsObject cms=getCmsObject();
  echo("Testing publish scenario C");
  long touchTime=System.currentTimeMillis();
  cms.lockResource("/folder1/");
  cms.touch("/folder1/",touchTime,I_CmsConstants.C_DATE_UNCHANGED,I_CmsConstants.C_DATE_UNCHANGED,false);
  cms.touch("/folder1/index.html",touchTime,I_CmsConstants.C_DATE_UNCHANGED,I_CmsConstants.C_DATE_UNCHANGED,false);
  cms.touch("/folder1/subfolder11/",touchTime,I_CmsConstants.C_DATE_UNCHANGED,I_CmsConstants.C_DATE_UNCHANGED,false);
  cms.touch("/folder1/subfolder11/index.html",touchTime,I_CmsConstants.C_DATE_UNCHANGED,I_CmsConstants.C_DATE_UNCHANGED,false);
  cms.unlockResource("/folder1/");
  cms.publishResource("/folder1/");
  assertState(cms,"/folder1/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder1/index.html",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder1/subfolder11/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder1/subfolder11/index.html",I_CmsConstants.C_STATE_UNCHANGED);
  cms.createResource("/folder_a/",CmsResourceTypeFolder.C_RESOURCE_TYPE_ID);
  cms.createResource("/folder_a/file_a.txt",CmsResourceTypePlain.C_RESOURCE_TYPE_ID);
  cms.createResource("/folder_a/folder_b/",CmsResourceTypeFolder.C_RESOURCE_TYPE_ID);
  cms.createResource("/folder_a/folder_b/file_b.txt",CmsResourceTypePlain.C_RESOURCE_TYPE_ID);
  cms.unlockResource("/folder_a/");
  cms.publishResource("/folder_a/");
  assertState(cms,"/folder_a/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder_a/file_a.txt",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder_a/folder_b/",I_CmsConstants.C_STATE_UNCHANGED);
  assertState(cms,"/folder_a/folder_b/file_b.txt",I_CmsConstants.C_STATE_UNCHANGED);
}
