{
  CmsObject cms=getCmsObject();
  echo("Testing publish scenario H");
  String sibX="sibX.txt";
  String sibY="sibY.txt";
  cms.createResource(sibX,CmsResourceTypePlain.getStaticTypeId());
  cms.createSibling(sibX,sibY,null);
  cms.unlockProject(cms.getRequestContext().getCurrentProject().getUuid());
  OpenCms.getPublishManager().publishProject(cms);
  OpenCms.getPublishManager().waitWhileRunning();
  CmsProperty propX=new CmsProperty(CmsPropertyDefinition.PROPERTY_TITLE,"individual X",null);
  cms.lockResource(sibX);
  cms.writePropertyObject(sibX,propX);
  assertState(cms,sibX,CmsResource.STATE_CHANGED);
  assertState(cms,sibY,CmsResource.STATE_UNCHANGED);
  CmsProperty propY=new CmsProperty(CmsPropertyDefinition.PROPERTY_TITLE,"individual Y",null);
  cms.lockResource(sibY);
  cms.writePropertyObject(sibY,propY);
  assertState(cms,sibX,CmsResource.STATE_CHANGED);
  assertState(cms,sibY,CmsResource.STATE_CHANGED);
  cms.unlockResource(sibX);
  OpenCms.getPublishManager().publishResource(cms,sibX,false,new CmsShellReport(cms.getRequestContext().getLocale()));
  OpenCms.getPublishManager().waitWhileRunning();
  assertState(cms,sibX,CmsResource.STATE_UNCHANGED);
  assertState(cms,sibY,CmsResource.STATE_CHANGED);
  OpenCms.getPublishManager().publishResource(cms,sibY,false,new CmsShellReport(cms.getRequestContext().getLocale()));
  OpenCms.getPublishManager().waitWhileRunning();
  assertState(cms,sibX,CmsResource.STATE_UNCHANGED);
  assertState(cms,sibY,CmsResource.STATE_UNCHANGED);
}
