{
  echo("Testing lazy status of content fields in search index");
  String fileName="/sites/default/test/master.pdf";
  CmsLuceneIndex searchIndex=OpenCms.getSearchManager().getIndexLucene(INDEX_SPECIAL);
  Document doc=(Document)searchIndex.getDocument(I_CmsSearchField.FIELD_PATH,fileName).getDocument();
  assertNotNull("Document '" + fileName + "' not found",doc);
  assertNotNull("No 'title' field available",doc.getFieldable(I_CmsSearchField.FIELD_TITLE));
  assertFalse("title must not be lazy loaded",doc.getFieldable(I_CmsSearchField.FIELD_TITLE).isLazy());
  assertNotNull("No 'content' field available",doc.getFieldable(I_CmsSearchField.FIELD_CONTENT));
  assertTrue("Content field not lazy",doc.getFieldable(I_CmsSearchField.FIELD_CONTENT).isLazy());
  assertNotNull("No 'content blob' field available",doc.getFieldable(I_CmsSearchField.FIELD_CONTENT_BLOB));
  assertTrue("Content blob field not lazy",doc.getFieldable(I_CmsSearchField.FIELD_CONTENT_BLOB).isLazy());
}
