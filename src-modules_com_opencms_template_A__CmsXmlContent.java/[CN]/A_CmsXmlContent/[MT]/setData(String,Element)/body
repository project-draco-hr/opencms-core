{
  if (data == null) {
    setData(tag,"");
  }
 else {
    tag=tag.toLowerCase();
    Element newElement=(Element)data.cloneNode(true);
    if (CmsLog.getLog(this).isDebugEnabled() && C_DEBUG) {
      CmsLog.getLog(this).debug("Putting datablock " + tag + " into internal Hashtable");
    }
    if (!(m_blocks.containsKey(tag))) {
      insertNewDatablock(tag,newElement);
    }
 else {
      if (CmsLog.getLog(this).isDebugEnabled() && C_DEBUG) {
        CmsLog.getLog(this).debug("Datablock existed before, replacing");
      }
      Element originalBlock=(Element)(m_blocks.get(tag));
      while (originalBlock.hasChildNodes()) {
        originalBlock.removeChild(originalBlock.getFirstChild());
      }
      NodeList newNodes=data.getChildNodes();
      int len=newNodes.getLength();
      for (int i=0; i < len; i++) {
        Node newElement2=newNodes.item(i).cloneNode(true);
        originalBlock.appendChild(m_parser.importNode(originalBlock.getOwnerDocument(),newElement2));
      }
    }
  }
}
