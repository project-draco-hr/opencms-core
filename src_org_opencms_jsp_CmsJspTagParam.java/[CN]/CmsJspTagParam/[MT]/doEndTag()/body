{
  Tag t=findAncestorWithClass(this,I_CmsJspTagParamParent.class);
  if (t == null) {
    throw new JspTagException("Parameter Tag <param> without parent found!");
  }
  if (m_name == null || m_name.equals("")) {
    return EVAL_PAGE;
  }
  I_CmsJspTagParamParent parent=(I_CmsJspTagParamParent)t;
  String value=this.m_value;
  if (value == null) {
    if (bodyContent == null || bodyContent.getString() == null) {
      value="";
    }
 else {
      value=bodyContent.getString().trim();
    }
  }
  if (m_encode) {
    parent.addParameter(CmsEncoder.encode(m_name,OpenCms.getDefaultEncoding()),CmsEncoder.encode(value,OpenCms.getDefaultEncoding()));
  }
 else {
    parent.addParameter(m_name,value);
  }
  return EVAL_PAGE;
}
