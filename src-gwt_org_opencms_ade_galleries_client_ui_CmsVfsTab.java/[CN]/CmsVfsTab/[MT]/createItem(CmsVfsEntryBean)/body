{
  String name=CmsResource.getName(vfsEntry.getSitePath());
  if (name.endsWith("/")) {
    name=name.substring(0,name.length() - 1);
  }
  CmsDataValue dataValue=new CmsDataValue(600,3,CmsIconUtil.getResourceIconClasses("folder",true),name,vfsEntry.getDisplayName());
  dataValue.setUnselectable();
  if (vfsEntry.isEditable()) {
    dataValue.addButton(createUploadButtonForTarget(vfsEntry.getSitePath()));
  }
  final CmsCheckBox checkbox=new CmsCheckBox();
  CmsLazyTreeItem result=new CmsLazyTreeItem(checkbox,dataValue,true);
  SelectionHandler selectionHandler=new SelectionHandler(vfsEntry,checkbox);
  checkbox.addClickHandler(selectionHandler);
  dataValue.addDomHandler(selectionHandler,DoubleClickEvent.getType());
  dataValue.addButton(createSelectButton(selectionHandler));
  if (getTabHandler().hasSelectResource()) {
    dataValue.addButton(createSelectResourceButton(vfsEntry.getSitePath(),vfsEntry.getStructureId(),vfsEntry.getDisplayName(),"folder"));
  }
  m_entryMap.put(result,vfsEntry);
  m_itemsByPath.put(vfsEntry.getSitePath(),result);
  result.setLeafStyle(false);
  result.setSmallView(true);
  return result;
}
