{
  int resTypeId=res.getTypeId();
  try {
    I_CmsResourceType resType=OpenCms.getResourceManager().getResourceType(resTypeId);
    String typeName=resType.getTypeName();
    CmsResourceTypeConfig typeConfig=getResourceType(typeName);
    if ((typeConfig != null) && (typeConfig.getFormatterConfiguration() != null) && !typeConfig.getFormatterConfiguration().getAllFormatters().isEmpty()) {
      return typeConfig.getFormatterConfiguration();
    }
    return getFormattersFromSchema(res);
  }
 catch (  CmsLoaderException e) {
    LOG.warn(e.getLocalizedMessage(),e);
    return null;
  }
}
