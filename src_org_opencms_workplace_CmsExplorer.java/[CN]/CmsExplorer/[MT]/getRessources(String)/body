{
  if (getSettings().getExplorerShowLinks()) {
    try {
      return getCms().readSiblings(resource,CmsResourceFilter.ALL);
    }
 catch (    CmsException e) {
      if (OpenCms.getLog(this).isInfoEnabled()) {
        OpenCms.getLog(this).info(e);
      }
      return Collections.EMPTY_LIST;
    }
  }
 else   if ("projectview".equals(getSettings().getExplorerMode())) {
    try {
      return new ArrayList(getCms().readProjectView(getSettings().getExplorerProjectId(),getSettings().getExplorerProjectFilter()));
    }
 catch (    CmsException e) {
      if (OpenCms.getLog(this).isInfoEnabled()) {
        OpenCms.getLog(this).info(e);
      }
      return Collections.EMPTY_LIST;
    }
  }
 else {
    try {
      return getCms().getResourcesInFolder(resource,CmsResourceFilter.ONLY_VISIBLE);
    }
 catch (    CmsException e) {
      if (OpenCms.getLog(this).isInfoEnabled()) {
        OpenCms.getLog(this).info(e);
      }
      return Collections.EMPTY_LIST;
    }
  }
}
