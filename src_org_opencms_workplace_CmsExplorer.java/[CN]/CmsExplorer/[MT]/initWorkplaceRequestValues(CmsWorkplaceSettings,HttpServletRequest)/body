{
  String mode=request.getParameter("mode");
  settings.setExplorerMode(mode);
  String currentFolder=request.getParameter("folder");
  if ((currentFolder != null) && (currentFolder.startsWith("vfslink:"))) {
    settings.setExplorerMode("vfslink");
    settings.setExplorerFolder(currentFolder.substring(8));
  }
 else {
    if ((currentFolder != null) && (!"".equals(currentFolder)) && folderExists(getCms(),currentFolder)) {
      settings.setExplorerFolder(currentFolder);
    }
 else {
      currentFolder=settings.getExplorerFolder();
      if ((currentFolder == null) || (!folderExists(getCms(),currentFolder))) {
        currentFolder="/";
        settings.setExplorerFolder(currentFolder);
      }
    }
  }
  String selPage=request.getParameter("selPage");
  if (selPage != null) {
    int page=1;
    try {
      page=Integer.parseInt(selPage);
    }
 catch (    NumberFormatException e) {
    }
    settings.setExplorerPage(page);
  }
  settings.setExplorerContext(!"false".equals(request.getParameter("kontext")));
  settings.setExplorerFlaturl(request.getParameter("flaturl"));
  int checksum=-1;
  String check=request.getParameter("check");
  if (check != null) {
    try {
      checksum=Integer.parseInt(check);
    }
 catch (    NumberFormatException e) {
    }
  }
  settings.setExplorerChecksum(checksum);
}
