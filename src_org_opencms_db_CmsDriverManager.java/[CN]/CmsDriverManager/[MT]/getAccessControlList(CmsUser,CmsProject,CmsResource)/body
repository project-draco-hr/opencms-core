{
  CmsResource res=resource;
  CmsUUID resId=res.getResourceAceId();
  CmsAccessControlList acList=(CmsAccessControlList)m_accessControlListCache.get(new CacheId(resource));
  if (acList != null)   return acList;
  acList=new CmsAccessControlList();
  ListIterator acEntries=getAccessControlEntries(currentUser,currentProject,resId).listIterator();
  while (acEntries.hasNext()) {
    acList.add((CmsAccessControlEntry)acEntries.next());
  }
  while (!(resId=resource.getParentId()).isNullUUID()) {
    resource=m_vfsDriver.readFolder(currentProject.getId(),resId);
    resId=resource.getResourceAceId();
    acEntries=getAccessControlEntries(currentUser,currentProject,resId,true).listIterator();
    while (acEntries.hasNext()) {
      acList.add((CmsAccessControlEntry)acEntries.next());
    }
  }
  m_accessControlListCache.put(new CacheId(resource),acList);
  return acList;
}
