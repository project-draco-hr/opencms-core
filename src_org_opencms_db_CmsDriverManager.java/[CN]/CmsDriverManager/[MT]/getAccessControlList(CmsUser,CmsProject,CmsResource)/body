{
  CmsResource res=resource;
  CmsUUID resourceId=res.getResourceAceId();
  CmsAccessControlList acList=(CmsAccessControlList)m_accessControlListCache.get(new CacheId(resource));
  if (acList != null)   return acList;
  acList=new CmsAccessControlList();
  ListIterator acEntries=m_userDriver.getAccessControlEntries(currentProject,resourceId,false).listIterator();
  while (acEntries.hasNext()) {
    acList.add((CmsAccessControlEntry)acEntries.next());
  }
  while (!(resourceId=resource.getParentId()).isNullUUID()) {
    resource=m_vfsDriver.readFolder(currentProject.getId(),resourceId);
    resourceId=resource.getResourceAceId();
    acEntries=m_userDriver.getAccessControlEntries(currentProject,resourceId,true).listIterator();
    while (acEntries.hasNext()) {
      acList.add((CmsAccessControlEntry)acEntries.next());
    }
  }
  m_accessControlListCache.put(new CacheId(resource),acList);
  return acList;
}
