{
  int lastVersion=1;
  Hashtable histproperties=cms.getRegistry().getSystemValues(I_CmsConstants.C_REGISTRY_HISTORY);
  String delete=(String)histproperties.get(I_CmsConstants.C_REGISTRY_HISTORY_DELETE);
  if ("true".equalsIgnoreCase(delete)) {
    if (isAdmin(context)) {
      lastVersion=m_backupDriver.deleteBackups(timestamp);
    }
 else {
      throw new CmsSecurityException("[" + this.getClass().getName() + "] deleteBackups()",CmsSecurityException.C_SECURITY_ADMIN_PRIVILEGES_REQUIRED);
    }
  }
  return lastVersion;
}
