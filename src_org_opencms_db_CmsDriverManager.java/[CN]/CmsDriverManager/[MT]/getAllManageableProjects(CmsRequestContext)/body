{
  Vector groups=getGroupsOfUser(context,context.currentUser().getName());
  Vector projects=m_projectDriver.readProjectsForUser(context.currentUser());
  for (int i=0; i < groups.size(); i++) {
    Vector projectsByGroup;
    if (((CmsGroup)groups.elementAt(i)).getName().equals(OpenCms.getDefaultUsers().getGroupAdministrators())) {
      projectsByGroup=m_projectDriver.readProjects(I_CmsConstants.C_PROJECT_STATE_UNLOCKED);
    }
 else {
      projectsByGroup=m_projectDriver.readProjectsForManagerGroup((CmsGroup)groups.elementAt(i));
    }
    for (int j=0; j < projectsByGroup.size(); j++) {
      if (!projects.contains(projectsByGroup.elementAt(j))) {
        projects.addElement(projectsByGroup.elementAt(j));
      }
    }
  }
  projects.removeElement(onlineProject());
  return (projects);
}
