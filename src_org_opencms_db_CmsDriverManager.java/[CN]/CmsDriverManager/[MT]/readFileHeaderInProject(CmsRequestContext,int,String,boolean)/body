{
  if (filename.endsWith("/")) {
    return readFolderInProject(context,projectId,filename);
  }
  List path=readPathInProject(context,projectId,filename,includeDeleted);
  CmsResource resource=(CmsResource)path.get(path.size() - 1);
  int[] pathProjectId=m_vfsDriver.getProjectsForPath(projectId,filename);
  for (int i=0; i < pathProjectId.length; i++) {
    if (pathProjectId[i] == resource.getProjectId()) {
      return resource;
    }
  }
  throw new CmsResourceNotFoundException(filename + " is not part of project with ID " + projectId);
}
