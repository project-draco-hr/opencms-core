{
  if (m_securityManager.hasRole(dbc,CmsRole.PROJECT_MANAGER)) {
    return m_projectDriver.readProjects(dbc,CmsProject.PROJECT_STATE_UNLOCKED);
  }
  List groups=getGroupsOfUser(dbc,dbc.currentUser().getName());
  Set projects=new HashSet(m_projectDriver.readProjectsForUser(dbc,dbc.currentUser()));
  for (int i=0, n=groups.size(); i < n; i++) {
    projects.addAll(m_projectDriver.readProjectsForGroup(dbc,(CmsGroup)groups.get(i)));
  }
  ArrayList accessibleProjects=new ArrayList(projects);
  Collections.sort(accessibleProjects);
  return accessibleProjects;
}
