{
  CmsPropertyDefinition propertyDefinition=null;
  name=name.trim();
  CmsPropertyDefinition.checkPropertyName(name);
  try {
    try {
      propertyDefinition=m_vfsDriver.readPropertyDefinition(dbc,name,dbc.currentProject().getUuid());
    }
 catch (    CmsException e) {
      propertyDefinition=m_vfsDriver.createPropertyDefinition(dbc,dbc.currentProject().getUuid(),name,CmsPropertyDefinition.TYPE_NORMAL);
    }
    try {
      m_vfsDriver.readPropertyDefinition(dbc,name,CmsProject.ONLINE_PROJECT_ID);
    }
 catch (    CmsException e) {
      m_vfsDriver.createPropertyDefinition(dbc,CmsProject.ONLINE_PROJECT_ID,name,CmsPropertyDefinition.TYPE_NORMAL);
    }
    try {
      m_historyDriver.readPropertyDefinition(dbc,name);
    }
 catch (    CmsException e) {
      m_historyDriver.createPropertyDefinition(dbc,name,CmsPropertyDefinition.TYPE_NORMAL);
    }
  }
  finally {
    OpenCms.fireCmsEvent(new CmsEvent(I_CmsEventListener.EVENT_PROPERTY_DEFINITION_CREATED,Collections.<String,Object>singletonMap("propertyDefinition",propertyDefinition)));
  }
  return propertyDefinition;
}
