{
  if (!getGroupsOfUser(dbc,user.getName(),false).isEmpty()) {
    throw new CmsDbConsistencyException(Messages.get().container(Messages.ERR_ORGUNIT_MOVE_USER_2,orgUnit.getName(),user.getName()));
  }
  m_userDriver.setUsersOrganizationalUnit(dbc,orgUnit,user);
  m_monitor.clearUserCache(user);
  Map eventData=new HashMap();
  eventData.put(I_CmsEventListener.KEY_ID,user.getId().toString());
  eventData.put(I_CmsEventListener.KEY_USER_NAME,user.getName());
  eventData.put(I_CmsEventListener.KEY_USER_ACTION,I_CmsEventListener.VALUE_USER_MODIFIED_ACTION_SET_OU);
  OpenCms.fireCmsEvent(new CmsEvent(I_CmsEventListener.EVENT_USER_MODIFIED,eventData));
}
