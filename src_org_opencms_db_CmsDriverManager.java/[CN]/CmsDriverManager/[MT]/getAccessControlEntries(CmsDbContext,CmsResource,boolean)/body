{
  List ace=m_userDriver.readAccessControlEntries(dbc,dbc.currentProject(),resource.getResourceId(),false);
  String parentPath=CmsResource.getParentFolder(resource.getRootPath());
  int d=(resource.isFolder()) ? 1 : 0;
  while (getInherited && parentPath != null) {
    resource=m_vfsDriver.readFolder(dbc,dbc.currentProject().getId(),parentPath);
    List entries=m_userDriver.readAccessControlEntries(dbc,dbc.currentProject(),resource.getResourceId(),d > 0);
    for (Iterator i=entries.iterator(); i.hasNext(); ) {
      CmsAccessControlEntry e=(CmsAccessControlEntry)i.next();
      e.setFlags(CmsAccessControlEntry.ACCESS_FLAGS_INHERITED);
    }
    ace.addAll(entries);
    parentPath=CmsResource.getParentFolder(resource.getRootPath());
    d++;
  }
  return ace;
}
