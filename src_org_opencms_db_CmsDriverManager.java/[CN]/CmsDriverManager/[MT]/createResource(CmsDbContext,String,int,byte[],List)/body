{
  String targetName=resourcename;
  if (content == null) {
    content=new byte[0];
  }
  int size;
  if (CmsFolder.isFolderType(type)) {
    if (targetName.charAt(targetName.length() - 1) == '/') {
      targetName=targetName.substring(0,targetName.length() - 1);
    }
    size=-1;
  }
 else {
    size=content.length;
  }
  CmsResource newResource=new CmsResource(CmsUUID.getNullUUID(),CmsUUID.getNullUUID(),targetName,type,CmsFolder.isFolderType(type),0,dbc.currentProject().getId(),I_CmsConstants.C_STATE_NEW,0,dbc.currentUser().getId(),0,dbc.currentUser().getId(),CmsResource.DATE_RELEASED_DEFAULT,CmsResource.DATE_EXPIRED_DEFAULT,1,size);
  return createResource(dbc,targetName,newResource,content,properties,false);
}
