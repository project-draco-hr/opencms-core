{
  if (foldername == null) {
    return null;
  }
  if (!foldername.endsWith(I_CmsConstants.C_FOLDER_SEPARATOR)) {
    foldername+=I_CmsConstants.C_FOLDER_SEPARATOR;
  }
  List path=readPathInProject(context,projectId,foldername,false);
  CmsFolder cmsFolder=(CmsFolder)path.get(path.size() - 1);
  int[] pathProjectId=m_vfsDriver.getProjectsForPath(projectId,foldername);
  for (int i=0; i < pathProjectId.length; i++) {
    if (pathProjectId[i] == cmsFolder.getProjectId()) {
      return cmsFolder;
    }
  }
  throw new CmsResourceNotFoundException("Folder " + foldername + " is not part of project with ID "+ projectId);
}
