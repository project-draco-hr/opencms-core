{
  String cacheKey=getCacheKey(new String[]{dbc.currentUser().getName(),getFolders ? (getFiles ? CmsCacheKey.CACHE_KEY_SUBALL : CmsCacheKey.CACHE_KEY_SUBFOLDERS) : CmsCacheKey.CACHE_KEY_SUBFILES,checkPermissions ? "+" : "-",filter.getCacheId(),resource.getRootPath()},dbc);
  List resourceList=OpenCms.getMemoryMonitor().getCachedResourceList(cacheKey);
  if (resourceList == null) {
    resourceList=m_vfsDriver.readChildResources(dbc,dbc.currentProject(),resource,getFolders,getFiles);
    if (checkPermissions) {
      resourceList=filterPermissions(dbc,resourceList,filter);
    }
    OpenCms.getMemoryMonitor().cacheResourceList(cacheKey,resourceList);
  }
  return updateContextDates(dbc,resourceList,filter);
}
