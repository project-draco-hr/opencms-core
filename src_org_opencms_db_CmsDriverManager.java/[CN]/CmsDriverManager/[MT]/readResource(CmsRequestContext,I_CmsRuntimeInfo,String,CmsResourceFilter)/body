{
  CmsResource resource=m_vfsDriver.readFileHeader(runtimeInfo,context.currentProject().getId(),resourcePath,filter.includeDeleted());
  int perms=hasPermissions(context,resource,CmsPermissionSet.ACCESS_READ,true,filter);
  if (perms != PERM_DENIED) {
    updateContextDates(context,resource);
  }
  checkPermissions(context,resource,CmsPermissionSet.ACCESS_READ,perms);
  if (resource.isFolder() && !(resource instanceof CmsFolder)) {
    resource=new CmsFolder(resource);
  }
  return resource;
}
