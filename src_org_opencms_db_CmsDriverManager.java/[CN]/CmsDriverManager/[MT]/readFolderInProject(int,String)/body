{
  if (foldername == null) {
    return null;
  }
  if (!CmsResource.isFolder(foldername)) {
    foldername+="/";
  }
  List path=readPathInProject(projectId,foldername,CmsResourceFilter.IGNORE_EXPIRATION);
  CmsFolder folder=(CmsFolder)path.get(path.size() - 1);
  List projectResources=readProjectResources(readProject(projectId));
  folder.setRootPath(foldername);
  if (CmsProject.isInsideProject(projectResources,folder)) {
    return folder;
  }
  throw new CmsVfsResourceNotFoundException("Folder " + foldername + " is not inside project with ID "+ projectId);
}
