{
  if (foldername == null) {
    return null;
  }
  if (!CmsResource.isFolder(foldername)) {
    foldername+="/";
  }
  List path=readPath(context,foldername,includeDeleted);
  CmsFolder folder=(CmsFolder)path.get(path.size() - 1);
  checkPermissions(context,folder,I_CmsConstants.C_READ_ACCESS);
  if ((folder.getState() == I_CmsConstants.C_STATE_DELETED) && (!includeDeleted)) {
    throw new CmsException("[" + this.getClass().getName() + "]"+ context.removeSiteRoot(readPath(context,folder,includeDeleted)),CmsException.C_RESOURCE_DELETED);
  }
  folder.setFullResourceName(foldername);
  updateContextDates(context,folder);
  return folder;
}
