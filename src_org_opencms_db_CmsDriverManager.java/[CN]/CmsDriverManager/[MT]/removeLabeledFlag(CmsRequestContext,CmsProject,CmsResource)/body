{
  boolean removeMarkedFlag=false;
  if (resource.isLabeled()) {
    List markedSites=(List)OpenCms.getRuntimeProperty("site.labeled.folders");
    for (int k=0; k < markedSites.size(); k++) {
      if (resource.getFullResourceName().startsWith((String)markedSites.get(k))) {
        removeMarkedFlag=true;
      }
    }
    List vfsLinkList=m_vfsDriver.getAllVfsSoftLinks(project,resource);
    Iterator i=vfsLinkList.iterator();
    while (i.hasNext()) {
      CmsResource currentResource=(CmsResource)i.next();
      readPath(context,currentResource,true);
      String curPath=currentResource.getFullResourceName();
      for (int k=0; k < markedSites.size(); k++) {
        if (curPath.startsWith((String)markedSites.get(k))) {
          return false;
        }
      }
    }
  }
  return removeMarkedFlag;
}
