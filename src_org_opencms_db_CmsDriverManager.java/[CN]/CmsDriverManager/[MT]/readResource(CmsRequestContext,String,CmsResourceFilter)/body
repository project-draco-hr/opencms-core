{
  List path=readPath(context,resourcename,filter);
  CmsResource resource=(CmsResource)path.get(path.size() - 1);
  int perms=hasPermissions(context,resource,I_CmsConstants.C_READ_ACCESS,true,filter);
  if (perms != PERM_DENIED) {
    updateContextDates(context,resource);
  }
  checkPermissions(context,resource,I_CmsConstants.C_READ_ACCESS,perms);
  if (resource.isFolder() && !(resource instanceof CmsFolder)) {
    resource=new CmsFolder(resource);
  }
  resource.setRootPath(resourcename);
  return resource;
}
