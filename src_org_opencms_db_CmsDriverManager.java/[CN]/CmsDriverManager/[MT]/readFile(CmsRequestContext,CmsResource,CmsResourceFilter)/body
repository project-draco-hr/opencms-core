{
  if (resource.isFolder()) {
    throw new CmsException("Trying to access a folder as file " + "(" + resource.getRootPath() + ")",CmsException.C_NOT_FOUND);
  }
  CmsFile file=m_vfsDriver.readFile(null,context.currentProject().getId(),filter.includeDeleted(),resource.getStructureId());
  return file;
}
