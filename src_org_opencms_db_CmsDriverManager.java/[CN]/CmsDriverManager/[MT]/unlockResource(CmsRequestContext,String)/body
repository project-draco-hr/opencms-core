{
  CmsResource resource=readFileHeader(context,resourcename);
  checkPermissions(context,resource,I_CmsConstants.C_WRITE_ACCESS);
  CmsLock lock=m_lockDispatcher.getLock(context,resource.getFullResourceName());
  CmsUUID lockUserId=lock.getUserId();
  if (lockUserId.equals(context.currentUser().getId())) {
    resource.setLocked(CmsUUID.getNullUUID());
    m_vfsDriver.updateLockstate(resource,lock.getProjectId());
    m_lockDispatcher.removeResource(lock.getResourceName());
    clearResourceCache();
  }
 else {
    return;
  }
}
