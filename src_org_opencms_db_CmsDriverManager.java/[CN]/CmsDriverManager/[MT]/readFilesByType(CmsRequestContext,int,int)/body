{
  List resources=m_vfsDriver.readFiles(projectId,resourcetype);
  List result=new ArrayList(resources.size());
  for (int i=0, n=resources.size(); i < n; i++) {
    CmsFile res=(CmsFile)resources.get(i);
    if (PERM_ALLOWED == hasPermissions(context,res,I_CmsConstants.C_VIEW_ACCESS,true,CmsResourceFilter.ALL)) {
      updateContextDates(context,res);
      result.add(res);
    }
  }
  return result;
}
