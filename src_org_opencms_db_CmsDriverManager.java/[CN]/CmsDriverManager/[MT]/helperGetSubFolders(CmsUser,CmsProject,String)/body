{
  CmsFolder cmsFolder=readFolder(currentUser,currentProject,foldername);
  checkPermissions(currentUser,currentProject,cmsFolder,I_CmsConstants.C_READ_ACCESS);
  Vector folders=m_vfsDriver.getSubFolders(currentProject.getId(),cmsFolder);
  CmsFolder folder;
  for (int z=0; z < folders.size(); z++) {
    folder=(CmsFolder)folders.elementAt(z);
    if (!hasPermissions(currentUser,currentProject,folder,I_CmsConstants.C_READ_ACCESS,false)) {
      folders.removeElementAt(z);
      z--;
    }
  }
  return folders;
}
