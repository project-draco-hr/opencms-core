{
  if (isAdmin(context)) {
    List allBackupFiles=m_backupDriver.readBackupFileHeaders();
    int maxTag=m_backupDriver.readBackupProjectTag(timestamp);
    Iterator i=allBackupFiles.iterator();
    while (i.hasNext()) {
      CmsBackupResource res=(CmsBackupResource)i.next();
      int resVersions=m_backupDriver.readBackupMaxVersion(res.getResourceId());
      int versionsToDelete=resVersions - versions;
      if (versionsToDelete > 0) {
        m_backupDriver.deleteBackup(res,maxTag,versionsToDelete);
      }
    }
  }
}
