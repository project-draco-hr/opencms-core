{
  CmsPropertydefinition propertyDefinition=null;
  name=name.trim();
  validFilename(name);
  try {
    try {
      propertyDefinition=m_vfsDriver.readPropertyDefinition(runtimeInfo,name,context.currentProject().getId(),mappingtype);
    }
 catch (    CmsException e) {
      propertyDefinition=m_vfsDriver.createPropertyDefinition(runtimeInfo,context.currentProject().getId(),name,mappingtype);
    }
    try {
      m_vfsDriver.readPropertyDefinition(runtimeInfo,name,I_CmsConstants.C_PROJECT_ONLINE_ID,mappingtype);
    }
 catch (    CmsException e) {
      m_vfsDriver.createPropertyDefinition(runtimeInfo,I_CmsConstants.C_PROJECT_ONLINE_ID,name,mappingtype);
    }
    try {
      m_backupDriver.readBackupPropertyDefinition(runtimeInfo,name,mappingtype);
    }
 catch (    CmsException e) {
      m_backupDriver.createBackupPropertyDefinition(runtimeInfo,name,mappingtype);
    }
  }
  finally {
    OpenCms.fireCmsEvent(new CmsEvent(I_CmsEventListener.EVENT_PROPERTY_DEFINITION_CREATED,Collections.singletonMap("propertyDefinition",propertyDefinition)));
  }
  return propertyDefinition;
}
