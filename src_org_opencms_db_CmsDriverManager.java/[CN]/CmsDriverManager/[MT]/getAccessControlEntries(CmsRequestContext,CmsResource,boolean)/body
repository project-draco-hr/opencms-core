{
  CmsResource res=resource;
  CmsUUID resourceId=res.getResourceAceId();
  Vector acEntries=m_userDriver.getAccessControlEntries(context.currentProject(),resourceId,false);
  CmsUUID structureId;
  while (getInherited && !(structureId=res.getParentId()).isNullUUID()) {
    res=m_vfsDriver.readFolder(res.getProjectId(),structureId);
    acEntries.addAll(m_userDriver.getAccessControlEntries(context.currentProject(),res.getResourceAceId(),getInherited));
  }
  return acEntries;
}
