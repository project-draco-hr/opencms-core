{
  List result=new ArrayList();
  Iterator i=resources.iterator();
  while (i.hasNext()) {
    CmsResource res=(CmsResource)i.next();
    if (storage.contains(res.getParentId())) {
      if (res.getState() != I_CmsConstants.C_STATE_DELETED) {
        if (hasPermissions(context,res,I_CmsConstants.C_READ_ACCESS,false)) {
          result.add(res);
        }
      }
    }
  }
  return result;
}
