{
  List result=new ArrayList();
  Iterator i=resources.iterator();
  while (i.hasNext()) {
    CmsResource res=(CmsResource)i.next();
    if (storage.contains(res.getParentStructureId())) {
      if (PERM_ALLOWED == hasPermissions(context,res,I_CmsConstants.C_READ_ACCESS,CmsResourceFilter.IGNORE_EXPIRATION)) {
        res.setFullResourceName(readPath(context,res,CmsResourceFilter.DEFAULT));
        result.add(res);
        updateContextDates(context,res);
      }
    }
  }
  return result;
}
