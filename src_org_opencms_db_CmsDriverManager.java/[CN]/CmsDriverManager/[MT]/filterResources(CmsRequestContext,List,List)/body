{
  List result=new ArrayList();
  if (folderList == null) {
    folderList=result;
  }
  for (int i=0; i < resourceList.size(); i++) {
    CmsResource res=(CmsResource)resourceList.get(i);
    try {
      if (!getLock(context,CmsRuntimeInfoFactory.getNullRuntimeInfo(),res.getRootPath()).isNullLock()) {
        continue;
      }
      if (!I_CmsConstants.C_ROOT.equals(res.getRootPath()) && !(checkParentResource(context,folderList,res) || checkParentResource(context,result,res))) {
        continue;
      }
      result.add(res);
    }
 catch (    Exception e) {
    }
  }
  return result;
}
