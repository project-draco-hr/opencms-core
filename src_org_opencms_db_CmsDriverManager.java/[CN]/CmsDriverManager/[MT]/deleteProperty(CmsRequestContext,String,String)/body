{
  CmsResource res=readFileHeader(context,resource);
  checkPermissions(context,res,I_CmsConstants.C_WRITE_ACCESS);
  I_CmsResourceType resType=getResourceType(context,res.getType());
  CmsPropertydefinition metadef=readPropertydefinition(context,property,resType.getResourceType());
  if ((metadef != null)) {
    m_vfsDriver.deleteProperty(property,context.currentProject().getId(),res,res.getType());
    if (res.isFile()) {
      m_vfsDriver.writeFileHeader(context.currentProject(),(CmsFile)res,true,context.currentUser().getId());
      if (res.getState() == I_CmsConstants.C_STATE_UNCHANGED) {
        res.setState(I_CmsConstants.C_STATE_CHANGED);
      }
    }
 else {
      if (res.getState() == I_CmsConstants.C_STATE_UNCHANGED) {
        res.setState(I_CmsConstants.C_STATE_CHANGED);
      }
      m_vfsDriver.writeFolder(context.currentProject(),readFolder(context,resource),true,context.currentUser().getId());
    }
    clearResourceCache();
    m_propertyCache.clear();
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ resource,CmsException.C_UNKNOWN_EXCEPTION);
  }
}
