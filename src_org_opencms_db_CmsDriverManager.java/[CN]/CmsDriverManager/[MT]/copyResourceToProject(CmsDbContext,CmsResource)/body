{
  if (!isInsideCurrentProject(dbc,resource.getRootPath())) {
    if (resource.isFolder()) {
      List<String> projectResources=m_projectDriver.readProjectResources(dbc,dbc.currentProject());
      for (int i=0; i < projectResources.size(); i++) {
        String resname=projectResources.get(i);
        if (resname.startsWith(resource.getRootPath())) {
          m_projectDriver.deleteProjectResource(dbc,dbc.currentProject().getUuid(),resname);
        }
      }
    }
    try {
      m_projectDriver.createProjectResource(dbc,dbc.currentProject().getUuid(),resource.getRootPath());
    }
 catch (    CmsException exc) {
    }
 finally {
      m_monitor.flushProjectResources();
      OpenCms.fireCmsEvent(new CmsEvent(I_CmsEventListener.EVENT_PROJECT_MODIFIED,Collections.singletonMap("project",dbc.currentProject())));
    }
  }
}
