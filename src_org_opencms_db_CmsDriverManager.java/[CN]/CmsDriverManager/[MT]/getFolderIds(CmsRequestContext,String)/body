{
  Set storage=new HashSet();
  List folders=getFolderTree(context,readFolder(context,folder));
  Iterator j=folders.iterator();
  while (j.hasNext()) {
    CmsResource fold=(CmsResource)j.next();
    if (fold.getState() != I_CmsConstants.C_STATE_DELETED) {
      if (hasPermissions(context,fold,I_CmsConstants.C_READ_ACCESS,false)) {
        CmsUUID id=fold.getId();
        storage.add(id);
      }
    }
  }
  return storage;
}
