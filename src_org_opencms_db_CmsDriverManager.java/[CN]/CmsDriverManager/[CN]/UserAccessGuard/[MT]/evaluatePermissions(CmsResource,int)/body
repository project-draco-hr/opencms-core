{
  if (isAdmin(getUser(),getProject())) {
    return new CmsPermissionSet(~0);
  }
 else {
    CmsAccessControlList acl=getAccessControlList(getUser(),getProject(),resource);
    return acl.getPermissions(getUser(),getGroupsOfUser(getUser(),getProject(),getUser().getName()));
  }
}
