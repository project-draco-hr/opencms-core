{
  HorizontalLayout main=new HorizontalLayout();
  main.setSpacing(true);
  main.setMargin(true);
  main.setWidth("100%");
  setCompositionRoot(main);
  m_principalTypeSelect=new ComboBox();
  m_principalTypeSelect.setWidth("150px");
  Map<String,String> principalTypes=new LinkedHashMap<String,String>();
  principalTypes.put(I_CmsPrincipal.PRINCIPAL_USER,"User");
  principalTypes.put(I_CmsPrincipal.PRINCIPAL_GROUP,"Group");
  CmsVaadinUtils.prepareComboBox(m_principalTypeSelect,principalTypes);
  m_principalTypeSelect.setNewItemsAllowed(false);
  m_principalTypeSelect.setNullSelectionAllowed(false);
  m_principalTypeSelect.select(I_CmsPrincipal.PRINCIPAL_USER);
  main.addComponent(m_principalTypeSelect);
  m_principalName=new TextField();
  m_principalName.setWidth("100%");
  main.addComponent(m_principalName);
  main.setExpandRatio(m_principalName,2);
  m_selectPrincipalButton=new Button(FontAwesome.USER);
  m_selectPrincipalButton.addStyleName("borderless");
  m_selectPrincipalButton.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      openPrincipalSelect();
    }
  }
);
  main.addComponent(m_selectPrincipalButton);
  m_addPermissionSetButton=new Button(FontAwesome.PLUS);
  m_addPermissionSetButton.addStyleName("borderless");
  m_addPermissionSetButton.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      onSelect();
    }
  }
);
  main.addComponent(m_addPermissionSetButton);
  new CmsPrincipalSelectExtension(this);
}
