{
  if (!cms.getRequestContext().currentProject().isOnlineProject()) {
    return false;
  }
  String cacheKey=OpenCms.getStaticExportManager().getCacheKey(cms.getRequestContext().getSiteRoot(),vfsName);
  Boolean secureResource=OpenCms.getStaticExportManager().getCacheSecureLinks().get(cacheKey);
  if (secureResource == null) {
    CmsSitemapEntry entry=null;
    try {
      entry=OpenCms.getSitemapManager().getEntryForUri(cms,vfsName);
    }
 catch (    Exception e) {
      secureResource=Boolean.FALSE;
      LOG.debug(e.getLocalizedMessage(),e);
    }
    if ((entry != null) && entry.isSitemap()) {
      String prop=entry.getProperties(true).get(CmsPropertyDefinition.PROPERTY_SECURE);
      secureResource=Boolean.valueOf(prop);
      OpenCms.getStaticExportManager().getCacheSecureLinks().put(cacheKey,secureResource);
    }
 else {
      try {
        String secureProp=cms.readPropertyObject(vfsName,CmsPropertyDefinition.PROPERTY_SECURE,true).getValue();
        secureResource=Boolean.valueOf(secureProp);
        OpenCms.getStaticExportManager().getCacheSecureLinks().put(cacheKey,secureResource);
      }
 catch (      CmsVfsResourceNotFoundException e) {
        secureResource=Boolean.FALSE;
        OpenCms.getStaticExportManager().getCacheSecureLinks().put(cacheKey,secureResource);
      }
catch (      Exception e) {
        secureResource=Boolean.FALSE;
      }
    }
  }
  return secureResource.booleanValue();
}
