{
  CmsObject cms=getCms();
  String address="";
  String vfsName=CmsLinkManager.getAbsoluteUri(getParamResource(),cms.getRequestContext().getUri());
  String secureResource="";
  String exportedResource="";
  try {
    secureResource=getCms().readPropertyObject(getParamResource(),I_CmsConstants.C_PROPERTY_SECURE,true).getValue();
    exportedResource=getCms().readPropertyObject(getParamResource(),I_CmsConstants.C_PROPERTY_EXPORT,true).getValue();
  }
 catch (  CmsException e) {
    if (OpenCms.getLog(this).isInfoEnabled()) {
      OpenCms.getLog(this).info(e);
    }
  }
  if (Boolean.valueOf(exportedResource).booleanValue()) {
    address=OpenCms.getStaticExportManager().getRfsName(cms,vfsName);
  }
 else {
    address=OpenCms.getStaticExportManager().getVfsPrefix().concat(vfsName);
  }
  if (Boolean.valueOf(secureResource).booleanValue()) {
    address=CmsSiteManager.getCurrentSite(cms).getSecureUrl().concat(address);
  }
 else {
    address=CmsSiteManager.getCurrentSite(cms).getUrl().concat(address);
  }
  return address;
}
