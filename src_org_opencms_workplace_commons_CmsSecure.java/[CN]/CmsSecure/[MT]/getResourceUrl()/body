{
  boolean secure=Boolean.parseBoolean(readProperty(I_CmsConstants.C_PROPERTY_SECURE));
  StringBuffer result=new StringBuffer();
  CmsSite currentSite=CmsSiteManager.getCurrentSite(getCms());
  if (currentSite == OpenCms.getSiteManager().getDefaultSite()) {
    result.append(OpenCms.getSiteManager().getWorkplaceServer());
  }
 else {
    if (secure) {
      result.append(currentSite.getSecureUrl());
    }
 else {
      result.append(currentSite.getUrl());
    }
  }
  result.append(OpenCms.getLinkManager().substituteLink(getCms(),getParamResource()));
  return result.toString();
}
