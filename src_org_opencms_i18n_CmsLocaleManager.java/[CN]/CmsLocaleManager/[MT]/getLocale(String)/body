{
  if (localeName == null) {
    return getDefaultLocale();
  }
  Locale locale;
synchronized (m_localeCache) {
    locale=(Locale)m_localeCache.get(localeName);
    if (locale == null) {
      try {
        String[] localeNames=CmsStringUtil.splitAsArray(localeName,'_');
        locale=new Locale(localeNames[0],(localeNames.length > 1) ? localeNames[1] : "",(localeNames.length > 2) ? localeNames[2] : "");
      }
 catch (      Throwable t) {
        OpenCms.getLog(OpenCms.getLocaleManager()).debug("Could not create a Locale out of '" + localeName + "'",t);
        locale=getDefaultLocale();
      }
      m_localeCache.put(localeName,locale);
    }
  }
  return locale;
}
