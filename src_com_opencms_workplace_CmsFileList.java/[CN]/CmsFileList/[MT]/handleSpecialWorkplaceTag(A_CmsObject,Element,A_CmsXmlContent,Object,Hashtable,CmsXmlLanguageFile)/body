{
  String method=n.getAttribute(C_FILELIST_METHOD);
  String displayMethod=n.getAttribute(C_FILELIST_DISPLAYMETHOD);
  String template=n.getAttribute(C_FILELIST_TEMPLATE);
  String columnsMethodName=n.getAttribute("columnsmethod");
  CmsXmlWpTemplateFile filelistTemplate=new CmsXmlWpTemplateFile(cms,template);
  CmsXmlWpConfigFile configFile=this.getConfigFile(cms);
  Vector filelist=new Vector();
  Method nameDisplayMethod=null;
  Method columnsMethod=null;
  Method groupsMethod=null;
  try {
    if (displayMethod != null && !"".equals(displayMethod)) {
      nameDisplayMethod=callingObject.getClass().getMethod(displayMethod,new Class[]{A_CmsObject.class,A_CmsResource.class});
    }
  }
 catch (  NoSuchMethodException exc) {
    throwException("Could not find method " + displayMethod + " in calling class "+ callingObject.getClass().getName()+ " for generating select box content.",CmsException.C_NOT_FOUND);
  }
  try {
    if (columnsMethodName != null && !"".equals(columnsMethodName)) {
      columnsMethod=callingObject.getClass().getMethod(columnsMethodName,new Class[]{A_CmsObject.class,Integer.class});
    }
  }
 catch (  NoSuchMethodException exc) {
    throwException("Could not find method " + columnsMethodName + " in calling class "+ callingObject.getClass().getName()+ " for generating select box content.",CmsException.C_NOT_FOUND);
  }
  try {
    groupsMethod=callingObject.getClass().getMethod(method,new Class[]{A_CmsObject.class});
    filelist=((Vector)groupsMethod.invoke(callingObject,new Object[]{cms}));
  }
 catch (  NoSuchMethodException exc) {
    throwException("Could not find method " + method + " in calling class "+ callingObject.getClass().getName()+ " for generating select box content.",CmsException.C_NOT_FOUND);
  }
catch (  InvocationTargetException targetEx) {
    Throwable e=targetEx.getTargetException();
    if (!(e instanceof CmsException)) {
      e.printStackTrace();
      throwException("User method " + method + " in calling class "+ callingObject.getClass().getName()+ " throwed an exception. "+ e,CmsException.C_UNKNOWN_EXCEPTION);
    }
 else {
      throw (CmsException)e;
    }
  }
catch (  Exception exc2) {
    throwException("User method " + method + " in calling class "+ callingObject.getClass().getName()+ " was found but could not be invoked. "+ exc2,CmsException.C_XML_NO_USER_METHOD);
  }
  return getFilelist(cms,filelist,filelistTemplate,lang,parameters,callingObject,configFile,nameDisplayMethod,columnsMethod);
}
