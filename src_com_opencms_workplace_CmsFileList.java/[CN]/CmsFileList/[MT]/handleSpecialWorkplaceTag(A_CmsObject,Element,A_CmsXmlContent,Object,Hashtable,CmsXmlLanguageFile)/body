{
  String template=n.getAttribute(C_FILELIST_TEMPLATE);
  String customizedTemplate=n.getAttribute(C_FILELIST_CUSTOMTEMPLATE);
  CmsXmlWpTemplateFile filelistTemplate=new CmsXmlWpTemplateFile(cms,template);
  filelistTemplate.setXmlData(C_FILELIST_COLUMN_CUSTOMIZED,"");
  filelistTemplate.setXmlData(C_FILELIST_COLUMN_CUSTOMIZED_VALUE,"");
  if (customizedTemplate != null && !"".equals(customizedTemplate)) {
    filelistTemplate.readIncludeFile(customizedTemplate);
  }
  if (!(callingObject instanceof I_CmsFileListUsers)) {
    throwException("Class " + callingObject.getClass().getName() + " is using a \"FILELIST\" tag in its "+ "template file "+ doc.getAbsoluteFilename()+ ", but does not implement I_CmsFileListUsers. ",CmsException.C_XML_WRONG_TEMPLATE_CLASS);
  }
  CmsXmlWpConfigFile configFile=this.getConfigFile(cms);
  I_CmsFileListUsers filelistUser=(I_CmsFileListUsers)callingObject;
  Vector filelist=filelistUser.getFiles(cms);
  return getFilelist(cms,filelist,filelistTemplate,lang,parameters,filelistUser,configFile);
}
