{
  I_CmsExtractionResult content=null;
  String cacheName=null;
  CmsExtractionResultCache cache=getCache();
  if (cache != null) {
    cacheName=cache.getCacheName(resource,isLocaleDependend() ? index.getLocale() : null);
    content=(I_CmsExtractionResult)cache.getCacheObject(cacheName);
  }
  if (content == null) {
    try {
      content=extractContent(cms,resource,index);
      if (cache != null) {
        cache.saveCacheObject(cacheName,content);
      }
    }
 catch (    Exception e) {
      LOG.error(Messages.get().getBundle().key(Messages.ERR_TEXT_EXTRACTION_1,resource.getRootPath()),e);
    }
  }
  return index.getFieldConfiguration().createDocument(cms,resource,index,content);
}
