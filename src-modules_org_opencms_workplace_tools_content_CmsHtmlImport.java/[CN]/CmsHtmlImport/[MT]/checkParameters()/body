{
  Locale userLocale=getLocale();
  StringBuffer errorBuffer=new StringBuffer();
  File inputDir=new File(m_inputDir);
  if (!inputDir.exists() || inputDir.isFile()) {
    errorBuffer.append("<br><br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_INPUTDIR_1,new Object[]{m_inputDir}));
  }
  try {
    m_cmsObject.readFolder(m_destinationDir);
  }
 catch (  CmsException e) {
    errorBuffer.append("<br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_DESTDIR_1,new Object[]{m_destinationDir}));
  }
  try {
    m_cmsObject.readFolder(m_imageGallery);
  }
 catch (  CmsException e) {
    errorBuffer.append("<br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_DESTDIR_1,new Object[]{m_imageGallery}));
  }
  try {
    m_cmsObject.readFolder(m_linkGallery);
  }
 catch (  CmsException e) {
    errorBuffer.append("<br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_LINKGALLERY_1,new Object[]{m_linkGallery}));
  }
  if (!isExternal(m_downloadGallery)) {
    try {
      m_cmsObject.readFolder(m_downloadGallery);
    }
 catch (    CmsException e) {
      errorBuffer.append("<br>");
      errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_DOWNGALLERY_1,new Object[]{m_downloadGallery}));
    }
  }
  try {
    m_cmsObject.readResource(m_template,CmsResourceFilter.ALL);
  }
 catch (  CmsException e) {
    errorBuffer.append("<br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_TEMPLATE_1,new Object[]{m_template}));
  }
  if (!isValidElement()) {
    errorBuffer.append("<br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_INVALID_ELEM_2,new Object[]{m_element,m_template}));
  }
  if (m_cmsObject.getRequestContext().currentProject().isOnlineProject()) {
    errorBuffer.append("<br>");
    errorBuffer.append(Messages.get().key(userLocale,Messages.GUI_HTMLIMPORT_CONSTRAINT_OFFLINE_0,null));
  }
  if (errorBuffer.length() > 0) {
    throw new CmsParameterValidationException(errorBuffer.toString());
  }
}
