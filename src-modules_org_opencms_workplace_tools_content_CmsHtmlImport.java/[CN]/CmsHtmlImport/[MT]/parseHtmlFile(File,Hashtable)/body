{
  String parsedHtml="";
  try {
    byte[] content=getFileBytes(file);
    String contentString=new String(content,m_inputEncoding);
    contentString=CmsEncoder.escapeNonAscii(contentString);
    contentString=substitute(contentString,"&#","{subst}");
    parsedHtml=m_htmlConverter.convertHTML(file.getAbsolutePath(),contentString,m_startPattern,m_endPattern,properties);
    parsedHtml=substitute(parsedHtml,"{subst}","&#");
  }
 catch (  Exception e) {
    if (CmsLog.LOG.isWarnEnabled()) {
      CmsLog.LOG.warn(e.getMessage());
    }
    e.printStackTrace();
    throw new CmsImportExportException(Messages.get().container(Messages.ERR_HTMLIMPORT_PARSE_1,file.getAbsolutePath()),e);
  }
  return parsedHtml;
}
