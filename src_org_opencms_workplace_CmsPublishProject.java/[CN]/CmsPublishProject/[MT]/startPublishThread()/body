{
  CmsPublishThread thread=null;
  if ("true".equals(getParamDirectpublish())) {
    thread=new CmsPublishThread(getCms(),getParamResource(),"true".equals(getParamPublishsiblings()));
  }
 else {
    try {
      int projectId=Integer.parseInt(getParamProjectid());
      getCms().getRequestContext().setCurrentProject(projectId);
    }
 catch (    Exception e) {
    }
    thread=new CmsPublishThread(getCms());
  }
  setParamThread(thread.getId().toString());
  setParamThreadHasNext("false");
  thread.start();
}
