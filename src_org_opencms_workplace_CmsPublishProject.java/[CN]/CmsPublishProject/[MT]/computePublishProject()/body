{
  String projectId=getParamProjectid();
  int id;
  if (projectId == null || "".equals(projectId.trim())) {
    id=getCms().getRequestContext().currentProject().getId();
    setParamProjectname(getCms().getRequestContext().currentProject().getName());
    setParamProjectid("" + id);
  }
 else {
    id=Integer.parseInt(projectId);
    try {
      setParamProjectname(getCms().readProject(id).getName());
    }
 catch (    CmsException e) {
      OpenCms.getLog(this).error("Error setting project name parameter",e);
    }
  }
}
