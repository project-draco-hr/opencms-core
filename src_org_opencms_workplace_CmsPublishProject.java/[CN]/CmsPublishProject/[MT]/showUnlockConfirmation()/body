{
  try {
    if ("true".equals(getParamDirectpublish())) {
      CmsResource res=getCms().readFileHeader(getParamResource());
      if (res.getState() != I_CmsConstants.C_STATE_DELETED && res.isFolder()) {
        return (getCms().countLockedResources(getParamResource()) > 0);
      }
    }
 else {
      int id=Integer.parseInt(getParamProjectid());
      return (getCms().countLockedResources(id) > 0);
    }
  }
 catch (  CmsException e) {
  }
  return false;
}
