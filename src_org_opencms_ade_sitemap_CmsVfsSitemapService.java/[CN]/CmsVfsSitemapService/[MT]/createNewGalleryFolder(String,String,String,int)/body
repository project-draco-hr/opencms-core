{
  CmsObject cms=getCmsObject();
  CmsGalleryFolderEntry folderEntry=null;
  try {
    if (!cms.existsResource(parentFolder,CmsResourceFilter.IGNORE_EXPIRATION)) {
      CmsResource parent=cms.createResource(parentFolder,CmsResourceTypeFolder.getStaticTypeId());
      tryUnlock(parent);
    }
    String folderPath=CmsStringUtil.joinPaths(parentFolder,folderName);
    CmsResource galleryFolder=cms.createResource(folderPath,folderTypeId,null,Collections.singletonList(new CmsProperty(CmsPropertyDefinition.PROPERTY_TITLE,title,null)));
    folderEntry=readGalleryFolderEntry(galleryFolder,OpenCms.getResourceManager().getResourceType(galleryFolder).getTypeName());
    tryUnlock(galleryFolder);
  }
 catch (  CmsException e) {
    error(e);
  }
  return folderEntry;
}
