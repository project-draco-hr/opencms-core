{
  try {
    CmsObject cms=getCmsObject();
    CmsAliasManager aliasManager=OpenCms.getAliasManager();
    List<CmsAlias> aliases=aliasManager.getAliasesForSite(cms,cms.getRequestContext().getSiteRoot());
    List<CmsAliasTableRow> rows=new ArrayList<CmsAliasTableRow>();
    CmsAliasInitialFetchResult result=new CmsAliasInitialFetchResult();
    for (    CmsAlias alias : aliases) {
      CmsAliasTableRow row=createAliasTableEntry(cms,alias);
      rows.add(row);
    }
    result.setRows(rows);
    CmsUser otherLockOwner=aliasEditorLockTable.update(cms,cms.getRequestContext().getSiteRoot());
    if (otherLockOwner != null) {
      result.setAliasLockOwner(otherLockOwner.getName());
    }
    result.setDownloadUrl(OpenCms.getLinkManager().getServerLink(cms,"/system/modules/org.opencms.ade.sitemap/pages/download-aliases.jsp"));
    return result;
  }
 catch (  Throwable e) {
    error(e);
    return null;
  }
}
