{
  PreparedStatement pstmt=null;
synchronized (m_prepStatements) {
    while (m_prepStatements.size() == 0) {
      try {
        if (A_OpenCms.isLogging()) {
          A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INFO,"[CmsDbPool] no connections available - have to wait.");
        }
        m_prepStatements.wait(100);
      }
 catch (      InterruptedException exc) {
      }
    }
    Hashtable pool=(Hashtable)m_prepStatements.pop();
    pstmt=(PreparedStatement)pool.get(key);
    m_usedStatementsCache.put(pstmt,pool);
    m_prepStatements.notify();
  }
  return pstmt;
}
