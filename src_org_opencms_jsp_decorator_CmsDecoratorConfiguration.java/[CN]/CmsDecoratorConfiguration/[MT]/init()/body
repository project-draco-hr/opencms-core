{
  CmsResource res=m_cms.readResource(m_configFile);
  CmsFile file=CmsFile.upgrade(res,m_cms);
  CmsXmlContent configuration=CmsXmlContentFactory.unmarshal(m_cms,file);
  String uselocale=configuration.getValue(XPATH_USELOCALE,m_configurationLocale).getStringValue(m_cms);
  if (!uselocale.equals("true")) {
    m_locale=null;
  }
  int decorationDefCount=configuration.getIndexCount(XPATH_DECORATION,m_configurationLocale);
  for (int i=1; i <= decorationDefCount; i++) {
    CmsDecorationDefintion decDef=getDecorationDefinition(configuration,i);
    CmsDecorationBundle decBundle=decDef.createDecorationBundle(m_cms,m_locale);
    m_decorations.putAll(decBundle.getAll());
  }
  int excludeValuesCount=configuration.getIndexCount(XPATH_EXCLUDE,m_configurationLocale);
  for (int i=1; i <= excludeValuesCount; i++) {
    String excludeValue=configuration.getStringValue(m_cms,XPATH_EXCLUDE + "[" + i+ "]",m_configurationLocale);
    m_excludes.add(excludeValue.toLowerCase());
  }
}
