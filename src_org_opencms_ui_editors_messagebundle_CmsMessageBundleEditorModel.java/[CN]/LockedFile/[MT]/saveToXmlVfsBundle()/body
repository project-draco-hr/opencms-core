{
  for (  Locale l : m_locales) {
    Properties props=m_localizations.get(l);
    if (null != props) {
      m_xmlBundle.removeLocale(l);
      m_xmlBundle.addLocale(m_cms,l);
      int i=0;
      for (      Object k : props.keySet()) {
        String key=(String)k;
        if (!key.isEmpty()) {
          String value=props.getProperty(key);
          if (!value.isEmpty()) {
            m_xmlBundle.addValue(m_cms,"Message",l,i);
            i++;
            m_xmlBundle.getValue("Message[" + i + "]/Key",l).setStringValue(m_cms,key);
            m_xmlBundle.getValue("Message[" + i + "]/Value",l).setStringValue(m_cms,value);
          }
        }
      }
    }
    CmsFile bundleFile=m_bundleFiles.get(null).getFile();
    bundleFile.setContents(m_xmlBundle.marshal());
    m_cms.writeFile(bundleFile);
  }
}
