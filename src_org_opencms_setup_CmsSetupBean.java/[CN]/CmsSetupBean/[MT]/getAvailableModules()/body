{
  if (m_availableModules == null || m_availableModules.isEmpty()) {
    m_availableModules=new HashMap();
    m_moduleDependencies=new HashMap();
    m_moduleFilenames=new HashMap();
    try {
      Map modules=CmsModuleManager.getAllModulesFromPath(getModuleFolder());
      Iterator itMods=modules.keySet().iterator();
      while (itMods.hasNext()) {
        CmsModule module=(CmsModule)itMods.next();
        m_availableModules.put(module.getName(),module);
        m_moduleFilenames.put(module.getName(),modules.get(module));
      }
    }
 catch (    CmsConfigurationException e) {
      throw new CmsRuntimeException(e.getMessageContainer());
    }
  }
  return m_availableModules;
}
