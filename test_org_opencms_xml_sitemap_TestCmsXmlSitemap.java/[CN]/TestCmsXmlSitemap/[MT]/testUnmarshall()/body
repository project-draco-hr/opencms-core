{
  CmsObject cms=getCmsObject();
  String sitemapName="/sitemap/sitemap";
  CmsResource sitemapResource=cms.readResource(sitemapName);
  String xsdName="/system/workplace/editors/sitemap/schemas/sitemap.xsd";
  CmsResource xsdResource=cms.readResource(xsdName);
  List<CmsRelation> relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.TARGETS.filterType(CmsRelationType.XSD));
  assertEquals(1,relations.size());
  assertRelation(new CmsRelation(sitemapResource,xsdResource,CmsRelationType.XSD),relations.get(0));
  relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.TARGETS.filterType(CmsRelationType.XML_STRONG));
  assertEquals(1,relations.size());
  String cntPageName="/containerpage/index.html";
  CmsResource cntPageResource=cms.readResource(cntPageName);
  assertRelation(new CmsRelation(sitemapResource,cntPageResource,CmsRelationType.XML_STRONG),relations.get(0));
  String subsitemapName="/sitemap/subsitemap";
  CmsResource subsitemapResource=cms.readResource(subsitemapName);
  relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.TARGETS.filterType(CmsRelationType.XML_WEAK));
  assertEquals(1,relations.size());
  assertRelation(new CmsRelation(sitemapResource,subsitemapResource,CmsRelationType.XML_WEAK),relations.get(0));
  relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.TARGETS);
  assertEquals(4,relations.size());
}
