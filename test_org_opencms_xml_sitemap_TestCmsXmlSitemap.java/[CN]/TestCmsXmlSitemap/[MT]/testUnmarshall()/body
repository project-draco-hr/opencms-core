{
  CmsObject cms=getCmsObject();
  String sitemapName="/sitemap/sitemap";
  CmsResource sitemapResource=cms.readResource(sitemapName);
  String xsdName="/system/workplace/editors/sitemap/schemas/sitemap.xsd";
  CmsResource xsdResource=cms.readResource(xsdName);
  List<CmsRelation> relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.ALL.filterType(CmsRelationType.XSD));
  assertEquals(1,relations.size());
  assertRelation(new CmsRelation(sitemapResource,xsdResource,CmsRelationType.XSD),relations.get(0));
  String entrypointName="/";
  CmsResource entrypointResource=cms.readResource(entrypointName);
  relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.ALL.filterType(CmsRelationType.ENTRY_POINT));
  assertEquals(1,relations.size());
  assertRelation(new CmsRelation(sitemapResource,entrypointResource,CmsRelationType.ENTRY_POINT),relations.get(0));
  String cntPageName="/containerpage/index.html";
  CmsResource cntPageResource=cms.readResource(cntPageName);
  relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.ALL.filterType(CmsRelationType.XML_STRONG));
  assertEquals(1,relations.size());
  assertRelation(new CmsRelation(sitemapResource,cntPageResource,CmsRelationType.XML_STRONG),relations.get(0));
  relations=cms.getRelationsForResource(sitemapResource,CmsRelationFilter.ALL);
  assertEquals(3,relations.size());
}
