{
  try {
    cms.getRequestContext().saveSiteRoot();
    cms.getRequestContext().setSiteRoot("/");
    if (CmsHistoryList.OFFLINE_PROJECT.equals(version)) {
      return cms.readFile(cms.getRequestContext().removeSiteRoot(path),CmsResourceFilter.ALL);
    }
 else {
      return cms.readBackupFile(cms.getRequestContext().removeSiteRoot(path),tagId);
    }
  }
  finally {
    cms.getRequestContext().restoreSiteRoot();
  }
}
