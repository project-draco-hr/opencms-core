{
  StringBuffer html=new StringBuffer(512);
  String toolPath=getCurrentToolPath();
  String parentPath=getParentPath();
  String upLevelLink=CmsToolManager.linkForToolPath(getJsp(),parentPath);
  CmsTool parentTool=getToolManager().resolveAdminTool(parentPath);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(parentTool.getHandler().getParameters())) {
    if (!upLevelLink.endsWith("&")) {
      upLevelLink+="&";
    }
    upLevelLink+=resolveMacros(parentTool.getHandler().getParameters());
  }
  String parentName=getToolManager().resolveAdminTool(parentPath).getHandler().getName();
  html.append(getToolManager().generateNavBar(toolPath,this));
  html.append("<div class='screenTitle'>\n");
  html.append("\t<table width='100%' cellspacing='0'>\n");
  html.append("\t\t<tr>\n");
  html.append("\t\t\t<td>\n");
  html.append(getAdminTool().getHandler().getName());
  html.append("\n\t\t\t</td>");
  if (getParentPath() != toolPath) {
    html.append("\t\t\t<td class='uplevel'>\n\t\t\t\t");
    String onClic="openPage('" + upLevelLink + "');";
    html.append(A_CmsHtmlIconButton.defaultButtonHtml(CmsHtmlIconButtonStyleEnum.SMALL_ICON_TEXT,"id-up-level",Messages.get().key(getLocale(),Messages.GUI_ADMIN_VIEW_UPLEVEL_0,null),parentName,true,"admin/images/up.png",onClic));
    html.append("\n\t\t\t</td>\n");
  }
  html.append("\t\t</tr>\n");
  html.append("\t</table>\n");
  html.append("</div>\n");
  return resolveMacros(html.toString());
}
