{
  if (!useNewStyle() || segment != HTML_START) {
    return super.pageHtmlStyle(segment,title,stylesheet);
  }
  StringBuffer html=new StringBuffer(512);
  html.append("<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n");
  html.append("<html>\n");
  html.append("\t<head>\n");
  if (title != null) {
    html.append("\t\t<title>");
    html.append(title);
    html.append("</title>\n");
  }
  html.append("\t\t<meta http-equiv='Content-Type' content='text/html; charset=");
  html.append(getEncoding());
  html.append("' >\n");
  html.append("\t\t<link rel='stylesheet' type='text/css' href='");
  html.append(getStyleUri(getJsp()));
  html.append("new_admin.css'>\n");
  html.append("\t\t<script language='javascript' type='text/javascript' src='");
  html.append(getSkinUri());
  html.append("admin/javascript/general.js'></script>\n");
  html.append("\t</head>\n");
  html.append("\t<script language='javascript' type='text/javascript'><!--\n");
  html.append("\t\tfunction bodyLoad() {\n");
  html.append("\t\t\tsetContext(\"");
  html.append(CmsStringUtil.escapeJavaScript(resolveMacros(getAdminTool().getHandler().getHelpText())));
  html.append("\");\n");
  html.append("\t\t\tsetActiveItemByName(\"");
  html.append(getCurrentToolPath());
  html.append("\");\n");
  html.append("\t\t\tloadingOff('');\n");
  html.append("\t\t\tdocument.getElementById('loaderContainerH').height = document.getElementById('screenH').offsetHeight;\n");
  html.append("\t\t}\n");
  html.append("\t\tfunction bodyUnload() {\n");
  if (!(this instanceof CmsReport)) {
    html.append("\t\t\tloadingOn('');\n");
  }
  html.append("\t\t}\n");
  html.append("\t// --></script>\n");
  return html.toString();
}
