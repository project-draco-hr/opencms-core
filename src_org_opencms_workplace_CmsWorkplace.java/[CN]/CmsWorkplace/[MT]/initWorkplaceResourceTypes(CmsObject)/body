{
  Map resourceTypes=new HashMap();
  I_CmsResourceType[] allResTypes=OpenCms.getLoaderManager().getAllResourceTypes();
  for (int i=0; i < allResTypes.length; i++) {
    if (allResTypes[i] == null) {
      continue;
    }
    try {
      cms.readFileHeader(I_CmsWpConstants.C_VFS_PATH_WORKPLACE + "restypes/" + allResTypes[i].getTypeName());
      resourceTypes.put(new Integer(allResTypes[i].getTypeId()),allResTypes[i]);
    }
 catch (    CmsException e) {
    }
  }
  return resourceTypes;
}
