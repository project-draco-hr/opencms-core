{
  CmsRequestContext reqCont=cms.getRequestContext();
  if (settings.getProject() != reqCont.currentProject().getId()) {
    try {
      reqCont.setCurrentProject(cms.readProject(settings.getProject()));
    }
 catch (    CmsException e) {
      if (OpenCms.getLog(this).isInfoEnabled()) {
        OpenCms.getLog(this).info(e);
      }
    }
  }
  if (!(settings.getSite().equals(reqCont.getSiteRoot()))) {
    reqCont.setSiteRoot(settings.getSite());
  }
}
