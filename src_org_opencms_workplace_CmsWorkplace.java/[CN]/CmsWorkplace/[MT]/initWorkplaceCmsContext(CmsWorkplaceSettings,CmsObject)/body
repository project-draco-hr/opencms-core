{
  CmsRequestContext reqCont=cms.getRequestContext();
  if (settings.getProject() != reqCont.currentProject().getId()) {
    try {
      reqCont.setCurrentProject(settings.getProject());
    }
 catch (    CmsException e) {
    }
  }
  if (!(settings.getSite().equals(reqCont.getSiteRoot()))) {
    reqCont.setSiteRoot(settings.getSite());
    settings.setExplorerResource("/");
  }
}
