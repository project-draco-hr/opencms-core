{
  m_currentProjectId=getSettings().getProject();
  int tempProject=0;
  try {
    tempProject=Integer.parseInt(getCms().getRegistry().getSystemValue("tempfileproject"));
  }
 catch (  Exception e) {
    throw new CmsException("Can not read projectId of tempfileproject for creating temporary file for editing! " + e.toString());
  }
  getCms().getRequestContext().setCurrentProject(getCms().readProject(tempProject));
  return tempProject;
}
