{
  CmsXmlColorValue castValue=(CmsXmlColorValue)value;
  StringBuffer result=new StringBuffer(128);
  result.append("<tr><td class=\"xmlLabel\">");
  result.append(getMessage(widgetDialog,contentDefinition,value.getElementName()));
  result.append(": </td>");
  result.append(getHelpBubble(cms,widgetDialog,contentDefinition,value.getElementName()));
  result.append("<td class=\"xmlTd\">");
  String colorValue=castValue.getStringValue(cms);
  String id=getParameterName(value);
  result.append("<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td>");
  result.append("<input type=\"text\"");
  result.append(" class=\"xmlInputSmall\" name=\"");
  result.append(id);
  result.append("\" value=\"");
  result.append(colorValue);
  result.append("\" maxlength=\"7\" onkeyup=\"previewColor('");
  result.append(id);
  result.append("');\"");
  result.append(" style=\"background-color: ");
  result.append(checkColor(colorValue));
  result.append("; color: ");
  result.append(getInputFontColor(colorValue));
  result.append(";\"></td>");
  result.append(widgetDialog.buttonBarSpacer(1));
  result.append(widgetDialog.button("javascript:showColorPicker('" + id + "');",null,"color_fill","button.color",widgetDialog.getSettings().getUserSettings().getEditorButtonStyle()));
  result.append("</tr></table>");
  result.append("</td></tr>\n");
  return result.toString();
}
