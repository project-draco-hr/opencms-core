{
  int windowWidth=Window.getClientWidth();
  int contentTop=m_button.getAbsoluteTop() + m_button.getOffsetHeight() + 1;
  int contentWidth=m_content.getOffsetWidth();
  int contentLeft=m_button.getAbsoluteLeft();
  int buttonWidth=m_button.getOffsetWidth();
  if (m_isOpenRight) {
    contentLeft-=5;
  }
 else {
    contentLeft+=buttonWidth - contentWidth + 5;
  }
  if (m_isToolbarMode) {
    contentTop=contentTop - Window.getScrollTop() + 3;
  }
  if ((contentWidth + 10 < windowWidth) && (contentWidth + contentLeft > windowWidth)) {
    contentLeft=windowWidth - contentWidth - 10;
    m_content.setPopupPosition(contentLeft,contentTop);
  }
 else {
    if (m_isToolbarMode) {
      m_content.setPopupPosition(contentLeft - Window.getScrollLeft(),contentTop);
    }
 else {
      m_content.setPopupPosition(contentLeft,contentTop);
    }
  }
}
