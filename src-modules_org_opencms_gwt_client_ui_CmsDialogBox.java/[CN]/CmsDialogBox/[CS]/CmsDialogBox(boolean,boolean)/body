{
  super(autoHide,modal);
  m_containerElement=super.getContainerElement();
  setStyleName(I_CmsLayoutBundle.INSTANCE.dialogCss().popup());
  m_containerElement.setClassName(I_CmsLayoutBundle.INSTANCE.dialogCss().popupContent() + " " + I_CmsLayoutBundle.INSTANCE.generalCss().cornerAll());
  setGlassStyleName(I_CmsLayoutBundle.INSTANCE.dialogCss().popupOverlay());
  Element dragOverlay=DOM.createDiv();
  dragOverlay.setClassName(I_CmsLayoutBundle.INSTANCE.dialogCss().dragOverlay());
  getElement().insertFirst(dragOverlay);
  Element shadowDiv=DOM.createDiv();
  shadowDiv.setClassName(I_CmsLayoutBundle.INSTANCE.dialogCss().popupShadow() + " " + I_CmsLayoutBundle.INSTANCE.generalCss().cornerAll());
  getElement().insertFirst(shadowDiv);
  m_caption=new Caption();
  m_caption.setStyleName(I_CmsLayoutBundle.INSTANCE.dialogCss().caption());
  m_caption.addStyleName(I_CmsLayoutBundle.INSTANCE.generalCss().cornerTop());
  DOM.appendChild(m_containerElement,m_caption.getElement());
  adopt(m_caption);
  m_windowWidth=Window.getClientWidth();
  m_clientLeft=Document.get().getBodyOffsetLeft();
  m_clientTop=Document.get().getBodyOffsetTop();
  MouseHandler mouseHandler=new MouseHandler();
  addDomHandler(mouseHandler,MouseDownEvent.getType());
  addDomHandler(mouseHandler,MouseUpEvent.getType());
  addDomHandler(mouseHandler,MouseMoveEvent.getType());
}
