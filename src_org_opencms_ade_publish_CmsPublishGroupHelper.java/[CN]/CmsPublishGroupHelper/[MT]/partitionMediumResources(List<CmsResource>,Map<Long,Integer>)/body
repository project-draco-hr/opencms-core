{
  if (resources.isEmpty()) {
    return Collections.<List<CmsResource>>emptyList();
  }
  CmsResource firstRes=resources.get(0);
  int lastDay=days.get(new Long(firstRes.getDateLastModified())).intValue();
  List<List<CmsResource>> result=new ArrayList<List<CmsResource>>();
  List<CmsResource> currentGroup=new ArrayList<CmsResource>();
  result.add(currentGroup);
  for (  CmsResource res : resources) {
    LOG.debug("Processing medium-aged resource " + res.getRootPath());
    int day=days.get(new Long(res.getDateLastModified())).intValue();
    if (day != lastDay) {
      LOG.debug("=== new group ===");
      currentGroup=new ArrayList<CmsResource>();
      result.add(currentGroup);
    }
    lastDay=day;
    currentGroup.add(res);
  }
  return result;
}
