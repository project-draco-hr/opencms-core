{
  LinkedList<CmsInternalSitemapEntry> entriesToProcess=new LinkedList<CmsInternalSitemapEntry>();
  entriesToProcess.addAll(rootEntries);
  while (!entriesToProcess.isEmpty()) {
    CmsInternalSitemapEntry currentEntry=entriesToProcess.removeFirst();
    if (currentEntry.getStructureId().equals(resourceId)) {
      return currentEntry;
    }
    CmsSimplePropertyValue sitemapProp=currentEntry.getNewProperties().get(CmsSitemapManager.Property.sitemap.name());
    if (sitemapProp == null) {
      entriesToProcess.addAll(currentEntry.getSubEntries());
    }
  }
  return null;
}
