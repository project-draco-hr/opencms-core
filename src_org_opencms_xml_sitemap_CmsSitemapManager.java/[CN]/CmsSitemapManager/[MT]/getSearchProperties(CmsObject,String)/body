{
  String path=cms.getRequestContext().addSiteRoot(uri);
  boolean online=cms.getRequestContext().currentProject().isOnlineProject();
  Map<String,String> properties=m_cache.getSearchProps(path,online);
  if (properties != null) {
    return properties;
  }
  if (m_cache.getMissingUri(path,online) != null) {
    return null;
  }
  EntryData data=getEntry(cms,path,online,true);
  if (data == null) {
    m_cache.setMissingUri(path,online);
    return null;
  }
  properties=new HashMap<String,String>();
  properties.putAll(getDefaultProperties(cms,data.getSitemap().getFile(),online));
  properties.putAll(data.getProperties());
  m_cache.setSearchProps(path,properties,online);
  return properties;
}
