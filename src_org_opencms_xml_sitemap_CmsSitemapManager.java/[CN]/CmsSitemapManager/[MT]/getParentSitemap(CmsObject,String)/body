{
  Map<String,String> active=m_cache.getActiveSitemaps(cms);
  String sitemapPath=cms.getRequestContext().addSiteRoot(sitemapUri);
  String entryPoint=null;
  for (  Map.Entry<String,String> entry : active.entrySet()) {
    if (!entry.getValue().equals(sitemapPath)) {
      continue;
    }
    if (!entry.getKey().startsWith(cms.getRequestContext().getLocale().toString())) {
      continue;
    }
    entryPoint=entry.getKey();
    break;
  }
  if (entryPoint == null) {
    return null;
  }
  Map.Entry<String,String> bestMatch=null;
  for (  Map.Entry<String,String> entry : active.entrySet()) {
    String key=entry.getKey();
    if (entryPoint.equals(key)) {
      continue;
    }
    if (!entryPoint.startsWith(key)) {
      continue;
    }
    if ((bestMatch == null) || (key.length() > bestMatch.getKey().length())) {
      bestMatch=entry;
    }
  }
  if (bestMatch == null) {
    return null;
  }
  return cms.getRequestContext().removeSiteRoot(bestMatch.getValue());
}
