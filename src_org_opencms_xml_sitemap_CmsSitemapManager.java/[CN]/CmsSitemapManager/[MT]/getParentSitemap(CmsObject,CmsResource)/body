{
  CmsRelationFilter filter=CmsRelationFilter.SOURCES.filterType(CmsRelationType.XML_WEAK);
  for (  CmsRelation relation : cms.getRelationsForResource(sitemap,filter)) {
    if (CmsResource.isTemporaryFileName(relation.getSourcePath())) {
      continue;
    }
    CmsResource source=relation.getSource(cms,CmsResourceFilter.ALL);
    if (((source.getFlags() & CmsResource.FLAG_TEMPFILE) > 0)) {
      continue;
    }
    if (!CmsResourceTypeXmlSitemap.isSitemap(source)) {
      continue;
    }
    return source;
  }
  return null;
}
