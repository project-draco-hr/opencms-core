{
  if (!resourcename.endsWith("." + getExtension())) {
    String name=resourcename + "." + getExtension();
    int count=0;
    while (cms.existsResource(name)) {
      count++;
      name=resourcename + "." + count+ "."+ getExtension();
    }
    if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().getBundle().key(Messages.LOG_CHANGED_FILE_EXTENSION_2,resourcename,name));
    }
    return name;
  }
  return resourcename;
}
