{
  if (resource.isFolder() || resource.isTemporaryFile()) {
    return true;
  }
  boolean excludeFromIndex=false;
  try {
    String propValue=cms.readPropertyObject(resource,CmsPropertyDefinition.PROPERTY_SEARCH_EXCLUDE,true).getValue();
    if (propValue != null) {
      propValue=propValue.trim();
      excludeFromIndex=PROPERTY_SEARCH_EXCLUDE_VALUE_ALL.equalsIgnoreCase(propValue) || PROPERTY_SEARCH_EXCLUDE_VALUE_ADE.equalsIgnoreCase(propValue);
    }
  }
 catch (  CmsException e) {
    if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().getBundle().key(Messages.LOG_UNABLE_TO_READ_PROPERTY_1,resource.getRootPath()));
    }
  }
  return excludeFromIndex;
}
