{
  String subsite=null;
  if (params.getReferencePath() != null) {
    subsite=OpenCms.getADEManager().getSubSiteRoot(cms,cms.getRequestContext().addSiteRoot(params.getReferencePath()));
    if (subsite != null) {
      subsite=cms.getRequestContext().removeSiteRoot(subsite);
    }
  }
  List<String> scopeFolders=getSearchRootsForScope(params.getScope(),cms.getRequestContext().getSiteRoot(),subsite);
  return scopeFolders;
}
