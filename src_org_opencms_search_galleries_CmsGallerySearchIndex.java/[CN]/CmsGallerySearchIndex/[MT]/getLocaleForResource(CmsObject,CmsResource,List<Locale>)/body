{
  Locale result;
  List<Locale> defaultLocales=OpenCms.getLocaleManager().getDefaultLocales(cms,resource);
  if ((availableLocales != null) && (availableLocales.size() > 0)) {
    result=OpenCms.getLocaleManager().getBestMatchingLocale(defaultLocales.get(0),defaultLocales,availableLocales);
  }
 else {
    result=defaultLocales.get(0);
  }
  return result;
}
