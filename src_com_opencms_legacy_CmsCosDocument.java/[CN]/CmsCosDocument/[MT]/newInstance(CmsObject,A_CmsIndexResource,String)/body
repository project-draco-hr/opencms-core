{
  Document document=new Document();
  CmsMasterDataSet content=(CmsMasterDataSet)resource.getData();
  String value=content.m_title;
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(value)) {
    document.add(Field.Keyword(I_CmsDocumentFactory.DOC_TITLE_KEY,value));
    document.add(Field.UnStored(I_CmsDocumentFactory.DOC_TITLE_INDEXED,value));
    document.add(Field.UnStored(I_CmsDocumentFactory.DOC_META,value));
  }
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_DATE_CREATED,new Date(content.m_dateCreated)));
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_DATE_LASTMODIFIED,new Date(content.m_dateLastModified)));
  document.add(Field.Keyword(I_CmsCosDocumentFactory.DOC_CHANNEL,((CmsCosIndexResource)resource).getChannel()));
  document.add(Field.Keyword(I_CmsCosDocumentFactory.DOC_CONTENT_DEFINITION,((CmsCosIndexResource)resource).getContentDefinition()));
  String path=m_cms.getRequestContext().removeSiteRoot(resource.getRootPath());
  document.add(Field.UnIndexed(I_CmsDocumentFactory.DOC_PATH,path));
  document.add(Field.UnIndexed(I_CmsCosDocumentFactory.DOC_CONTENT_ID,resource.getId().toString()));
  document.add(Field.Text(I_CmsDocumentFactory.DOC_CONTENT,extractContent(cms,resource,language).getContent()));
  return document;
}
