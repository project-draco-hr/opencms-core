{
  Document document=new Document();
  CmsMasterDataSet content=(CmsMasterDataSet)resource.getData();
  String value;
  if ((value=content.m_title) != null) {
    document.add(Field.Text(I_CmsDocumentFactory.DOC_TITLE,value));
    document.add(Field.Text(I_CmsDocumentFactory.DOC_META,value));
  }
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_DATE_CREATED,DateField.timeToString(content.m_dateCreated)));
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_DATE_LASTMODIFIED,DateField.timeToString(content.m_dateLastModified)));
  document.add(Field.Keyword(I_CmsCosDocumentFactory.DOC_CHANNEL,((CmsCosIndexResource)resource).getChannel()));
  document.add(Field.Keyword(I_CmsCosDocumentFactory.DOC_CONTENT_DEFINITION,((CmsCosIndexResource)resource).getContentDefinition()));
  String path=m_cms.getRequestContext().removeSiteRoot(resource.getRootPath());
  document.add(Field.UnIndexed(I_CmsDocumentFactory.DOC_PATH,path));
  document.add(Field.UnIndexed(I_CmsCosDocumentFactory.DOC_CONTENT_ID,resource.getId().toString()));
  document.add(Field.Text(I_CmsDocumentFactory.DOC_CONTENT,extractContent(cms,resource,language).getContent()));
  return document;
}
