{
  if (!m_metadata.isSearchable()) {
    return;
  }
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(searchFilter)) {
    if (!m_metadata.isSelfManaged()) {
      m_filteredItems=null;
    }
    m_searchFilter="";
    getMetadata().getSearchAction().getShowAllAction().setVisible(false);
  }
 else {
    CmsHtmlStripper stripper=new CmsHtmlStripper();
    try {
      searchFilter=stripper.stripHtml(searchFilter);
    }
 catch (    ParserException e) {
      if (searchFilter.toLowerCase().contains("</script>")) {
        searchFilter="";
      }
    }
    if (!m_metadata.isSelfManaged()) {
      m_filteredItems=getMetadata().getSearchAction().filter(getAllContent(),searchFilter);
    }
    m_searchFilter=searchFilter;
    getMetadata().getSearchAction().getShowAllAction().setVisible(true);
  }
  String sCol=m_sortedColumn;
  m_sortedColumn="";
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(sCol)) {
    CmsListOrderEnum order=getCurrentSortOrder();
    setSortedColumn(sCol);
    if (order == CmsListOrderEnum.ORDER_DESCENDING) {
      setSortedColumn(sCol);
    }
  }
  setCurrentPage(1);
}
