{
  boolean allOk=true;
  setErrors(new HashMap());
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(getEmailRecipient())) {
    getErrors().put("recipient",key("recommend.error.recipient.empty"));
    allOk=false;
  }
 else   if (!isValidEmailAddress(getEmailRecipient())) {
    getErrors().put("recipient",key("recommend.error.recipient.wrong"));
    allOk=false;
  }
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(getMessage())) {
    getErrors().put("message",key("recommend.error.message.empty"));
    allOk=false;
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(getCopy())) {
    if (CmsStringUtil.isEmptyOrWhitespaceOnly(getEmailSender())) {
      getErrors().put("sender",key("recommend.error.sender.empty"));
      allOk=false;
    }
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(getEmailSender()) && !isValidEmailAddress(getEmailSender())) {
    getErrors().put("sender",key("recommend.error.sender.wrong"));
    allOk=false;
  }
  return allOk;
}
