{
  boolean allOk=true;
  setErrors(new HashMap());
  if (getEmailRecipient() == null || "".equals(getEmailRecipient())) {
    getErrors().put("recipient",key("recommend.error.recipient.empty"));
    allOk=false;
  }
 else   if (!isValidEmailAddress(getEmailRecipient())) {
    getErrors().put("recipient",key("recommend.error.recipient.wrong"));
    allOk=false;
  }
  if (getMessage() == null || "".equals(getMessage().trim())) {
    getErrors().put("message",key("recommend.error.message.empty"));
    allOk=false;
  }
  if (!"".equals(getCopy())) {
    if (getEmailSender() == null || "".equals(getEmailSender())) {
      getErrors().put("sender",key("recommend.error.sender.empty"));
      allOk=false;
    }
  }
  if (getEmailSender() != null && !"".equals(getEmailSender()) && !isValidEmailAddress(getEmailSender())) {
    getErrors().put("sender",key("recommend.error.sender.wrong"));
    allOk=false;
  }
  return allOk;
}
