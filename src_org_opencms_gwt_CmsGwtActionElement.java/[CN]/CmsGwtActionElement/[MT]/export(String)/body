{
  String wpLocale=OpenCms.getWorkplaceManager().getWorkplaceLocale(getCmsObject()).getLanguage();
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(wpLocale)) {
    wpLocale=Locale.ENGLISH.getLanguage();
  }
  StringBuffer sb=new StringBuffer();
  String prefetchedData=serializeForJavascript(I_CmsCoreService.class.getMethod("prefetch"),getCoreData());
  sb.append(CmsCoreData.DICT_NAME).append("='").append(prefetchedData).append("';");
  sb.append(ClientMessages.get().export(getRequest()));
  wrapScript(sb);
  sb.append("<style type=\"text/css\">\n @import url(\"").append(iconCssLink(iconCssClassPrefix)).append("\");\n</style>\n");
  sb.append("<meta name=\"gwt:property\" content=\"locale=").append(wpLocale).append("\" />\n");
  sb.append("<meta name=\"X-UA-Compatible\" content=\"IE=9; chrome=1\">");
  return sb.toString();
}
