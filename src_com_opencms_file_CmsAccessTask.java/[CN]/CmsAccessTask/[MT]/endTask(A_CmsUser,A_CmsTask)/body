{
  try {
    PreparedStatement statementEndTask=m_Con.prepareStatement(C_TASK_END);
    statementEndTask.setTimestamp(1,new java.sql.Timestamp(System.currentTimeMillis()));
    statementEndTask.setInt(2,task.getId());
    statementEndTask.executeQuery();
    writeSytemTaskLog(task,"Task finished by " + user.getName());
    task.setState(C_TASK_STATE_ENDED);
  }
 catch (  SQLException exc) {
    throw new CmsException(exc.getMessage(),CmsException.C_SQL_ERROR,exc);
  }
}
