{
  if (OpenCms.getLog(this).isDebugEnabled()) {
    OpenCms.getLog(this).debug("Static export manager starting update of list of resources with 'exportname' property");
  }
  List resources;
  CmsObject cms=null;
  try {
    cms=OpenCms.initCmsObject(OpenCms.getDefaultUsers().getUserExport());
    resources=cms.readResourcesWithProperty(I_CmsConstants.C_PROPERTY_EXPORTNAME);
  }
 catch (  CmsException e) {
    resources=Collections.EMPTY_LIST;
  }
  m_exportnameResources=new HashMap(resources.size());
  for (int i=0, n=resources.size(); i < n; i++) {
    CmsResource res=(CmsResource)resources.get(i);
    try {
      String foldername=cms.getSitePath(res);
      String exportname=cms.readPropertyObject(foldername,I_CmsConstants.C_PROPERTY_EXPORTNAME,false).getValue();
      if (exportname != null) {
        if (!exportname.endsWith("/")) {
          exportname=exportname + "/";
        }
        if (!exportname.startsWith("/")) {
          exportname="/" + exportname;
        }
        m_exportnameResources.put(exportname,foldername);
      }
    }
 catch (    CmsException e) {
    }
  }
  m_exportnameResources=Collections.unmodifiableMap(m_exportnameResources);
  if (OpenCms.getLog(this).isDebugEnabled()) {
    OpenCms.getLog(this).debug("Static export manager finished update of list of resources with 'exportname' property");
  }
}
