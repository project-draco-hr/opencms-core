{
  m_staticExportPath=m_staticExportPathUnmodified;
  if (!m_staticExportPath.endsWith(File.separator)) {
    m_staticExportPath+=File.separator;
  }
  m_staticExportPath=OpenCms.getSystemInfo().getAbsoluteRfsPathRelativeToWebApplication(m_staticExportPath);
  m_rfsPrefix=insertContextStrings(m_rfsPrefixUnsubstituted);
  m_rfsPrefix=CmsFileUtil.normalizePath(m_rfsPrefix,'/');
  if (CmsResource.isFolder(m_rfsPrefix)) {
    m_rfsPrefix=m_rfsPrefix.substring(0,m_rfsPrefix.length() - 1);
  }
  m_vfsPrefix=insertContextStrings(m_vfsPrefixUnsubstituted);
  m_vfsPrefix=CmsFileUtil.normalizePath(m_vfsPrefix,'/');
  if (CmsResource.isFolder(m_vfsPrefix)) {
    m_vfsPrefix=m_vfsPrefix.substring(0,m_vfsPrefix.length() - 1);
  }
  if (OpenCms.getLog(CmsLog.CHANNEL_INIT).isDebugEnabled()) {
    OpenCms.getLog(CmsLog.CHANNEL_INIT).debug("Created static export manager" + ((cms != null) ? (" with CmsObject " + cms) : ""));
  }
  LRUMap lruMap1=new LRUMap(2048);
  m_cacheOnlineLinks=Collections.synchronizedMap(lruMap1);
  if (OpenCms.getMemoryMonitor().enabled()) {
    OpenCms.getMemoryMonitor().register(this.getClass().getName() + "." + "m_cacheOnlineLinks",lruMap1);
  }
  LRUMap lruMap2=new LRUMap(2048);
  m_cacheExportUris=Collections.synchronizedMap(lruMap2);
  if (OpenCms.getMemoryMonitor().enabled()) {
    OpenCms.getMemoryMonitor().register(this.getClass().getName() + "." + "m_cacheExportUris",lruMap2);
  }
  LRUMap lruMap3=new LRUMap(2048);
  m_cacheSecureLinks=Collections.synchronizedMap(lruMap3);
  if (OpenCms.getMemoryMonitor().enabled()) {
    OpenCms.getMemoryMonitor().register(this.getClass().getName() + "." + "m_cacheSecureUris",lruMap3);
  }
  OpenCms.addCmsEventListener(this,new int[]{I_CmsEventListener.EVENT_PUBLISH_PROJECT,I_CmsEventListener.EVENT_CLEAR_CACHES,I_CmsEventListener.EVENT_UPDATE_EXPORTS});
  m_exportFolderMatcher=new CmsExportFolderMatcher(m_exportFolders,m_testResource);
  setExportnames();
  m_defaultAcceptLanguageHeader=CmsAcceptLanguageHeaderParser.createLanguageHeader();
  m_defaultAcceptCharsetHeader=OpenCms.getSystemInfo().getDefaultEncoding();
  if (OpenCms.getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
    OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Static export        : " + (isStaticExportEnabled() ? "enabled" : "disabled"));
    if (isStaticExportEnabled()) {
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export default       : " + getExportPropertyDefault());
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export path          : " + getExportPath());
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export rfs prefix    : " + getRfsPrefix());
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export vfs prefix    : " + getVfsPrefix());
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export link style    : " + (relativLinksInExport() ? "relative" : "absolute"));
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export handler       : " + (getHandler().getClass().getName()));
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export URL           : " + (getExportUrl()));
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export optimization  : " + (getPlainExportOptimization()));
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Export testresource  : " + (getTestResource()));
    }
  }
}
