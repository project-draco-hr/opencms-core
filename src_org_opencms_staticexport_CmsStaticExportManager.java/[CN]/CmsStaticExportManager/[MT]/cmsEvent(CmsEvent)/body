{
switch (event.getType()) {
case I_CmsEventListener.EVENT_UPDATE_EXPORTS:
    scrubExportFolders(null);
  clearCaches(event);
break;
case I_CmsEventListener.EVENT_PUBLISH_PROJECT:
CmsUUID publishHistoryId=new CmsUUID((String)event.getData().get(I_CmsEventListener.KEY_PUBLISHID));
if (LOG.isDebugEnabled()) {
LOG.debug(Messages.get().key(Messages.LOG_EVENT_PUBLISH_PROJECT_1,publishHistoryId));
}
I_CmsReport report=(I_CmsReport)event.getData().get(I_CmsEventListener.KEY_REPORT);
if (report == null) {
report=new CmsLogReport(CmsLocaleManager.getDefaultLocale(),getClass());
}
getHandler().performEventPublishProject(publishHistoryId,report);
clearCaches(event);
if (LOG.isDebugEnabled()) {
LOG.debug(Messages.get().key(Messages.LOG_EVENT_PUBLISH_PROJECT_FINISHED_1,publishHistoryId));
}
break;
case I_CmsEventListener.EVENT_CLEAR_CACHES:
clearCaches(event);
break;
default :
}
}
