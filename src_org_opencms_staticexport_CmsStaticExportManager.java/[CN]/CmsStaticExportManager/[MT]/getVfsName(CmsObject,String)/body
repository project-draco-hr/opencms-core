{
  String vfsName=null;
  CmsResource resource;
  boolean match=false;
  try {
    resource=cms.readFileHeader(cms.getRequestContext().removeSiteRoot(rfsName));
    if (resource.isFolder() && !rfsName.endsWith("/")) {
      rfsName+="/";
    }
    vfsName=rfsName;
    match=true;
  }
 catch (  Throwable t) {
  }
  if (!match) {
    Map exportnameFolders=getExportnames();
    Iterator i=exportnameFolders.keySet().iterator();
    while (i.hasNext()) {
      String exportName=(String)i.next();
      if (rfsName.startsWith(exportName)) {
        match=true;
        vfsName=exportnameFolders.get(exportName) + rfsName.substring(exportName.length());
        try {
          resource=cms.readFileHeader(vfsName);
          if (resource.isFolder()) {
            if (!rfsName.endsWith("/")) {
              rfsName+="/";
            }
            if (!vfsName.endsWith("/")) {
              vfsName+="/";
            }
          }
        }
 catch (        CmsException e) {
          rfsName=null;
        }
        break;
      }
    }
  }
  if (!match) {
    if (rfsName.endsWith(".jsp.html")) {
      rfsName=rfsName.substring(0,rfsName.lastIndexOf("."));
      return getVfsName(cms,rfsName);
    }
  }
  return vfsName;
}
