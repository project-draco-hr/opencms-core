{
  String vfsName=null;
  List resourcesToExport=new ArrayList();
  boolean templatesFound=false;
  int count=1;
  report.println(report.key("report.staticexport.nontemplateresources_begin"),I_CmsReport.C_FORMAT_HEADLINE);
  Iterator i=publishedResources.iterator();
  if (OpenCms.getLog(this).isDebugEnabled()) {
    OpenCms.getLog(this).debug("Starting export of non-template resources. " + publishedResources.size() + " possible canditates in list.");
  }
  while (i.hasNext()) {
    CmsPublishedResource pupRes=(CmsPublishedResource)i.next();
    vfsName=pupRes.getRootPath();
    if (m_exportFolderMatcher.match(vfsName)) {
      if (pupRes.isVfsResource() && (pupRes.isFile())) {
        CmsStaticExportData exportData=getExportData(vfsName,cms);
        if (exportData != null) {
          I_CmsResourceLoader loader=OpenCms.getLoaderManager().getLoader(exportData.getResource().getLoaderId());
          if (!loader.isStaticExportProcessable()) {
            if (pupRes.getState() != I_CmsConstants.C_STATE_DELETED) {
              resourcesToExport.add(exportData);
            }
          }
 else {
            templatesFound=true;
            cms.writeStaticExportPublishedResource(exportData.getRfsName(),0,"");
          }
        }
      }
    }
  }
  i=resourcesToExport.iterator();
  int size=resourcesToExport.size();
  if (OpenCms.getLog(this).isDebugEnabled()) {
    OpenCms.getLog(this).debug("Found " + size + " resources to export");
  }
  while (i.hasNext()) {
    CmsStaticExportData exportData=(CmsStaticExportData)i.next();
    if (OpenCms.getLog(this).isDebugEnabled()) {
      OpenCms.getLog(this).debug("Exporting " + exportData.getVfsName() + " -> "+ exportData.getRfsName()+ "...");
    }
    report.print("(" + count++ + " / "+ size+ ") ",I_CmsReport.C_FORMAT_NOTE);
    report.print(report.key("report.exporting"),I_CmsReport.C_FORMAT_NOTE);
    report.print(exportData.getVfsName());
    report.print(report.key("report.dots"));
    int status=export(null,null,cms,exportData);
    if (status == HttpServletResponse.SC_OK) {
      report.println(report.key("report.ok"),I_CmsReport.C_FORMAT_OK);
    }
 else {
      report.println(report.key("report.ignored"),I_CmsReport.C_FORMAT_NOTE);
    }
    if (OpenCms.getLog(this).isInfoEnabled()) {
      OpenCms.getLog(this).info("Export " + exportData.getVfsName() + " -> "+ exportData.getRfsName()+ " [STATUS "+ status+ "]");
    }
  }
  resourcesToExport=null;
  report.println(report.key("report.staticexport.nontemplateresources_end"),I_CmsReport.C_FORMAT_HEADLINE);
  return templatesFound;
}
