{
  CmsResource resource=null;
  cms.getRequestContext().saveSiteRoot();
  try {
    cms.getRequestContext().setSiteRoot("/");
    rfsName=rfsName.substring(getRfsPrefix().length());
    vfsName=getCachedExportUri(rfsName);
    if (vfsName != null) {
      if (!C_CACHEVALUE_404.equals(vfsName)) {
        try {
          resource=cms.readFileHeader(vfsName);
        }
 catch (        CmsException e) {
          return null;
        }
        return new CmsStaticExportData(vfsName,rfsName,resource);
      }
 else {
        return null;
      }
    }
 else {
      boolean match=false;
      try {
        resource=cms.readFileHeader(cms.getRequestContext().removeSiteRoot(rfsName));
        if (resource.isFolder() && !rfsName.endsWith("/")) {
          rfsName+="/";
        }
        vfsName=rfsName;
        match=true;
      }
 catch (      Throwable t) {
      }
      if (!match) {
        Map exportnameFolders=getExportnames();
        Iterator i=exportnameFolders.keySet().iterator();
        while (i.hasNext()) {
          String exportName=(String)i.next();
          if (rfsName.startsWith(exportName)) {
            match=true;
            vfsName=exportnameFolders.get(exportName) + rfsName.substring(exportName.length());
            try {
              resource=cms.readFileHeader(vfsName);
              if (resource.isFolder()) {
                if (!rfsName.endsWith("/")) {
                  rfsName+="/";
                }
                if (!vfsName.endsWith("/")) {
                  vfsName+="/";
                }
              }
            }
 catch (            CmsException e) {
              rfsName=null;
            }
            break;
          }
        }
      }
      if (!match) {
        cacheExportUri(rfsName,C_CACHEVALUE_404);
        return null;
      }
 else {
        cacheExportUri(rfsName,vfsName);
        return new CmsStaticExportData(vfsName,rfsName,resource);
      }
    }
  }
  finally {
    cms.getRequestContext().restoreSiteRoot();
  }
}
