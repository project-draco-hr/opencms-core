{
  m_index=index;
  m_server=server;
  try {
    m_index.createIndexBackup();
    m_server.deleteByQuery("*:*");
  }
 catch (  SolrServerException e) {
    LOG.error(e.getMessage(),e);
  }
catch (  IOException e) {
    LOG.error(e.getMessage(),e);
  }
  if ((m_index != null) && LOG.isInfoEnabled()) {
    LOG.info(Messages.get().getBundle().key(Messages.LOG_INDEX_WRITER_MSG_CREATE_2,m_index.getName(),m_index.getPath()));
  }
}
