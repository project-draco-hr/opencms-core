{
  CmsObject cms=getCmsObject();
  List<I_CmsSitemapChange> result=new ArrayList<I_CmsSitemapChange>();
  for (  CmsInternalSitemapEntry childEntry : entry.getSubEntries()) {
    result.add(new CmsSitemapChangeDelete(childEntry.getSitePath(cms)));
  }
  Map<String,String> newProps=new HashMap<String,String>(entry.getProperties());
  newProps.put(CmsSitemapManager.Property.sitemap.getName(),subSitemapRes.getStructureId().toString());
  CmsResource originalResource=cms.readResource(entry.getStructureId());
  String originalVfsPath=cms.getRequestContext().removeSiteRoot(originalResource.getRootPath());
  result.add(new CmsSitemapChangeEdit(entry.getSitePath(getCmsObject()),entry.getTitle(),originalVfsPath,newProps));
  return result;
}
