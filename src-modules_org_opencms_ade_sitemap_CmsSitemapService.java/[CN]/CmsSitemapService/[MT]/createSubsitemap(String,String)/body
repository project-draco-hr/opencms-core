{
  try {
    CmsObject cms=getCmsObject();
    CmsInternalSitemapEntry entry=(CmsInternalSitemapEntry)OpenCms.getSitemapManager().getEntryForUri(getCmsObject(),path);
    List<I_CmsSitemapChange> subSitemapChanges=getChangesForSubSitemap(entry);
    CmsResource subSitemapRes=createNewSitemap(sitemapUri);
    String subSitemapUri=cms.getSitePath(subSitemapRes);
    save(subSitemapUri,subSitemapChanges,true);
    List<I_CmsSitemapChange> parentSitemapChanges=getChangesForParentOfSubSitemap(entry,subSitemapRes);
    long timestamp=save(sitemapUri,parentSitemapChanges,true);
    String sitemapVfsPath=cms.getRequestContext().removeSiteRoot(subSitemapRes.getRootPath());
    return new CmsSubSitemapInfo(sitemapVfsPath,timestamp);
  }
 catch (  Throwable e) {
    error(e);
  }
  return null;
}
