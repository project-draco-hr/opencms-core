{
  CmsObject cms=getCmsObject();
  CmsSitemapEntry entry=OpenCms.getSitemapManager().getEntryForUri(cms,root);
  List<CmsClientSitemapEntry> children=new ArrayList<CmsClientSitemapEntry>();
  if (entry.getProperties().get(CmsSitemapManager.Property.sitemap.name()) != null) {
    return children;
  }
  for (  CmsSitemapEntry subEntry : OpenCms.getSitemapManager().getSubEntries(cms,root)) {
    CmsClientSitemapEntry child=toClientEntry(subEntry,propertyConfig);
    children.add(child);
    if ((levels > 1) || (levels == -1)) {
      child.setSubEntries(getChildren(child.getSitePath(),levels - 1,propertyConfig));
    }
  }
  return children;
}
