{
  try {
    CmsObject cms=getCmsObject();
    CmsXmlSitemap xml=CmsXmlSitemapFactory.unmarshal(cms,cms.readResource(sitemapUri));
    String sitePath=cms.getRequestContext().removeSiteRoot(xml.getSitemap(cms,Locale.ENGLISH).getEntryPoint());
    boolean isSubsitemap=false;
    List<CmsClientSitemapEntry> roots=null;
    if (isSubsitemap) {
      roots=getChildren(sitePath);
    }
 else {
      roots=new ArrayList<CmsClientSitemapEntry>();
      CmsClientSitemapEntry entry=getEntry(sitePath);
      String name=CmsResource.getName(sitePath);
      if (name.endsWith("/")) {
        name=name.substring(0,name.length() - 1);
      }
      entry.setName(name);
      roots.add(entry);
    }
    for (    CmsClientSitemapEntry root : roots) {
      root.setChildren(getChildren(root.getSitePath()));
    }
    return roots;
  }
 catch (  Throwable e) {
    LOG.error(e.getLocalizedMessage(),e);
    throw new CmsRpcException(e.getLocalizedMessage());
  }
}
