{
  if (isChangedPosition(sitemapEntry,target,true)) {
    CmsClientSitemapEntry entry=m_controller.getEntry((sitemapEntry).getSitePath());
    String uniqueName=CmsSitemapController.ensureUniqueName(parent,entry.getName());
    if (!uniqueName.equals(entry.getName()) && isChangedPosition(sitemapEntry,target,false)) {
      m_controller.editAndChangeName(entry,entry.getTitle(),uniqueName,entry.getVfsPath(),Collections.<CmsPropertyModification>emptyList(),!entry.isNew());
      m_controller.move(entry,m_insertPath + uniqueName + "/",m_insertIndex);
    }
 else {
      CmsDebugLog.getInstance().printLine("inserting at " + m_insertPath + entry.getName()+ "/ and index "+ m_insertIndex);
      m_controller.move(entry,m_insertPath + entry.getName() + "/",m_insertIndex);
    }
  }
 else {
    sitemapEntry.resetEntry();
  }
}
