{
  byte[] result=null;
  I_CmsTemplate templateClass=this.getTemplateClass(cms,m_className);
  CmsCacheDirectives cd=collectCacheDirectives();
  boolean streamable=false;
  CmsElementVariant variant=null;
  Object cacheKey=templateClass.getKey(cms,m_templateName,parameters,null);
  boolean cacheable=cd.isInternalCacheable();
  if (cacheable && !templateClass.shouldReload(cms,m_templateName,m_elementName,parameters,null)) {
    variant=getVariant(cacheKey);
    result=resolveVariant(cms,variant,staging,parameters);
  }
  if (variant == null) {
    try {
      if (cacheable) {
        System.err.println(toString() + " ### Variant not in cache. Must be generated.");
      }
 else {
        System.err.println(toString() + " ### Element not cacheable. Generating variant temporarily.");
      }
      result=templateClass.getContent(cms,m_templateName,m_elementName,parameters);
      if (result == null) {
        System.err.println(toString() + " ########## WARNING! RESULT IST NULL!");
      }
    }
 catch (    CmsException e) {
      throw e;
    }
    if (cacheable) {
    }
    if (streamable) {
      result=null;
    }
  }
  return result;
}
