{
  if (data == null) {
    throw new CmsIllegalArgumentException(Messages.get().container(Messages.ERR_COLLECTOR_PARAM_EMPTY_0));
  }
  int pos1=data.indexOf('|');
  if (pos1 == -1) {
    throw new CmsIllegalArgumentException(Messages.get().container(Messages.ERR_COLLECTOR_PARAM_INVALID_1,data));
  }
  int pos2=data.indexOf('|',pos1 + 1);
  if (pos2 == -1) {
    pos2=data.length();
    m_count=0;
  }
 else {
    m_count=Integer.valueOf(data.substring(pos2 + 1)).intValue();
  }
  m_fileName=data.substring(0,pos1);
  String type=data.substring(pos1 + 1,pos2);
  try {
    I_CmsResourceType resourceType=OpenCms.getResourceManager().getResourceType(type);
    m_type=resourceType.getTypeId();
  }
 catch (  CmsLoaderException e) {
    int typeInt=Integer.valueOf(type).intValue();
    try {
      I_CmsResourceType resourceType=OpenCms.getResourceManager().getResourceType(typeInt);
      m_type=resourceType.getTypeId();
      if (LOG.isWarnEnabled()) {
        LOG.warn(Messages.get().getBundle().key(Messages.LOG_RESTYPE_INTID_2,resourceType.getTypeName(),new Integer(resourceType.getTypeId())));
      }
    }
 catch (    CmsLoaderException e1) {
      throw new CmsRuntimeException(Messages.get().container(Messages.ERR_UNKNOWN_RESTYPE_1,type),e1);
    }
  }
}
