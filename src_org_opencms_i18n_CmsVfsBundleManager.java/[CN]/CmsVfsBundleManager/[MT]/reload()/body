{
  flushBundles();
  try {
    int xmlType=OpenCms.getResourceManager().getResourceType(TYPE_XML_BUNDLE).getTypeId();
    List<CmsResource> xmlBundles=m_cms.readResources("/",CmsResourceFilter.ALL.addRequireType(xmlType),true);
    for (    CmsResource xmlBundle : xmlBundles) {
      addXmlBundle(xmlBundle);
    }
  }
 catch (  Exception e) {
    LOG.error(e.getLocalizedMessage(),e);
  }
  try {
    int propType=OpenCms.getResourceManager().getResourceType(TYPE_PROPERTIES_BUNDLE).getTypeId();
    List<CmsResource> propertyBundles=m_cms.readResources("/",CmsResourceFilter.ALL.addRequireType(propType),true);
    for (    CmsResource propertyBundle : propertyBundles) {
      addPropertyBundle(propertyBundle);
    }
  }
 catch (  Exception e) {
    LOG.error(e.getLocalizedMessage(),e);
  }
}
