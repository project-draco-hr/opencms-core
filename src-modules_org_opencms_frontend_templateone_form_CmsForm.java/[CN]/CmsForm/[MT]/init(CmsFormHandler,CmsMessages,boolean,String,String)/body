{
  m_parameterMap=jsp.getParameterMap();
  if (CmsStringUtil.isEmpty(formConfigUri)) {
    formConfigUri=jsp.getRequestContext().getUri();
  }
  CmsFile file=jsp.getCmsObject().readFile(formConfigUri);
  CmsXmlContent content=CmsXmlContentFactory.unmarshal(jsp.getCmsObject(),file);
  Locale locale=jsp.getRequestContext().getLocale();
  initMembers();
  m_formAction=formAction;
  m_fields=new ArrayList();
  m_fieldsByName=new HashMap();
  initFormGlobalConfiguration(content,jsp.getCmsObject(),locale,messages);
  initInputFields(content,jsp,locale,messages,initial);
  initCaptchaField(jsp,content,locale,initial);
  if (captchaFieldIsOnInputPage() && m_captchaField != null) {
    addField(m_captchaField);
  }
}
