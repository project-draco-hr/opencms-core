{
  if (isConfirmationMailEnabled()) {
    CmsField confirmField=new CmsField();
    try {
      confirmField=(CmsField)getFields().get(getConfirmationMailField());
    }
 catch (    IndexOutOfBoundsException e) {
      getConfigurationErrors().add(messages.key("form.configuration.error.emailfield.notfound"));
      setConfirmationMailEnabled(false);
      return;
    }
    if (!CmsField.TYPE_EMAIL.equals(confirmField.getType())) {
      getConfigurationErrors().add(messages.key("form.configuration.error.emailfield.type"));
    }
  }
}
