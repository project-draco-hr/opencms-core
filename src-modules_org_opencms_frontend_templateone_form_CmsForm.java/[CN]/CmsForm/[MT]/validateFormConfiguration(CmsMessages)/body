{
  if (isConfirmationMailEnabled()) {
    I_CmsField confirmField=new CmsTextField();
    try {
      confirmField=(I_CmsField)getFields().get(getConfirmationMailField());
    }
 catch (    IndexOutOfBoundsException e) {
      getConfigurationErrors().add(messages.key("form.configuration.error.emailfield.notfound"));
      setConfirmationMailEnabled(false);
      return;
    }
    if (!CmsEmailField.class.isAssignableFrom(confirmField.getClass())) {
      getConfigurationErrors().add(messages.key("form.configuration.error.emailfield.type"));
    }
  }
}
