{
  if (isConfirmationMailEnabled()) {
    CmsField conformField=new CmsField();
    try {
      conformField=(CmsField)getFields().get(getConfirmationMailField());
    }
 catch (    IndexOutOfBoundsException e) {
      getConfigurationErrors().add(messages.key("form.configuration.error.emailfield.notfound"));
      setConfirmationMailEnabled(false);
      return;
    }
    if (!CmsField.C_TYPE_EMAIL.equals(conformField.getType())) {
      getConfigurationErrors().add(messages.key("form.configuration.error.emailfield.type"));
    }
  }
}
