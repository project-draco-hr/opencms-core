{
  m_toolbar.getRedoButton().setEnabled(false);
  if (change instanceof CmsSitemapChangeDelete) {
    CmsSitemapChangeDelete changeDelete=(CmsSitemapChangeDelete)change;
    CmsTreeItem deleteParent=getTreeItem(CmsResource.getParentFolder(changeDelete.getEntry().getSitePath()));
    deleteParent.removeChild(changeDelete.getEntry().getName());
  }
 else   if (change instanceof CmsSitemapChangeEdit) {
    CmsSitemapChangeEdit changeEdit=(CmsSitemapChangeEdit)change;
    CmsSitemapTreeItem editEntry=(CmsSitemapTreeItem)getTreeItem(changeEdit.getOldEntry().getSitePath());
    editEntry.updateEntry(changeEdit.getNewEntry());
  }
 else   if (change instanceof CmsSitemapChangeMove) {
    CmsSitemapChangeMove changeMove=(CmsSitemapChangeMove)change;
    CmsTreeItem sourceParent=getTreeItem(CmsResource.getParentFolder(changeMove.getSourcePath()));
    CmsTreeItem moved=sourceParent.getChild(changeMove.getSourcePosition());
    sourceParent.removeChild(changeMove.getSourcePosition());
    CmsTreeItem destParent=getTreeItem(CmsResource.getParentFolder(changeMove.getDestinationPath()));
    destParent.insertChild(moved,changeMove.getDestinationPosition());
  }
 else   if (change instanceof CmsSitemapChangeNew) {
    CmsSitemapChangeNew changeNew=(CmsSitemapChangeNew)change;
    CmsTreeItem newParent=getTreeItem(CmsResource.getParentFolder(changeNew.getEntry().getSitePath()));
    CmsSitemapTreeItem newChild=m_factory.create(changeNew.getEntry());
    if (changeNew.getEntry().getPosition() != -1) {
      newParent.insertChild(newChild,changeNew.getEntry().getPosition());
    }
 else {
      newParent.addChild(newChild);
    }
  }
}
