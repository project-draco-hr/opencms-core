{
  CmsXmlDateTimeValue castValue=(CmsXmlDateTimeValue)value;
  StringBuffer result=new StringBuffer(128);
  result.append("<tr><td class=\"xmlLabel\">");
  result.append(getMessage(widgetDialog,contentDefinition,value.getNodeName()));
  result.append(": </td>");
  result.append(getHelpBubble(cms,widgetDialog,contentDefinition,value.getNodeName()));
  result.append("<td class=\"xmlTd\">");
  result.append("<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td>");
  result.append("<input class=\"xmlInputSmall\" value=\"");
  String dateTimeValue="";
  if (castValue.getDateTimeValue() > 0) {
    dateTimeValue=widgetDialog.getCalendarLocalizedTime(castValue.getDateTimeValue());
  }
  String id=getParameterName(value);
  result.append(dateTimeValue);
  result.append("\" name=\"");
  result.append(id);
  result.append("\" id=\"");
  result.append(id);
  result.append("\"></td><td>");
  result.append("<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" id=\"");
  result.append(id);
  result.append(".calendar\"><tr>");
  result.append(widgetDialog.buttonBarSpacer(1));
  result.append(widgetDialog.button("#",null,"calendar","calendar.input.choosedate",widgetDialog.getSettings().getUserSettings().getEditorButtonStyle()));
  result.append("</tr></table>");
  result.append("</td></tr></table>");
  result.append(widgetDialog.calendarInit(id,id + ".calendar","cR",false,false,true,null,true));
  result.append("</td></tr>\n");
  return result.toString();
}
