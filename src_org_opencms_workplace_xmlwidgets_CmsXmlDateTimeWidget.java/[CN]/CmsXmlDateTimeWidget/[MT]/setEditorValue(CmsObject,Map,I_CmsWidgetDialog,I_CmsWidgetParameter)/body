{
  String[] values=(String[])formParameters.get(param.getId());
  if ((values != null) && (values.length > 0)) {
    CmsXmlDateTimeValue castValue=(CmsXmlDateTimeValue)param;
    long dateTime=castValue.getDateTimeValue();
    String dateTimeValue=values[0].trim();
    if (CmsStringUtil.isNotEmpty(dateTimeValue)) {
      try {
        dateTime=widgetDialog.getCalendarDate(dateTimeValue,true);
      }
 catch (      ParseException e) {
        if (OpenCms.getLog(this).isWarnEnabled()) {
          OpenCms.getLog(this).warn("Error parsing calendar DateTime String",e);
        }
      }
    }
 else {
      dateTime=0;
    }
    param.setStringValue(cms,String.valueOf(dateTime));
  }
}
