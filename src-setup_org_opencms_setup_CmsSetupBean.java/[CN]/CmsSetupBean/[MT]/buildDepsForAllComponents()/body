{
  Map ret=new HashMap();
  Iterator itComponents=m_components.elementList().iterator();
  while (itComponents.hasNext()) {
    CmsSetupComponent component=(CmsSetupComponent)itComponents.next();
    Iterator itDeps=component.getDependencies().iterator();
    while (itDeps.hasNext()) {
      String dependency=(String)itDeps.next();
      List componentDependencies=(List)ret.get(dependency);
      if (componentDependencies == null) {
        componentDependencies=new ArrayList();
        ret.put(dependency,componentDependencies);
      }
      componentDependencies.add(component.getId());
    }
  }
  itComponents=m_components.elementList().iterator();
  while (itComponents.hasNext()) {
    CmsSetupComponent component=(CmsSetupComponent)itComponents.next();
    if (ret.get(component.getId()) == null) {
      ret.put(component.getId(),new ArrayList());
    }
  }
  return ret;
}
