{
  Vector files=new Vector();
  String link="";
  StringBuffer bl=null;
  CmsRequestContext req=cms.getRequestContext();
  String linkPrefix=req.getRequest().getScheme() + "://" + req.getRequest().getServerName()+ ":"+ req.getRequest().getServerPort();
  for (int i=0; i < vfiles.size(); i++) {
    link=(String)vfiles.elementAt(i);
    bl=new StringBuffer(link);
    if (debug) {
      System.out.println("link=" + link);
    }
    if (!link.startsWith(cms.getRequestContext().getRequest().getServletUrl()) && link.indexOf(".htm") != -1) {
      if (link.startsWith("/")) {
        files.addElement(linkPrefix + link);
      }
      if (link.startsWith("http")) {
        files.addElement(link);
      }
      if (debug) {
        System.out.println("wird indiziert");
      }
    }
  }
  try {
    if (files.size() > 0) {
      if (debug) {
        System.out.println("thread gestartet");
      }
      IndexFiles indexfiles=new IndexFiles(path,files,m_configPath);
      indexfiles.start();
    }
  }
 catch (  Exception ex) {
    ex.printStackTrace();
  }
}
