{
  String defaultFileIcon=null;
  try {
    if (OpenCms.getADEManager().isDetailPage(cms,detailPage)) {
      List<CmsDetailPageInfo> detailPages=OpenCms.getADEManager().getAllDetailPages(cms);
      if (parentFolder == null) {
        parentFolder=cms.readParentFolder(detailPage.getStructureId());
      }
      for (      CmsDetailPageInfo info : detailPages) {
        if (info.getId().equals(detailPage.getStructureId()) || info.getId().equals(parentFolder.getStructureId())) {
          String type=info.getType();
          if (type.startsWith(CmsDetailPageInfo.FUNCTION_PREFIX)) {
            type=CmsXmlDynamicFunctionHandler.TYPE_FUNCTION;
          }
          defaultFileIcon=CmsWorkplace.getResourceUri(CmsWorkplace.RES_PATH_FILETYPES + OpenCms.getWorkplaceManager().getExplorerTypeSetting(type).getIcon());
          break;
        }
      }
    }
  }
 catch (  CmsException e) {
  }
  return defaultFileIcon;
}
