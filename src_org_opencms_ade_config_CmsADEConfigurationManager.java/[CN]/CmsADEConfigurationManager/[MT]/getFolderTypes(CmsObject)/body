{
  boolean online=cms.getRequestContext().getCurrentProject().isOnlineProject();
  Boolean onlineObj=new Boolean(online);
  Map<String,String> folderTypes=m_folderTypesMaps.get(onlineObj);
  if (folderTypes == null) {
    System.out.println("Reading folder types");
    folderTypes=Maps.newHashMap();
    CmsContainerPageConfigurationData moduleConfig=m_containerPageModuleConfig.getConfiguration(cms);
    addFolderTypesFromSingleConfiguration(cms,moduleConfig,folderTypes);
    List<EntryPointFolder> entryPoints=m_entryPointCacheManager.getEntryPoints(cms);
    for (    EntryPointFolder entryPoint : entryPoints) {
      addFolderTypesForEntryPoint(cms,entryPoint,folderTypes);
    }
    m_folderTypesMaps.put(onlineObj,Collections.unmodifiableMap(folderTypes));
  }
  return folderTypes;
}
