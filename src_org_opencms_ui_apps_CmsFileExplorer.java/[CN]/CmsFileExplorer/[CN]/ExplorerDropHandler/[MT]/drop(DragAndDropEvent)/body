{
  try {
    List<CmsResource> resources;
    if ((dragEvent.getTransferable().getSourceComponent() instanceof Table) && !m_fileTable.getSelectedResources().isEmpty()) {
      resources=m_fileTable.getSelectedResources();
    }
 else {
      CmsObject cms=A_CmsUI.getCmsObject();
      CmsUUID sourceId=(CmsUUID)dragEvent.getTransferable().getData("itemId");
      CmsResource source=cms.readResource(sourceId);
      resources=Collections.singletonList(source);
    }
    CmsExplorerDialogContext context=new CmsExplorerDialogContext(m_appContext,CmsFileExplorer.this,resources,null);
    CmsCopyMoveDialog dialog=new CmsCopyMoveDialog(context);
    dialog.setTargetFolder(getTargetId(dragEvent));
    context.start("Copy move",dialog);
  }
 catch (  Exception e) {
    LOG.error("Moving resource failed",e);
  }
}
