{
  m_appContext=context;
  HorizontalSplitPanel sp=new HorizontalSplitPanel();
  sp.setSizeFull();
  sp.setFirstComponent(m_fileTree);
  CmsFileExplorerSettings settings;
  try {
    settings=OpenCms.getWorkplaceAppManager().getAppSettings(A_CmsUI.getCmsObject(),CmsFileExplorerSettings.class);
    m_fileTable.setTableState(settings);
  }
 catch (  Exception e) {
    LOG.error("Error while reading file explorer settings from user.",e);
  }
  sp.setSecondComponent(m_fileTable);
  sp.setSplitPosition(400 - 1,Unit.PIXELS);
  context.setAppContent(sp);
  context.showInfoArea(true);
  AbsoluteLayout info=new AbsoluteLayout();
  info.setSizeFull();
  info.addComponent(m_infoTitle,"top:0px; left:410px;");
  info.addComponent(m_infoPath,"bottom:3px; left:410px;");
  FormLayout siteSelect=new FormLayout();
  siteSelect.addStyleName("o-form-less-margin");
  siteSelect.setWidth("380px");
  m_siteSelector.setWidth("100%");
  siteSelect.addComponent(m_siteSelector);
  info.addComponent(siteSelect,"top:0px; left: 10px;");
  CssLayout wrapper=new CssLayout();
  m_searchField.setWidth("100%");
  wrapper.addComponent(m_searchField);
  wrapper.setWidth("200px");
  info.addComponent(wrapper,"top:16px; right:15px;");
  context.setAppInfo(info);
  context.addToolbarButton(CmsToolBar.createButton(FontAwesome.MAGIC));
  context.addToolbarButton(m_upButton);
  context.addToolbarButton(CmsToolBar.createButton(FontAwesome.UPLOAD));
  populateFolderTree();
}
