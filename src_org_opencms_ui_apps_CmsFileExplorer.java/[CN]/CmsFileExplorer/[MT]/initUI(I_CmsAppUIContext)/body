{
  m_appContext=context;
  HorizontalSplitPanel sp=new HorizontalSplitPanel();
  sp.setSizeFull();
  sp.setFirstComponent(m_fileTree);
  CmsFileExplorerSettings settings;
  try {
    settings=OpenCms.getWorkplaceAppManager().getAppSettings(A_CmsUI.getCmsObject(),CmsFileExplorerSettings.class);
    m_fileTable.setTableState(settings);
  }
 catch (  Exception e) {
    LOG.error("Error while reading file explorer settings from user.",e);
  }
  sp.setSecondComponent(m_fileTable);
  sp.setSplitPosition(400 - 1,Unit.PIXELS);
  context.setAppContent(sp);
  context.showInfoArea(true);
  HorizontalLayout inf=new HorizontalLayout();
  inf.setSizeFull();
  inf.setSpacing(true);
  inf.setMargin(true);
  m_siteSelector.setWidth("379px");
  inf.addComponent(m_siteSelector);
  m_infoPath.setWidth("100%");
  inf.addComponent(m_infoPath);
  inf.setExpandRatio(m_infoPath,1);
  m_searchField.setWidth("200px");
  inf.addComponent(m_searchField);
  context.setAppInfo(inf);
  context.addToolbarButton(CmsToolBar.createButton(FontAwesome.MAGIC));
  context.addToolbarButton(m_upButton);
  context.addToolbarButton(CmsToolBar.createButton(FontAwesome.UPLOAD));
  populateFolderTree();
}
