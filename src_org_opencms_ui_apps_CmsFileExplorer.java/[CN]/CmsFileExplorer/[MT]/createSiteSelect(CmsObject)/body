{
  List<CmsSite> sites=OpenCms.getSiteManager().getAvailableSites(cms,true,true,cms.getRequestContext().getOuFqn());
  IndexedContainer availableSites=new IndexedContainer();
  availableSites.addContainerProperty(SITE_CAPTION,String.class,null);
  Locale locale=A_CmsUI.get().getLocale();
  for (  CmsSite site : sites) {
    Item siteItem=availableSites.addItem(site.getSiteRoot());
    String title=CmsWorkplace.substituteSiteTitleStatic(site.getTitle(),locale);
    if (CmsStringUtil.isEmptyOrWhitespaceOnly(title)) {
      title=site.getSiteRoot();
    }
    siteItem.getItemProperty(SITE_CAPTION).setValue(title);
  }
  ComboBox combo=new ComboBox("Site:",availableSites);
  combo.setInputPrompt("You can click here");
  combo.setTextInputAllowed(false);
  combo.setNullSelectionAllowed(false);
  combo.select("Option One");
  combo.setWidth("200px");
  combo.setItemCaptionPropertyId(SITE_CAPTION);
  combo.select(cms.getRequestContext().getSiteRoot());
  return combo;
}
