{
  Integer retValue=new Integer(0);
  String resourcetype=(String)parameters.get("restype");
  String selectedDef=(String)parameters.get("propkey");
  names.add("---");
  values.add("");
  if ((resourcetype != null) && (!"".equals(resourcetype.trim()))) {
    List propdefs=cms.readAllPropertyDefinitions();
    int i=0;
    Iterator j=propdefs.iterator();
    while (j.hasNext()) {
      names.add(((CmsPropertyDefinition)j.next()).getName());
      values.add(((CmsPropertyDefinition)j.next()).getName());
      if ((((CmsPropertyDefinition)j.next()).getName()).equals(selectedDef)) {
        retValue=new Integer(i + 1);
      }
      i++;
    }
  }
  return retValue;
}
