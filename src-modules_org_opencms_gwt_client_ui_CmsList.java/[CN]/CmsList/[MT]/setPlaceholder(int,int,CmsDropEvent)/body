{
  Element targetElement=getElement();
  for (int index=0; index < targetElement.getChildCount(); index++) {
    Node node=targetElement.getChild(index);
    if (!(node instanceof Element)) {
      continue;
    }
    Element child=(Element)node;
    String positioning=child.getStyle().getPosition();
    if (positioning.equals(Position.ABSOLUTE.getCssName()) || positioning.equals(Position.FIXED.getCssName())) {
      continue;
    }
    int left=CmsDomUtil.getRelativeX(x,child);
    if ((left <= 0) || (left >= child.getOffsetWidth())) {
      continue;
    }
    int top=CmsDomUtil.getRelativeY(y,child);
    int height=child.getOffsetHeight();
    if ((top <= 0) || (top >= height)) {
      continue;
    }
    CmsDropPosition position=null;
    boolean checkPos=((event.getTarget() == this) && (event.getPosition() != null));
    I_CmsDraggable draggable=event.getDraggable();
    if (draggable.getElement() == child) {
      if (checkPos && (event.getPosition().getPosition() == index)) {
        return null;
      }
      removePlaceholder();
      m_placeholder=draggable.getPlaceHolder(this);
      targetElement.insertBefore(m_placeholder,child);
      position=new CmsDropPosition(null,index,null,m_placeholder);
    }
 else     if (top < height / 2) {
      if (checkPos && (event.getPosition().getPosition() == index)) {
        return null;
      }
      removePlaceholder();
      m_placeholder=draggable.getPlaceHolder(this);
      targetElement.insertBefore(m_placeholder,child);
      position=new CmsDropPosition(null,index,null,m_placeholder);
    }
 else {
      if (checkPos && (event.getPosition().getPosition() == index + 1)) {
        return null;
      }
      removePlaceholder();
      m_placeholder=draggable.getPlaceHolder(this);
      targetElement.insertAfter(m_placeholder,child);
      position=new CmsDropPosition(null,index + 1,null,m_placeholder);
    }
    if (draggable instanceof CmsListItem) {
      String name=((CmsListItem)draggable).getId();
      position.setName(name);
    }
    return position;
  }
  return null;
}
