{
  m_clipboardButton=clipboardButton;
  m_modified=new CmsList<CmsListItem>();
  boolean hasElements=false;
  for (  CmsClientSitemapEntry entry : controller.getData().getClipboardData().getModifications().values()) {
    m_modified.insertItem(createModifiedItem(entry),0);
    hasElements=true;
  }
  m_clipboardButton.enableClearModified(hasElements);
  m_deleted=new CmsList<CmsListItem>();
  hasElements=false;
  for (  CmsClientSitemapEntry entry : controller.getData().getClipboardData().getDeletions().values()) {
    m_deleted.insertItem(createDeletedItem(entry),0);
    hasElements=true;
  }
  m_clipboardButton.enableClearDeleted(hasElements);
  controller.addChangeHandler(new I_CmsSitemapChangeHandler(){
    /** 
 * @see org.opencms.ade.sitemap.client.control.I_CmsSitemapChangeHandler#onChange(org.opencms.ade.sitemap.client.control.CmsSitemapChangeEvent)
 */
    public void onChange(    CmsSitemapChangeEvent changeEvent){
      changeEvent.getChange().applyToClipboardView(CmsToolbarClipboardView.this);
    }
  }
);
}
