{
  CmsSetupTestResult testResult=new CmsSetupTestResult();
  try {
    String requiredJDK="1.4.0";
    String JDKVersion=System.getProperty("java.version");
    testResult.setName("JDK version");
    testResult.setResult(JDKVersion);
    boolean supportedJDK=compareJDKVersions(JDKVersion,requiredJDK);
    boolean tigerJDK=false;
    if (supportedJDK) {
      if (JDKVersion.startsWith("1.5") || JDKVersion.startsWith("5")) {
        tigerJDK=true;
        supportedJDK=false;
      }
    }
    if (!supportedJDK) {
      testResult.setRed();
      if (tigerJDK) {
        testResult.setHelp("OpenCms does not yet run with Java version " + JDKVersion + ". Please use Java 1.4.x");
      }
 else {
        testResult.setHelp("OpenCms requires at least Java version " + requiredJDK + " to run. Please update your JDK");
      }
    }
 else {
      testResult.setGreen();
    }
  }
 catch (  Exception e) {
    testResult.setRed();
    testResult.setResult("Unable to test JDK version!");
    testResult.setInfo(e.toString());
  }
 finally {
    m_testResults.add(testResult);
  }
}
