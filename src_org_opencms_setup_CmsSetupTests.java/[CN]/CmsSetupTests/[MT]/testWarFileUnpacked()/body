{
  CmsSetupTestResult testResult=new CmsSetupTestResult();
  try {
    testResult.setName("Unpacked WAR file");
    File file=new File(m_pageContext.getServletConfig().getServletContext().getRealPath("/") + "WEB-INF" + File.separator+ "config"+ File.separator+ "opencms.properties");
    if (file.exists() && file.canRead() && file.canWrite()) {
      testResult.setGreen();
      testResult.setResult("yes");
    }
 else {
      testResult.setRed();
      testResult.setInfo("OpenCms cannot be installed unless the OpenCms WAR file is unpacked!");
      testResult.setHelp("No help available.");
      testResult.setResult("no");
    }
  }
 catch (  Exception e) {
    testResult.setRed();
    testResult.setResult("Unable to test if the OpenCms WAR file is unpacked!");
    testResult.setInfo(e.toString());
  }
 finally {
    m_testResults.add(testResult);
  }
}
