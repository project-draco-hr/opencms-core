{
  CmsSetupTestResult testResult=new CmsSetupTestResult();
  try {
    testResult.setName("Default encoding");
    String setEncoding=m_setupBean.getDefaultContentEncoding();
    String encoding=CmsEncoder.lookupEncoding(setEncoding,null);
    if (encoding != null) {
      testResult.setGreen();
      testResult.setResult(encoding);
    }
 else {
      testResult.setRed();
      testResult.setInfo("The your configured default encoding for OpenCms is not supported by your Java VM!" + "Please ensure a supported encoding (e.g. 'UTF-8') is set in the cofiguration.");
      testResult.setHelp(testResult.getInfo());
      testResult.setResult("Invalid encoding set");
    }
  }
 catch (  Exception e) {
    testResult.setRed();
    testResult.setResult("Unable to test the charset encoding!");
    testResult.setInfo(e.toString());
  }
 finally {
    m_testResults.add(testResult);
  }
}
