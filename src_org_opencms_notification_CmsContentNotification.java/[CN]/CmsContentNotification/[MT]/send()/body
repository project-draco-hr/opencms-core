{
  try {
    m_mailContent=CmsXmlContentFactory.unmarshal(m_cms,m_cms.readFile(NOTIFICATION_CONTENT,CmsResourceFilter.ALL));
    List locales=m_mailContent.getLocales();
    Locale userLocale=new CmsUserSettings(m_responsible).getLocale();
    if (locales.contains(userLocale)) {
      m_locale=userLocale;
    }
 else     if (locales.contains(OpenCms.getWorkplaceManager().getDefaultLocale())) {
      m_locale=OpenCms.getWorkplaceManager().getDefaultLocale();
    }
 else {
      m_locale=(Locale)locales.get(0);
    }
    m_messages=Messages.get().getBundle(m_locale);
    addTo(m_responsible.getEmail(),m_responsible.getFirstname() + ' ' + m_responsible.getLastname());
    setSubject(m_mailContent.getStringValue(m_cms,"Subject",m_locale));
    setHtmlMsg(generateHtmlMsg());
    super.send();
  }
 catch (  CmsException e) {
    LOG.error(e);
  }
}
