{
  CmsListItemWidget resultItemWidget;
  CmsListInfoBean infoBean=new CmsListInfoBean(resultItem.getTitle(),resultItem.getDescription(),null);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(resultItem.getExcerpt())) {
    infoBean.addAdditionalInfo(Messages.get().key(Messages.GUI_RESULT_LABEL_EXCERPT_0),resultItem.getExcerpt());
  }
  m_vfsPath=resultItem.getPath();
  if (dragHandler != null) {
    resultItemWidget=dragHandler.createDraggableListItemWidget(infoBean,resultItem.getClientId());
  }
 else   if (dndHandler != null) {
    resultItemWidget=new CmsResultItemWidget(infoBean,resultItem.getType(),resultItem.getPath());
    if (resultItem.getTitle() != null) {
      setId(resultItem.getTitle().toLowerCase().replace("/","-").replace(" ","_"));
    }
 else {
      setId("");
    }
    CmsPushButton moveButton=new MoveHandle(this);
    moveButton.addMouseDownHandler(dndHandler);
    resultItemWidget.addButton(moveButton);
  }
 else {
    resultItemWidget=new CmsResultItemWidget(infoBean,resultItem.getType(),resultItem.getPath());
    if (((CmsResultItemWidget)resultItemWidget).hasTileView()) {
      addStyleName(I_CmsLayoutBundle.INSTANCE.galleryResultItemCss().tilingItem());
    }
  }
  m_previewButton=new CmsPushButton();
  m_previewButton.setImageClass(I_CmsImageBundle.INSTANCE.style().magnifierIcon());
  m_previewButton.setShowBorder(false);
  m_previewButton.addStyleName(org.opencms.gwt.client.ui.css.I_CmsLayoutBundle.INSTANCE.listItemWidgetCss().permaVisible());
  resultItemWidget.addButton(m_previewButton);
  m_selectButton=new CmsPushButton();
  m_selectButton.setImageClass(I_CmsImageBundle.INSTANCE.style().newIcon());
  m_selectButton.setShowBorder(false);
  m_selectButton.addStyleName(org.opencms.gwt.client.ui.css.I_CmsLayoutBundle.INSTANCE.listItemWidgetCss().permaVisible());
  m_selectButton.setVisible(false);
  resultItemWidget.addButton(m_selectButton);
  resultItemWidget.setIcon(CmsIconUtil.getResourceIconClasses(resultItem.getType(),resultItem.getPath(),false));
  initContent(resultItemWidget);
}
