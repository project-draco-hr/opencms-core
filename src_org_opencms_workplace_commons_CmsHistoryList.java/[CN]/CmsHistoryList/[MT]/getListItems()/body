{
  List result=new ArrayList();
  List backupFileHeaders=getCms().readAllBackupFileHeaders(getParamResource());
  Iterator i=backupFileHeaders.iterator();
  while (i.hasNext()) {
    CmsBackupResource file=(CmsBackupResource)i.next();
    int tagId=file.getTagId();
    CmsBackupProject project=getCms().readBackupProject(tagId);
    String versionId=new Integer(project.getVersionId()).toString();
    String filetype=String.valueOf(file.getTypeId());
    String dateLastModified=getMessages().getDateTime(file.getDateLastModified());
    String datePublished=getMessages().getDateTime(project.getPublishingDate());
    CmsListItem item=getList().newItem(versionId);
    item.set(LIST_COLUMN_VERSION,new CmsVersionWrapper(new Integer(file.getVersionId())));
    item.set(LIST_COLUMN_DATE_PUBLISHED,datePublished);
    item.set(LIST_COLUMN_DATE_LAST_MODIFIED,dateLastModified);
    item.set(LIST_COLUMN_FILE_TYPE,filetype);
    item.set(LIST_COLUMN_USER,readUserNameOfBackupFile(getCms(),file));
    item.set(LIST_COLUMN_RESOURCE_PATH,file.getRootPath());
    item.set(LIST_COLUMN_SIZE,new Integer(file.getLength()).toString());
    result.add(item);
  }
  CmsFile offlineFile=getCms().readFile(getParamResource(),CmsResourceFilter.IGNORE_EXPIRATION);
  if (offlineFile.getState() != CmsResource.STATE_UNCHANGED) {
    CmsListItem item=getList().newItem("-1");
    item.set(LIST_COLUMN_VERSION,new CmsVersionWrapper(OFFLINE_PROJECT));
    item.set(LIST_COLUMN_DATE_PUBLISHED,"-");
    item.set(LIST_COLUMN_DATE_LAST_MODIFIED,getMessages().getDateTime(offlineFile.getDateLastModified()));
    item.set(LIST_COLUMN_FILE_TYPE,String.valueOf(offlineFile.getTypeId()));
    item.set(LIST_COLUMN_USER,getCms().readUser(offlineFile.getUserLastModified()).getName());
    item.set(LIST_COLUMN_SIZE,new Integer(offlineFile.getLength()).toString());
    item.set(LIST_COLUMN_RESOURCE_PATH,offlineFile.getRootPath());
    result.add(item);
  }
  getList().getMetadata().getColumnDefinition(LIST_COLUMN_SEL1).setVisible(result.size() > 1);
  getList().getMetadata().getColumnDefinition(LIST_COLUMN_SEL2).setVisible(result.size() > 1);
  return result;
}
