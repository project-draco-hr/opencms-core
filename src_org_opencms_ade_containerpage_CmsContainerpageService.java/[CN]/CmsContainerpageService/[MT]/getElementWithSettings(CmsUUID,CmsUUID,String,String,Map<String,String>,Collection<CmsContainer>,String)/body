{
  CmsContainerElementData element=null;
  try {
    ensureSession();
    CmsObject cms=getCmsObject();
    CmsResource pageResource=cms.readResource(pageStructureId);
    String containerpageUri=cms.getSitePath(pageResource);
    Locale contentLocale=CmsLocaleManager.getLocale(locale);
    CmsElementUtil elemUtil=new CmsElementUtil(cms,containerpageUri,detailContentId,getRequest(),getResponse(),contentLocale);
    CmsContainerElementBean elementBean=getCachedElement(clientId);
    elementBean.initResource(cms);
    elementBean=CmsContainerElementBean.cloneWithSettings(elementBean,convertSettingValues(elementBean.getResource(),settings,contentLocale));
    getSessionCache().setCacheContainerElement(elementBean.editorHash(),elementBean);
    element=elemUtil.getElementData(pageResource,elementBean,containers);
  }
 catch (  Throwable e) {
    error(e);
  }
  return element;
}
