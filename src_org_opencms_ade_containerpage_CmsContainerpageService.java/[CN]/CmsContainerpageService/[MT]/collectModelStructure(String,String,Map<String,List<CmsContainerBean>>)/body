{
  List<CmsContainerBean> result=new ArrayList<CmsContainerBean>();
  if (containerByParent.containsKey(modelInstanceId)) {
    for (    CmsContainerBean container : containerByParent.get(modelInstanceId)) {
      List<CmsContainerElementBean> elements=new ArrayList<CmsContainerElementBean>();
      for (      CmsContainerElementBean element : container.getElements()) {
        CmsContainerElementBean copyElement=initNewInstanceId(element);
        elements.add(copyElement);
        result.addAll(collectModelStructure(element.getInstanceId(),copyElement.getInstanceId(),containerByParent));
      }
      String adjustedName=replaceModelId + container.getName().substring(modelInstanceId.length());
      result.add(new CmsContainerBean(adjustedName,container.getType(),replaceModelId,container.getMaxElements(),elements));
    }
  }
  return result;
}
