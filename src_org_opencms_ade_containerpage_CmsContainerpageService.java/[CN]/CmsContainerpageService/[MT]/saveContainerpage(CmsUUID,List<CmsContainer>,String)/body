{
  CmsObject cms=getCmsObject();
  try {
    ensureSession();
    CmsResource containerpage=cms.readResource(pageStructureId);
    ensureLock(containerpage);
    String containerpageUri=cms.getSitePath(containerpage);
    Locale contentLocale=CmsLocaleManager.getLocale(locale);
    List<CmsContainerBean> containerBeans=new ArrayList<CmsContainerBean>();
    for (    CmsContainer container : containers) {
      CmsContainerBean containerBean=getContainerBean(container,containerpage,locale);
      containerBeans.add(containerBean);
    }
    CmsContainerPageBean page=new CmsContainerPageBean(contentLocale,containerBeans);
    CmsXmlContainerPage xmlCnt=CmsXmlContainerPageFactory.unmarshal(cms,cms.readFile(containerpageUri));
    xmlCnt.save(cms,contentLocale,page);
    tryUnlock(containerpage);
  }
 catch (  Throwable e) {
    error(e);
  }
}
