{
  CmsCntPageData data=null;
  CmsObject cms=getCmsObject();
  HttpServletRequest request=getRequest();
  try {
    CmsTemplateContextInfo info=OpenCms.getTemplateContextManager().getContextInfoBean(cms,request);
    CmsResource containerPage=getContainerpage(cms);
    TemplateBean templateBean=(TemplateBean)getRequest().getAttribute(CmsTemplateContextManager.ATTR_TEMPLATE_BEAN);
    CmsADESessionCache sessionCache=CmsADESessionCache.getCache(getRequest(),cms);
    sessionCache.setTemplateBean(containerPage.getRootPath(),templateBean);
    long lastModified=containerPage.getDateLastModified();
    String cntPageUri=cms.getSitePath(containerPage);
    String editorUri=OpenCms.getWorkplaceManager().getEditorHandler().getEditorUri(cms,"xmlcontent","User agent",false);
    boolean useClassicEditor=(editorUri == null) || !editorUri.contains("acacia");
    data=new CmsCntPageData(cms.getSitePath(containerPage),getNoEditReason(cms,containerPage),CmsRequestUtil.encodeParams(request),CmsADEManager.PATH_SITEMAP_EDITOR_JSP,cntPageUri,CmsDetailPageResourceHandler.getDetailId(getRequest()),getNewTypes(cms,request),lastModified,getLockInfo(containerPage),cms.getRequestContext().getLocale().toString(),useClassicEditor,info,sessionCache.isEditSmallElements());
  }
 catch (  Throwable e) {
    error(e);
  }
  return data;
}
