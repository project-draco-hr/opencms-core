{
  CmsContainerElementData element=null;
  try {
    ensureSession();
    CmsObject cms=getCmsObject();
    CmsResource pageResource=cms.readResource(pageStructureId);
    String containerpageUri=cms.getSitePath(pageResource);
    CmsElementUtil elemUtil=new CmsElementUtil(cms,containerpageUri,getRequest(),getResponse(),new Locale(locale));
    CmsContainerElementBean elementBean=getCachedElement(clientId);
    elementBean.initResource(cms);
    elementBean=CmsContainerElementBean.cloneWithSettings(elementBean,convertSettingValues(elementBean.getResource(),settings));
    getSessionCache().setCacheContainerElement(elementBean.editorHash(),elementBean);
    element=elemUtil.getElementData(elementBean,containers);
  }
 catch (  Throwable e) {
    error(e);
  }
  return element;
}
