{
  CmsObject cms=getCmsObject();
  try {
    CmsResource containerpage;
    ensureSession();
    if (cms.existsResource(detailContainerResource)) {
      containerpage=cms.readResource(detailContainerResource);
    }
 else {
      String parentFolder=CmsResource.getFolderPath(detailContainerResource);
      if (!cms.existsResource(parentFolder)) {
        CmsResource parentRes=cms.createResource(parentFolder,OpenCms.getResourceManager().getResourceType(CmsResourceTypeFolder.getStaticTypeName()).getTypeId());
        tryUnlock(parentRes);
      }
      containerpage=cms.createResource(detailContainerResource,CmsResourceTypeXmlContainerPage.getContainerPageTypeId());
    }
    ensureLock(containerpage);
    Locale contentLocale=CmsLocaleManager.getLocale(locale);
    saveContainers(cms,containerpage,detailContainerResource,containers,contentLocale);
  }
 catch (  Throwable e) {
    error(e);
  }
}
