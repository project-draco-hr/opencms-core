{
  CmsObject cms=getCmsObject();
  try {
    ensureSession();
    String resourceName=groupContainer.getSitePath();
    CmsResource pageResource=getCmsObject().readResource(pageStructureId);
    if (groupContainer.isNew()) {
      CmsResource groupContainerResource=OpenCms.getADEManager().createNewElement(getCmsObject(),cms.getSitePath(pageResource),getRequest(),CmsResourceTypeXmlContainerPage.GROUP_CONTAINER_TYPE_NAME,new Locale(locale));
      resourceName=cms.getSitePath(groupContainerResource);
      groupContainer.setSitePath(resourceName);
      groupContainer.setClientId(groupContainerResource.getStructureId().toString());
    }
    CmsGroupContainerBean groupContainerBean=getGroupContainerBean(groupContainer,pageResource.getStructureId(),locale);
    cms.lockResourceTemporary(resourceName);
    CmsXmlGroupContainer xmlGroupContainer=CmsXmlGroupContainerFactory.unmarshal(cms,cms.readFile(resourceName));
    xmlGroupContainer.save(cms,groupContainerBean);
    cms.unlockResource(resourceName);
  }
 catch (  Throwable e) {
    error(e);
  }
  Collection<String> ids=new ArrayList<String>();
  ids.add(groupContainer.getClientId());
  return getElementsData(pageStructureId,reqParams,ids,containers,locale);
}
