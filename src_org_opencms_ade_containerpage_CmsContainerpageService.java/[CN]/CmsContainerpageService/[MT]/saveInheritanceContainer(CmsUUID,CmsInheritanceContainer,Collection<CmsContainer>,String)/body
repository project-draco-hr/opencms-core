{
  try {
    CmsResource containerPage=getCmsObject().readResource(pageStructureId);
    String sitePath=getCmsObject().getSitePath(containerPage);
    Locale requestedLocale=new Locale(locale);
    List<CmsContainerElementBean> elements=new ArrayList<CmsContainerElementBean>();
    for (    CmsContainerElement clientElement : inheritanceContainer.getElements()) {
      CmsContainerElementBean elementBean=getCachedElement(clientElement.getClientId());
      CmsInheritanceInfo inheritanceInfo=clientElement.getInheritanceInfo();
      if (inheritanceInfo.isNew() && CmsStringUtil.isEmptyOrWhitespaceOnly(inheritanceInfo.getKey())) {
        inheritanceInfo.setKey(CmsResource.getFolderPath(sitePath) + new CmsUUID().toString());
      }
      elementBean.setInheritanceInfo(inheritanceInfo);
      elements.add(elementBean);
    }
    CmsObject cms=OpenCms.initCmsObject(getCmsObject());
    cms.getRequestContext().setLocale(requestedLocale);
    OpenCms.getADEManager().saveInheritedContainer(cms,containerPage,inheritanceContainer.getName(),true,elements);
    return getElements(new ArrayList<String>(Collections.singletonList(inheritanceContainer.getClientId())),sitePath,containers,requestedLocale);
  }
 catch (  Exception e) {
    error(e);
  }
  return null;
}
