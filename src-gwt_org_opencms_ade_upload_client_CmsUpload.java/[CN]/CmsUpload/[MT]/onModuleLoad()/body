{
  super.onModuleLoad();
  if ((getDialogMode() != null) && getDialogMode().equals("button")) {
    exportOpenUploadDialog();
  }
 else {
    A_CmsUploadDialog dialog=GWT.create(CmsUploadDialogImpl.class);
    Runnable onFinish=new Runnable(){
      /** 
 * The action to execute when the dialog has finished.<p>
 * @see java.lang.Runnable#run()
 */
      public void run(){
        String closeLink=getCloseLink() + "?resource=";
        Window.Location.assign(CmsCoreProvider.get().link(closeLink));
      }
    }
;
    dialog.setFinishAction(onFinish);
    dialog.setTargetFolder(getTargetFolder());
    dialog.loadAndShow();
  }
}
