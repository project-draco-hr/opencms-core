{
  super.onModuleLoad();
  if ((getDialogMode() != null) && getDialogMode().equals("button")) {
    exportOpenUploadDialog();
  }
 else {
    try {
      A_CmsUploadDialog dialog=GWT.create(CmsUploadDialogImpl.class);
      Runnable onFinish=new Runnable(){
        /** 
 * The action to execute when the dialog has finished.<p>
 * @see java.lang.Runnable#run()
 */
        public void run(){
          String closeLink=getCloseLink() + "?resource=";
          Window.Location.assign(CmsCoreProvider.get().link(closeLink));
        }
      }
;
      dialog.setFinishAction(onFinish);
      dialog.setTargetFolder(getTargetFolder());
      dialog.loadAndShow();
    }
 catch (    Exception e) {
      CmsErrorDialog.handleException(new Exception("Deserialization of dialog data failed. This may be caused by expired java-script resources, please clear your browser cache and try again.",e));
    }
  }
}
