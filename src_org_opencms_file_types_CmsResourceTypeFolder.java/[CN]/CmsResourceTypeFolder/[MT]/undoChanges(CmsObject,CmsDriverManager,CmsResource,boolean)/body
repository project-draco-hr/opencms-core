{
  super.undoChanges(cms,driverManager,resource,recursive);
  if (recursive) {
    List resources=driverManager.readChildResources(cms.getRequestContext(),resource,CmsResourceFilter.ALL,true,true);
    for (int i=0; i < resources.size(); i++) {
      CmsResource childResource=(CmsResource)resources.get(i);
      if (childResource.isFolder()) {
        undoChanges(cms,driverManager,childResource,recursive);
      }
 else {
        getResourceType(childResource.getTypeId()).undoChanges(cms,driverManager,childResource,recursive);
      }
    }
  }
}
