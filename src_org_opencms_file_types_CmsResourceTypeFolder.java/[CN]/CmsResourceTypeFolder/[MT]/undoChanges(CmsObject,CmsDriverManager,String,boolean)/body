{
  resourcename=validateFoldername(resourcename);
  super.undoChanges(cms,driverManager,resourcename,recursive);
  List resources=cms.getResourcesInFolder(resourcename,CmsResourceFilter.ALL);
  if (!recursive) {
    return;
  }
  for (int i=0; i < resources.size(); i++) {
    CmsResource res=(CmsResource)resources.get(i);
    String name=cms.readAbsolutePath(res,CmsResourceFilter.ALL);
    if (res.isFolder()) {
      undoChanges(cms,driverManager,name,recursive);
    }
 else {
      cms.undoChanges(name,recursive);
    }
  }
}
