{
  CmsFormatterBean formatterBean=null;
  boolean fileWasRead=false;
  try {
    CmsResource formatterRes=m_cms.readResource(structureId);
    CmsFile formatterFile=m_cms.readFile(formatterRes);
    fileWasRead=true;
    CmsFormatterBeanParser parser=new CmsFormatterBeanParser(m_cms);
    CmsXmlContent content=CmsXmlContentFactory.unmarshal(m_cms,formatterFile);
    formatterBean=parser.parse(content,formatterRes.getRootPath(),"" + formatterRes.getStructureId());
  }
 catch (  Exception e) {
    if (!fileWasRead) {
      LOG.info(e.getLocalizedMessage(),e);
    }
 else {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
  return formatterBean;
}
