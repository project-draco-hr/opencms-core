{
  int tabIndex=m_panel.getTabPanel().getSelectedIndex();
  boolean changedTab=tabIndex != m_oldTabIndex;
  m_oldTabIndex=tabIndex;
  Widget tabWidget=m_panel.getTabPanel().getWidget(tabIndex);
  Element tabElement=tabWidget.getElement();
  Element innerElement=tabElement.getFirstChildElement();
  int contentHeight=CmsDomUtil.getCurrentStyleInt(innerElement,Style.height);
  int spaceLeft=m_dialog.getAvailableHeight(0);
  int newHeight=Math.min(spaceLeft,contentHeight) + 45;
  if ((m_panel.getTabPanel().getOffsetHeight() != newHeight) || changedTab) {
    m_panel.getTabPanel().setHeight(newHeight + "px");
    if (CmsCoreProvider.get().isIe7()) {
      int selectedIndex=m_panel.getTabPanel().getSelectedIndex();
      Widget widget=m_panel.getTabPanel().getWidget(selectedIndex);
      widget.setHeight((newHeight - 45) + "px");
      m_dialog.center();
    }
  }
}
