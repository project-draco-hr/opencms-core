{
  String width=null;
  String height=null;
  if (MODE_VIEW.equals(getParamDialogMode())) {
    return button(null,null,"apply_in.png",Messages.GUI_BUTTON_PASTE_0,0);
  }
 else {
    String uri=getParamResourcePath();
    if (CmsStringUtil.isEmpty(getParamDialogMode())) {
      uri=getJsp().link(uri);
      if (CmsImageLoader.isEnabled()) {
        try {
          CmsProperty imageSize=getJsp().getCmsObject().readPropertyObject(getParamResourcePath(),CmsPropertyDefinition.PROPERTY_IMAGE_SIZE,false);
          if (!imageSize.isNullProperty()) {
            CmsImageScaler scaler=new CmsImageScaler(imageSize.getValue());
            if (scaler.getWidth() > 0) {
              width=String.valueOf(scaler.getWidth());
            }
            if (scaler.getHeight() > 0) {
              height=String.valueOf(scaler.getHeight());
            }
          }
        }
 catch (        CmsException e) {
        }
      }
    }
    return button("javascript:pasteImage('" + uri + "',document.form.title.value, document.form.title.value,"+ width+ ","+ height+ ");",null,"apply.png",Messages.GUI_BUTTON_PASTE_0,0);
  }
}
