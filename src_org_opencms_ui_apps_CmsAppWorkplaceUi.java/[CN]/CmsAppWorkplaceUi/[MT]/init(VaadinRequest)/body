{
  OpenCms.getWorkplaceAppManager().loadApps();
  m_navigationStateManager=new Navigator.UriFragmentManager(getPage());
  Navigator navigator=new Navigator(this,m_navigationStateManager,this);
  navigator.addProvider(this);
  setNavigator(navigator);
  String fragment=getPage().getUriFragment();
  Page.getCurrent().addBrowserWindowResizeListener(new BrowserWindowResizeListener(){
    private static final long serialVersionUID=1L;
    public void browserWindowResized(    BrowserWindowResizeEvent event){
      markAsDirtyRecursive();
    }
  }
);
  navigator.addViewChangeListener(this);
  getPage().getStyles().add(new ExternalResource("/opencms/VAADIN/themes/contextmenu/contextmenu.css"));
  if (fragment != null) {
    navigator.navigateTo(fragment);
  }
 else {
    showHome();
  }
}
