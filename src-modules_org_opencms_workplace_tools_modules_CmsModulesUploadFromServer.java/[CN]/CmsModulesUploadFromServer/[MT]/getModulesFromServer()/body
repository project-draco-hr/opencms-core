{
  StringBuffer mod=new StringBuffer(32);
  String exportpath=OpenCms.getSystemInfo().getPackagesRfsPath();
  exportpath=OpenCms.getSystemInfo().getAbsoluteRfsPathRelativeToWebInf(exportpath + "modules");
  File folder=new File(exportpath);
  String[] list=folder.list();
  for (int i=0; i < list.length; i++) {
    try {
      File diskFile=new File(exportpath,list[i]);
      if (diskFile.isFile() && diskFile.getName().endsWith(".zip")) {
        mod.append(diskFile.getName());
        mod.append("|");
      }
 else       if (diskFile.isDirectory() && ((new File(diskFile + File.separator + "manifest.xml")).exists())) {
        mod.append(diskFile.getName());
        mod.append("|");
      }
    }
 catch (    Throwable t) {
    }
  }
  String modules=new String(mod);
  if (modules.endsWith("|")) {
    modules=modules.substring(0,modules.length() - 1);
  }
  return modules;
}
