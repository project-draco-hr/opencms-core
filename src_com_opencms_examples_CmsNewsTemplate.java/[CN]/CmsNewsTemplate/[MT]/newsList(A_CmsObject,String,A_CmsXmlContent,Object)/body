{
  Hashtable parameters=(Hashtable)userObj;
  String newsFolder=(String)parameters.get("elem1.newsfolder");
  if (newsFolder == null || "".equals(newsFolder)) {
    String errorMessage="No parameter \"NEWSFOLDER\" defined in " + doc.getAbsoluteFilename();
    if (A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_CRITICAL,"[CmsXmlNewsTemplate] " + errorMessage);
    }
    throw new CmsException(errorMessage,CmsException.C_XML_TAG_MISSING);
  }
  Enumeration en=CmsXmlNewsContentDefinition.getAllArticles(cms,newsFolder);
  String result="";
  while (en.hasMoreElements()) {
    Object o=en.nextElement();
    CmsXmlNewsContentDefinition doc2=(CmsXmlNewsContentDefinition)o;
    result=result + "\n    <LI>" + doc2.getNewsHeadline()+ "</LI>";
  }
  return result;
}
