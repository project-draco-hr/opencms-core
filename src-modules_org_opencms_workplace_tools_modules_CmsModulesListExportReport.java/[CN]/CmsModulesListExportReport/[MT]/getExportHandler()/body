{
  String moduleName=getParamModule();
  List resList=OpenCms.getModuleManager().getModule(moduleName).getResources();
  ArrayList resListCopy=new ArrayList();
  for (Iterator it=resList.iterator(); it.hasNext(); ) {
    String res=(String)it.next();
    try {
      if (res != null) {
        getCms().readResource(res);
        resListCopy.add(res);
      }
    }
 catch (    CmsException e) {
    }
  }
  String[] resources=new String[resListCopy.size()];
  for (int i=0; i < resListCopy.size(); i++) {
    resources[i]=(String)resListCopy.get(i);
  }
  String filename=OpenCms.getSystemInfo().getAbsoluteRfsPathRelativeToWebInf(OpenCms.getSystemInfo().getPackagesRfsPath() + CmsSystemInfo.FOLDER_MODULES + moduleName+ "_"+ OpenCms.getModuleManager().getModule(moduleName).getVersion().toString());
  CmsModuleImportExportHandler moduleExportHandler=new CmsModuleImportExportHandler();
  moduleExportHandler.setFileName(filename);
  moduleExportHandler.setModuleName(moduleName.replace('\\','/'));
  moduleExportHandler.setAdditionalResources(resources);
  moduleExportHandler.setDescription(Messages.get().getBundle(getLocale()).key(Messages.GUI_MODULES_LIST_EXPORT_REPORT_HANDLER_NAME_1,moduleExportHandler.getModuleName()));
  return moduleExportHandler;
}
