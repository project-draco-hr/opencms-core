{
  com.opencms.file.oracleplsql.CmsDbAccess dbAccess=(com.opencms.file.oracleplsql.CmsDbAccess)m_dbAccess;
  CmsUser agent=dbAccess.readUser(agentName,C_USER_TYPE_SYSTEMUSER);
  CmsGroup role=m_dbAccess.readGroup(roleName);
  java.sql.Timestamp timestamp=new java.sql.Timestamp(timeout);
  java.sql.Timestamp now=new java.sql.Timestamp(System.currentTimeMillis());
  CmsTask task=m_dbAccess.createTask(projectid,projectid,taskType,currentUser.getId(),agent.getId(),role.getId(),taskName,now,timestamp,priority);
  if (taskComment != null && !taskComment.equals("")) {
    m_dbAccess.writeTaskLog(task.getId(),currentUser.getId(),new java.sql.Timestamp(System.currentTimeMillis()),taskComment,C_TASKLOG_USER);
  }
  return task;
}
