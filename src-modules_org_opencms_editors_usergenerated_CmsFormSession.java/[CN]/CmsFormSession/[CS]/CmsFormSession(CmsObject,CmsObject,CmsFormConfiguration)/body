{
  m_adminCms=adminCms;
  m_configuration=configuration;
  if (cms.getRequestContext().getCurrentUser().isGuestUser() && m_configuration.getUserForGuests().isPresent()) {
    m_cms=OpenCms.initCmsObject(m_configuration.getUserForGuests().get().getName());
    m_cms.getRequestContext().setSiteRoot(cms.getRequestContext().getSiteRoot());
  }
 else {
    m_cms=OpenCms.initCmsObject(cms);
  }
  CmsProject project=m_adminCms.createProject(generateProjectName(),"User generated content project",m_configuration.getProjectGroup().getName(),m_configuration.getProjectGroup().getName());
  project.setDeleteAfterPublishing(true);
  m_adminCms.writeProject(project);
  m_cms.getRequestContext().setCurrentProject(project);
}
