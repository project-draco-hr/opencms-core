{
  CmsLock lock=m_adminCms.getLock(res);
  if (lock.isUnlocked() || lock.isLockableBy(m_adminCms.getRequestContext().getCurrentUser())) {
    m_adminCms.lockResourceTemporary(res);
  }
 else {
    m_adminCms.changeLock(res);
  }
  m_adminCms.deleteResource(m_adminCms.getSitePath(res),CmsResource.DELETE_PRESERVE_SIBLINGS);
}
