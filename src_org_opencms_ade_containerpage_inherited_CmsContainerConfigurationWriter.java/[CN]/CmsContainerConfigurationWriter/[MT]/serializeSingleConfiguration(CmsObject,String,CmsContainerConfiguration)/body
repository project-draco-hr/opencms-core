{
  String emptyRoot="<Configuration></Configuration>";
  SAXReader reader=new SAXReader();
  Document document=reader.read(new StringReader(emptyRoot));
  Element root=document.getRootElement();
  List<String> ordering=config.getOrdering();
  for (  String orderKey : ordering) {
    root.addElement(N_ORDERKEY).addCDATA(orderKey);
  }
  List<String> visibles=new ArrayList<String>();
  List<String> invisibles=new ArrayList<String>();
  for (  String key : config.getVisibility().keySet()) {
    Boolean value=config.getVisibility().get(key);
    if (value.booleanValue()) {
      visibles.add(key);
    }
 else {
      invisibles.add(key);
    }
  }
  for (  String visible : visibles) {
    root.addElement(N_VISIBLE).addCDATA(visible);
  }
  for (  String invisible : invisibles) {
    root.addElement(N_HIDDEN).addCDATA(invisible);
  }
  for (  Map.Entry<String,CmsContainerElementBean> entry : config.getNewElements().entrySet()) {
    String key=entry.getKey();
    CmsContainerElementBean elementBean=entry.getValue();
    CmsUUID structureId=elementBean.getId();
    Map<String,String> settings=elementBean.getIndividualSettings();
    Element newElementElement=root.addElement(N_NEWELEMENT);
    newElementElement.addElement(N_KEY).addCDATA(key);
    Element elementElement=newElementElement.addElement("Element");
    Element linkElement=elementElement.addElement("Uri").addElement("link");
    linkElement.addAttribute("type","STRONG");
    linkElement.addElement("uuid").addText(structureId.toString());
    CmsXmlContentPropertyHelper.saveProperties(cms,elementElement,settings,m_propertyConfig);
  }
  return root;
}
