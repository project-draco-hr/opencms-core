{
  CmsListInfoBean categoryBean=new CmsListInfoBean(category.getTitle(),CmsStringUtil.isNotEmptyOrWhitespaceOnly(category.getDescription()) ? category.getDescription() : category.getPath(),null);
  m_categories.put(category.getPath(),category);
  CmsDataValue dataValue=new CmsDataValue(600,3,category.getTitle(),CmsStringUtil.isNotEmptyOrWhitespaceOnly(category.getDescription()) ? category.getDescription() : category.getPath());
  dataValue.addStyleName(I_CmsInputLayoutBundle.INSTANCE.inputCss().categoryItem());
  CmsCheckBox checkBox=new CmsCheckBox();
  if ((selectedCategories != null) && selectedCategories.contains(category.getPath())) {
    checkBox.setChecked(true);
  }
  SelectionHandler selectionHandler=new SelectionHandler(category.getPath(),checkBox);
  checkBox.addClickHandler(selectionHandler);
  dataValue.addDomHandler(selectionHandler,DoubleClickEvent.getType());
  dataValue.addButton(createSelectButton(selectionHandler));
  CmsTreeItem treeItem=new CmsTreeItem(true,checkBox,dataValue);
  treeItem.setId(category.getPath());
  return treeItem;
}
