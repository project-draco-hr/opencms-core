{
  String errorTitle=n.getAttribute(CmsWorkplaceDefault.C_ERROR_TITLE);
  String errorMessage=n.getAttribute(CmsWorkplaceDefault.C_ERROR_MESSAGE);
  String errorReason=n.getAttribute(CmsWorkplaceDefault.C_ERROR_REASON);
  String errorSuggestion=n.getAttribute(CmsWorkplaceDefault.C_ERROR_SUGGESTION);
  String errorLink=n.getAttribute(CmsWorkplaceDefault.C_ERROR_LINK);
  if ("explorer_files.html".equals(errorLink)) {
    errorLink=CmsWorkplaceAction.getExplorerFileUri(CmsXmlTemplateLoader.getRequest(cms.getRequestContext()).getOriginalRequest());
  }
  String details="no details";
  if (n.hasChildNodes()) {
    details=n.getFirstChild().getNodeValue();
  }
  NodeList nlist=n.getChildNodes();
  if (nlist.getLength() > 1) {
    String theLasturl=nlist.item(1).getNodeValue();
    if (theLasturl != null && !"".equals(theLasturl.trim())) {
      errorLink=theLasturl;
    }
  }
  String reason;
  String button;
  CmsXmlWpTemplateFile errordef=getErrorDefinitions(cms);
  errorTitle=lang.getLanguageValue(errorTitle);
  errorMessage=lang.getLanguageValue(errorMessage);
  errorReason=lang.getLanguageValue(errorReason);
  errorSuggestion=lang.getLanguageValue(errorSuggestion);
  reason=lang.getLanguageValue("message.reason");
  button=lang.getLanguageValue("button.ok");
  errordef.setData("stylesheetpath",CmsXmlTemplateLoader.getRequest(cms.getRequestContext()).getServletUrl() + CmsWorkplace.VFS_PATH_RESOURCES);
  errordef.setData("jspath",CmsXmlTemplateLoader.getRequest(cms.getRequestContext()).getServletUrl() + CmsWorkplaceDefault.C_VFS_PATH_SCRIPTS);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_MSG_BUTTON,button);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_TITLE,errorTitle);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_MESSAGE,errorMessage);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_REASON,errorReason);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_SUGGESTION,errorSuggestion);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_LINK,errorLink);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_MSG_REASON,reason);
  errordef.setData(CmsWorkplaceDefault.C_ERROR_MSG_DETAILS,details);
  String result=errordef.getProcessedDataValue(CmsWorkplaceDefault.C_TAG_ERRORPAGE,callingObject,null);
  return result;
}
