{
  Vector changedResources=new Vector();
  Vector changedModuleData=new Vector();
  int versionId=0;
  long publishDate=System.currentTimeMillis();
  boolean enableHistory=cms.isHistoryEnabled();
  if (enableHistory) {
    versionId=cms.getBackupVersionId();
    cms.backupProject(cms.getRequestContext().currentProject().getId(),versionId,publishDate);
  }
  getDbAccessObject(getSubId()).publishResource(cms,m_dataSet,getSubId(),this.getClass().getName(),enableHistory,versionId,publishDate,changedResources,changedModuleData);
  cms.getOnlineElementCache().cleanupCache(changedResources,changedModuleData);
  A_OpenCms.fireCmsEvent(cms,com.opencms.flex.I_CmsEventListener.EVENT_PUBLISH_BO_RESOURCE,new HashMap(0));
}
