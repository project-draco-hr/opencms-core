{
  Vector allChannels=new Vector();
  try {
    cms.setContextToCos();
    String rootChannel=getDbAccessObject(this.getSubId()).getRootChannel();
    Vector subChannels=cms.getSubFolders(rootChannel);
    int offset=rootChannel.length() - 1;
    for (int i=0; i < subChannels.size(); i++) {
      String folder=((CmsFolder)subChannels.elementAt(i)).getAbsolutePath();
      Vector v=getAllSubChannelsOf(cms,folder);
      if (v.size() == 0) {
        allChannels.addElement(folder.substring(offset));
      }
 else {
        for (int j=0; j < v.size(); j++) {
          allChannels.addElement(((String)v.elementAt(j)).substring(offset));
        }
      }
    }
  }
  finally {
    cms.setContextToVfs();
  }
  return allChannels;
}
