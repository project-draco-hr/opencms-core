{
  initWidget(uiBinder.createAndBindUi(this));
  m_formatHandler=formatHandler;
  m_selectBoxLabel.setText(Messages.get().key(Messages.GUI_PREVIEW_LABEL_FORMAT_0));
  m_selectBoxLabel.truncate(TM_PREVIEW_TAB_IMAGEFORMATS,LABEL_WIDTH);
  m_cropButton.setText(Messages.get().key(Messages.GUI_PREVIEW_BUTTON_CROP_0));
  m_cropButton.setImageClass(I_CmsImageBundle.INSTANCE.style().croppingIcon());
  m_cropButton.addClickHandler(this);
  m_removeCropButton.setText(Messages.get().key(Messages.GUI_PREVIEW_BUTTON_REMOVECROP_0));
  m_removeCropButton.setImageClass(I_CmsImageBundle.INSTANCE.style().removeCroppingIcon());
  m_removeCropButton.addClickHandler(this);
  m_widthLabel.setText(Messages.get().key(Messages.GUI_PREVIEW_LABEL_WIDTH_0));
  m_widthLabel.truncate(TM_PREVIEW_TAB_IMAGEFORMATS,LABEL_WIDTH);
  m_heightLabel.setText(Messages.get().key(Messages.GUI_PREVIEW_LABEL_HEIGHT_0));
  m_heightLabel.truncate(TM_PREVIEW_TAB_IMAGEFORMATS,LABEL_WIDTH);
  m_ratioLock.setImageClass(I_CmsImageBundle.INSTANCE.style().lockedIcon());
  m_ratioLock.setDownImageClass(I_CmsImageBundle.INSTANCE.style().unlockedIcon());
  m_ratioLock.addClickHandler(this);
  m_resetSize.setImageClass(I_CmsImageBundle.INSTANCE.style().resetIcon());
  m_resetSize.addClickHandler(this);
  m_selectBox.addValueChangeHandler(this);
  m_heightBox.addValueChangeHandler(this);
  m_heightBox.addKeyPressHandler(this);
  m_widthBox.addValueChangeHandler(this);
  m_widthBox.addKeyPressHandler(this);
  m_removeCropButton.setVisible(false);
}
