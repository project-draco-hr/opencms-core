{
  if (!isCached(theCacheObject))   return false;
  if ((m_maxObjectCosts != -1) && (theCacheObject.getLruCacheCosts() > m_maxObjectCosts)) {
    if (OpenCms.isLogging(CmsLog.CHANNEL_MAIN,CmsLog.LEVEL_INFO)) {
      OpenCms.log(CmsLog.CHANNEL_MAIN,CmsLog.LEVEL_INFO,"[CmsLruCache] you are trying to cache objects with cache costs " + theCacheObject.getLruCacheCosts() + " which is bigger than the max. allowed costs "+ this.m_maxObjectCosts);
    }
    remove(theCacheObject);
    return false;
  }
  I_CmsLruCacheObject nextObj;
  I_CmsLruCacheObject prevObj;
  if ((nextObj=theCacheObject.getNextLruObject()) == null) {
    return true;
  }
 else   if ((prevObj=theCacheObject.getPreviousLruObject()) == null) {
    I_CmsLruCacheObject newTail=nextObj;
    newTail.setPreviousLruObject(null);
    m_listTail=newTail;
  }
 else {
    prevObj.setNextLruObject(nextObj);
    nextObj.setPreviousLruObject(prevObj);
  }
  I_CmsLruCacheObject oldHead=this.m_listHead;
  oldHead.setNextLruObject(theCacheObject);
  theCacheObject.setNextLruObject(null);
  theCacheObject.setPreviousLruObject(oldHead);
  this.m_listHead=theCacheObject;
  return true;
}
