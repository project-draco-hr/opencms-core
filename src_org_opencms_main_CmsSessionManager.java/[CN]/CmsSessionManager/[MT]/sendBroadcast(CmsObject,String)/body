{
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(message)) {
    return;
  }
  CmsBroadcast broadcast=new CmsBroadcast(cms.getRequestContext().getCurrentUser(),message);
  Iterator i=m_sessionStorageProvider.getAll().iterator();
  while (i.hasNext()) {
    CmsSessionInfo sessionInfo=(CmsSessionInfo)i.next();
    if (m_sessionStorageProvider.get(sessionInfo.getSessionId()) != null) {
      sessionInfo.getBroadcastQueue().add(broadcast);
    }
  }
}
