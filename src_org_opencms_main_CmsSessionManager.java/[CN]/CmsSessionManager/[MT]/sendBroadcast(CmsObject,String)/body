{
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(message)) {
    return;
  }
  CmsBroadcast broadcast=new CmsBroadcast(cms.getRequestContext().currentUser(),message);
synchronized (m_sessions) {
    Iterator i=getConcurrentSessionIterator();
    while (i.hasNext()) {
      CmsSessionInfo sessionInfo=(CmsSessionInfo)m_sessions.get(i.next());
      if (sessionInfo != null) {
        sessionInfo.getBroadcastQueue().add(broadcast);
      }
    }
  }
}
