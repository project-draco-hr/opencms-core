{
  CmsFormConfigurationReader reader=new CmsFormConfigurationReader(cms);
  CmsFormConfiguration config=null;
  try {
    CmsFile configFile=cms.readFile(sitePath);
    config=reader.readConfiguration(configFile);
  }
 catch (  Exception e) {
    LOG.error(e.getLocalizedMessage(),e);
    throw new CmsFormException(e,CmsFormConstants.ErrorCode.errConfiguration,e.getLocalizedMessage());
  }
  return createSession(cms,request,config);
}
