{
  String pool="default";
  int currentVersion=8;
  m_detectedVersion=8;
  CmsSetupDb setupDb=new CmsSetupDb(null);
  try {
    setupDb.setConnection(getDbDriver(pool),getDbUrl(pool),getDbParams(pool),getDbUser(pool),m_dbPools.get(pool).get("pwd"));
    if (!setupDb.hasTableOrColumn("CMS_USERS","USER_OU")) {
      m_detectedVersion=6;
    }
 else     if (!setupDb.hasTableOrColumn("CMS_LOG",null)) {
      m_detectedVersion=7;
    }
  }
  finally {
    setupDb.closeConnection();
  }
  return (currentVersion > m_detectedVersion);
}
