{
  m_searchObject=new CmsGallerySearchObject();
  m_searchObject.init();
  m_dialogBean=new CmsGalleryDialogBean();
  String[] tabs=CmsStringUtil.splitAsArray(CmsGalleryProvider.get().getTabs(),",");
  final ArrayList<String> tabsConfig=new ArrayList<String>();
  for (int i=0; tabs.length > i; i++) {
    tabsConfig.add(tabs[i]);
  }
  m_dialogBean.setTabs(tabsConfig);
  m_dialogMode=CmsGalleryProvider.get().getDialogMode();
  CmsRpcAction<CmsGalleryInfoBean> initialAction=new CmsRpcAction<CmsGalleryInfoBean>(){
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
    @Override public void execute(){
      getGalleryService().getInitialSettings(tabsConfig,m_searchObject,m_dialogMode,this);
    }
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
    @Override public void onResponse(    CmsGalleryInfoBean infoBean){
      m_dialogBean=infoBean.getDialogInfo();
      m_searchObject=infoBean.getSearchObject();
      m_handler.onInitialSearch(m_searchObject,m_dialogBean,getGalleryTabIdIndex(),isOpenInResults());
    }
  }
;
  initialAction.execute();
}
