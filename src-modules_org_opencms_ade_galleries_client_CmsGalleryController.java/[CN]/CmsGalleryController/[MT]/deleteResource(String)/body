{
  CmsRpcAction<List<CmsBrokenLinkBean>> action=new CmsRpcAction<List<CmsBrokenLinkBean>>(){
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
    @Override public void execute(){
      start(0,true);
      getVfsService().getBrokenLinks(resourcePath,this);
    }
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
    @Override protected void onResponse(    List<CmsBrokenLinkBean> result){
      stop(false);
      if (result.size() > 0) {
        I_CmsConfirmDialogHandler handler=new I_CmsConfirmDialogHandler(){
          /** 
 * @see org.opencms.gwt.client.ui.I_CmsCloseDialogHandler#onClose()
 */
          public void onClose(){
          }
          /** 
 * @see org.opencms.gwt.client.ui.I_CmsConfirmDialogHandler#onOk()
 */
          public void onOk(){
            internalDeleteResource(resourcePath);
          }
        }
;
        CmsLinkWarningDialog dialog=new CmsLinkWarningDialog(handler,result,resourcePath);
        dialog.center();
      }
 else {
        CmsConfirmDialog dialog=new CmsConfirmDialog(org.opencms.gwt.client.Messages.get().key(org.opencms.gwt.client.Messages.GUI_DIALOG_DELETE_TITLE_0),org.opencms.gwt.client.Messages.get().key(org.opencms.gwt.client.Messages.GUI_DIALOG_DELETE_TEXT_1,resourcePath));
        dialog.setHandler(new I_CmsConfirmDialogHandler(){
          /** 
 * @see org.opencms.gwt.client.ui.I_CmsCloseDialogHandler#onClose()
 */
          public void onClose(){
          }
          /** 
 * @see org.opencms.gwt.client.ui.I_CmsConfirmDialogHandler#onOk()
 */
          public void onOk(){
            internalDeleteResource(resourcePath);
          }
        }
);
        dialog.center();
      }
    }
  }
;
  action.execute();
}
