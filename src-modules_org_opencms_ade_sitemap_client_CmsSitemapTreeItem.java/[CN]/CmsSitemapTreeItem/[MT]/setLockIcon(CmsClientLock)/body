{
  if (m_lockIcon == null) {
    m_lockIcon=new HTML();
    m_listItemWidget.getContentPanel().add(m_lockIcon);
  }
  if ((lock == null) || lock.getLockType().isUnlocked()) {
    m_lockIcon.setStyleName(CSS.lockIcon());
  }
 else {
    if (lock.isOwnedByUser()) {
switch (lock.getLockType()) {
case EXCLUSIVE:
case INHERITED:
case TEMPORARY:
        m_lockIcon.setStyleName(CSS.lockIcon() + " " + CSS.lockOpen());
      break;
case SHARED_EXCLUSIVE:
case SHARED_INHERITED:
    m_lockIcon.setStyleName(CSS.lockIcon() + " " + CSS.lockSharedOpen());
  break;
default :
m_lockIcon.setStyleName(CSS.lockIcon());
}
}
 else {
switch (lock.getLockType()) {
case EXCLUSIVE:
case INHERITED:
case TEMPORARY:
m_lockIcon.setStyleName(CSS.lockIcon() + " " + CSS.lockClosed());
break;
case SHARED_EXCLUSIVE:
case SHARED_INHERITED:
m_lockIcon.setStyleName(CSS.lockIcon() + " " + CSS.lockSharedClosed());
break;
default :
m_lockIcon.setStyleName(CSS.lockIcon());
}
}
m_lockIcon.setTitle(Messages.get().key(Messages.GUI_LOCK_OWNED_BY_1,lock.getLockOwner()));
}
}
