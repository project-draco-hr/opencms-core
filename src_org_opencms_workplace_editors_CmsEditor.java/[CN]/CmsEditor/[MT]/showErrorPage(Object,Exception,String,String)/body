{
  getJsp().getRequest().setAttribute(C_SESSION_WORKPLACE_CLASS,editor);
  setAction(ACTION_SHOW_ERRORMESSAGE);
  if (exception != null) {
    setParamErrorstack(CmsException.getStackTraceAsString(exception));
  }
 else {
    setParamErrorstack(null);
  }
  setParamTitle(key("error.title.editor" + key));
  setParamMessage(key("error.message.editor" + key));
  String reasonSuggestion=key("error.reason.editor" + key) + "<br>\n" + key("error.suggestion.editor" + key)+ "\n";
  setParamReasonSuggestion(reasonSuggestion);
  if (exception != null) {
    String errorMessage="Error while trying to " + key + " file "+ getParamResource()+ ": "+ exception;
    if (CmsLog.getLog(editor).isWarnEnabled()) {
      CmsLog.getLog(editor).warn(errorMessage,exception);
    }
 else     if (CmsLog.getLog(editor).isErrorEnabled()) {
      CmsLog.getLog(editor).error(errorMessage);
    }
  }
  getJsp().include(dialogUri);
}
