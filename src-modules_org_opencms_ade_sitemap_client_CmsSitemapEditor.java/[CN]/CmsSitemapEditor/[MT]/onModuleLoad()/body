{
  super.onModuleLoad();
  I_CmsLayoutBundle.INSTANCE.rootCss().ensureInjected();
  I_CmsLayoutBundle.INSTANCE.pageCss().ensureInjected();
  RootPanel.getBodyElement().addClassName(I_CmsLayoutBundle.INSTANCE.rootCss().root());
  CmsToolbar toolBar=new CmsToolbar();
  toolBar.addLeft(new CmsImageButton(I_CmsImageBundle.INSTANCE.style().editorIcon(),true));
  toolBar.addRight(new CmsImageButton(I_CmsImageBundle.INSTANCE.style().deleteIcon(),true));
  RootPanel.get().add(toolBar);
  RootPanel.get().add(new CmsToolbarPlaceHolder());
  CmsHeader title=new CmsHeader(Messages.get().key(Messages.GUI_EDITOR_TITLE_1,CmsSitemapProvider.get().getUri()));
  title.addStyleName(I_CmsLayoutBundle.INSTANCE.rootCss().pageCenter());
  RootPanel.get().add(title);
  final CmsPage page=new CmsPage();
  RootPanel.get().add(page);
  final Label loadingLabel=new Label(Messages.get().key(Messages.GUI_LOADING_0));
  page.add(loadingLabel);
  CmsRpcAction<CmsClientSitemapEntry> getRootAction=new CmsRpcAction<CmsClientSitemapEntry>(){
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
    @Override public void execute(){
      start(500);
      getSitemapService().getSitemapEntry("/demo_t3/",this);
    }
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
    @Override public void onResponse(    CmsClientSitemapEntry root){
      root.setName("demo_t3");
      page.remove(loadingLabel);
      CmsLazyTree<CmsSitemapTreeItem> tree=new CmsLazyTree<CmsSitemapTreeItem>(new A_CmsLazyOpenHandler<CmsSitemapTreeItem>(){
        /** 
 * @see org.opencms.gwt.client.ui.lazytree.I_CmsLazyOpenHandler#load(org.opencms.gwt.client.ui.lazytree.CmsLazyTreeItem)
 */
        public void load(        final CmsSitemapTreeItem target){
          CmsRpcAction<CmsClientSitemapEntry[]> getChildrenAction=new CmsRpcAction<CmsClientSitemapEntry[]>(){
            /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
            @Override public void execute(){
              start(1000);
              getSitemapService().getSitemapChildren(target.getEntry().getSitePath(),this);
            }
            /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
            @Override public void onResponse(            CmsClientSitemapEntry[] result){
              target.removeItems();
              for (              CmsClientSitemapEntry entry : result) {
                target.addItem(entry);
              }
              target.setState(true);
              stop();
            }
          }
;
          getChildrenAction.execute();
        }
      }
);
      tree.addItem(new CmsSitemapTreeItem(root));
      page.add(tree);
      stop();
    }
  }
;
  getRootAction.execute();
}
