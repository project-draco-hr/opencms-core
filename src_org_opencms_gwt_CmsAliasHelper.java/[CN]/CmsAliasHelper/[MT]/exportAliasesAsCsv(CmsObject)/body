{
  String siteRoot=cms.getRequestContext().getSiteRoot();
  List<CmsAlias> aliases=OpenCms.getAliasManager().getAliasesForSite(cms,siteRoot);
  StringBuffer resultBuffer=new StringBuffer();
  for (  CmsAlias alias : aliases) {
    try {
      CmsResource resource=cms.readResource(alias.getStructureId());
      String line=alias.getAliasPath() + "," + cms.getSitePath(resource)+ ","+ alias.getMode().toString();
      resultBuffer.append(line);
      resultBuffer.append("\n");
    }
 catch (    CmsException e) {
      LOG.warn("Could not read alias resource",e);
      continue;
    }
  }
  return resultBuffer.toString();
}
