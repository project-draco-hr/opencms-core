{
  OutputFormat outf=new OutputFormat(doc,(encoding == null) ? getOriginalEncoding(doc) : encoding,true);
  outf.setLineWidth(C_XML_LINE_WIDTH);
  outf.setPreserveSpace(false);
  XMLSerializer serializer=new XMLSerializer(out,outf);
  try {
    DOMSerializer domSerializer=serializer.asDOMSerializer();
    domSerializer.serialize(doc);
  }
 catch (  Exception e) {
    if (OpenCms.isLogging(CmsLog.CHANNEL_MAIN,CmsLog.LEVEL_ERROR)) {
      OpenCms.log(CmsLog.CHANNEL_MAIN,CmsLog.LEVEL_ERROR,"[CmsXmlXercesParser] " + e);
    }
  }
}
