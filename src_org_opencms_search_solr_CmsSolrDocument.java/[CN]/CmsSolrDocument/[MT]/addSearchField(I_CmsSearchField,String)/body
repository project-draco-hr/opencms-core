{
  CmsSolrField field=(CmsSolrField)sfield;
  List<String> fieldsToAdd=new ArrayList<String>(Collections.singletonList(field.getName()));
  if ((field.getCopyFields() != null) && !field.getCopyFields().isEmpty()) {
    fieldsToAdd.addAll(field.getCopyFields());
  }
  for (  String fieldName : fieldsToAdd) {
    IndexSchema schema=OpenCms.getSearchManager().getSolrServerConfiguration().getSolrSchema();
    FieldType type=schema.getFieldType(fieldName);
    if (type instanceof DateField) {
      value=DateField.formatExternal(new Date(new Long(value).longValue()));
    }
    SolrInputField exfield=m_doc.getField(fieldName);
    if (exfield == null) {
      m_doc.addField(fieldName,value,field.getBoost());
    }
 else {
      m_doc.setField(fieldName,value,field.getBoost());
    }
  }
}
