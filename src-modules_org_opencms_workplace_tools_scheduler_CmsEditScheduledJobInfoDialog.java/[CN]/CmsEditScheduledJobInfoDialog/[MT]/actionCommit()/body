{
  List errors=new ArrayList();
  CmsScheduledJobInfo jobCopy=null;
  if (m_jobInfo.getId() != null) {
    jobCopy=OpenCms.getScheduleManager().getJob(m_jobInfo.getId());
  }
  try {
    OpenCms.getScheduleManager().scheduleJob(getCms(),m_jobInfo);
    getSettings().setHtmlList(null);
    OpenCms.writeConfiguration(CmsSystemConfiguration.class);
  }
 catch (  Throwable t) {
    errors.add(t);
  }
  if (errors.size() > 0 && jobCopy != null) {
    try {
      OpenCms.getScheduleManager().scheduleJob(getCms(),jobCopy);
    }
 catch (    Throwable t) {
      errors.add(t);
    }
  }
  setCommitErrors(errors);
}
