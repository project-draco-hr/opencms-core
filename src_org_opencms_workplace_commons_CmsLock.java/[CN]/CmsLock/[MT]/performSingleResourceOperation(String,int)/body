{
  String originalResourceName=resourceName;
  CmsResource res=getCms().readResource(resourceName,CmsResourceFilter.ALL);
  if (res.isFolder() && !resourceName.endsWith("/")) {
    resourceName+="/";
  }
switch (dialogAction) {
case TYPE_LOCK:
    getCms().lockResource(originalResourceName);
  break;
case TYPE_LOCKCHANGE:
getCms().changeLock(resourceName);
break;
case TYPE_UNLOCK:
default :
getCms().unlockResource(resourceName);
}
}
