{
  fillParamValues(request);
  if (DIALOG_CONFIRMED.equals(getParamAction())) {
    setAction(ACTION_CONFIRMED);
  }
 else   if (DIALOG_CANCEL.equals(getParamAction())) {
    setAction(ACTION_CANCEL);
  }
 else {
switch (getDialogAction(getCms())) {
case TYPE_LOCK:
      setParamTitle(key("messagebox.title.lock"));
    setParamDialogtype(DIALOG_TYPE_LOCK);
  break;
case TYPE_LOCKCHANGE:
setParamTitle(key("messagebox.title.lockchange"));
setParamDialogtype(DIALOG_TYPE_UNLOCK);
break;
case TYPE_UNLOCK:
default :
setParamTitle(key("messagebox.title.unlock"));
setParamDialogtype(DIALOG_TYPE_UNLOCK);
}
if (showConfirmation()) {
setAction(ACTION_DEFAULT);
}
 else {
setAction(ACTION_SUBMIT_NOCONFIRMATION);
}
}
}
