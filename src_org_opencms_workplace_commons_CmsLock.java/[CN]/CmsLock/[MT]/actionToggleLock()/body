{
  getJsp().getRequest().setAttribute(SESSION_WORKPLACE_CLASS,this);
  try {
    String resName=getParamResource();
    CmsResource res=getCms().readResource(resName,CmsResourceFilter.ALL);
    if (res.isFolder() && !resName.endsWith("/")) {
      resName+="/";
    }
switch (getDialogAction(getCms())) {
case TYPE_LOCK:
      getCms().lockResource(getParamResource());
    break;
case TYPE_LOCKCHANGE:
  getCms().changeLock(resName);
break;
case TYPE_UNLOCK:
default :
getCms().unlockResource(resName);
}
actionCloseDialog();
}
 catch (Throwable e) {
includeErrorpage(this,e);
}
}
