{
  m_element.clearContent();
  if (value == null) {
    return;
  }
  String path=value;
  if (cms != null) {
    String siteRoot=OpenCms.getSiteManager().getSiteRoot(value);
    String oldSite=cms.getRequestContext().getSiteRoot();
    try {
      if (siteRoot != null) {
        cms.getRequestContext().setSiteRoot(siteRoot);
      }
      path=cms.getRequestContext().removeSiteRoot(value);
      path=CmsLinkManager.getSitePath(cms,null,path);
      if (path == null) {
        path=value;
      }
    }
  finally {
      cms.getRequestContext().setSiteRoot(oldSite);
    }
  }
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(path)) {
    m_stringValue=null;
    return;
  }
  CmsRelationType type=getContentDefinition().getContentHandler().getRelationType(this);
  CmsLink link=new CmsLink("vfsLink",type,path,true);
  link.checkConsistency(cms);
  CmsLinkUpdateUtil.updateXmlForVfsFile(link,m_element.addElement(CmsXmlPage.NODE_LINK));
  m_stringValue=null;
}
