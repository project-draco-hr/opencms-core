{
  StringBuffer result=new StringBuffer("<div class='");
  if (isGroupcontainer) {
    result.append(CLASS_GROUP_CONTAINER_ELEMENT_MARKER);
  }
 else {
    result.append(CLASS_CONTAINER_ELEMENT_START_MARKER);
  }
  result.append("'");
  Locale wpLocale=OpenCms.getWorkplaceManager().getWorkplaceLocale(cms);
  String noEditReason="";
  elementBean.initResource(cms);
  if (CmsResourceTypeXmlContent.isXmlContent(elementBean.getResource())) {
    noEditReason=new CmsResourceUtil(cms,elementBean.getResource()).getNoEditReason(wpLocale,true);
  }
 else {
    noEditReason=Messages.get().getBundle().key(Messages.GUI_ELEMENT_RESOURCE_CAN_NOT_BE_EDITED_0);
  }
  result.append(" clientId='").append(elementBean.editorHash()).append("'");
  result.append(" alt='").append(elementBean.getSitePath()).append("'");
  String typeName=OpenCms.getResourceManager().getResourceType(elementBean.getResource().getTypeId()).getTypeName();
  if (elementBean.isCreateNew()) {
    result.append(" newType='").append(typeName).append("'");
    CmsResourceTypeConfig typeConfig=OpenCms.getADEManager().lookupConfiguration(cms,cms.getRequestContext().getRootUri()).getResourceType(typeName);
    if (CmsStringUtil.isEmptyOrWhitespaceOnly(noEditReason) && ((typeConfig == null) || !typeConfig.checkCreatable(cms))) {
      String niceName=CmsWorkplaceMessages.getResourceTypeName(wpLocale,typeName);
      noEditReason=Messages.get().getBundle().key(Messages.GUI_CONTAINERPAGE_TYPE_NOT_CREATABLE_1,niceName);
    }
  }
  result.append(" hasprops='").append(hasProperties(cms,elementBean.getResource())).append("'");
  CmsExplorerTypeSettings settings=OpenCms.getWorkplaceManager().getExplorerTypeSetting(typeName);
  boolean viewPermission=cms.hasPermissions(elementBean.getResource(),CmsPermissionSet.ACCESS_VIEW,false,CmsResourceFilter.IGNORE_EXPIRATION) && settings.getAccess().getPermissions(cms,elementBean.getResource()).requiresViewPermission();
  result.append(" hasviewpermission='").append(viewPermission).append("'");
  result.append(" releasedandnotexpired='").append(elementBean.isReleasedAndNotExpired()).append("'");
  result.append(" rel='").append(CmsStringUtil.escapeHtml(noEditReason));
  if (isGroupcontainer) {
    result.append("'>");
  }
 else {
    result.append("' style='display:none;'></div>");
  }
  return result.toString();
}
