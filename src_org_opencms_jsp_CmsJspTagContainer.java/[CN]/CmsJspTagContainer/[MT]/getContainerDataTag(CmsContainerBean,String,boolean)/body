{
  JSONObject jsonContainer=new JSONObject();
  jsonContainer.put(CmsContainerJsonKeys.NAME,container.getName());
  jsonContainer.put(CmsContainerJsonKeys.TYPE,container.getType());
  jsonContainer.put(CmsContainerJsonKeys.MAXELEMENTS,container.getMaxElements());
  JSONObject jsonContainerAttrs=new JSONObject();
  for (  Map.Entry<String,String> entry : container.getAttributes().entrySet()) {
    jsonContainerAttrs.put(entry.getKey(),entry.getValue());
  }
  jsonContainer.put(CmsContainerJsonKeys.ATTRIBUTES,jsonContainerAttrs);
  jsonContainer.put(CmsContainerJsonKeys.DETAILVIEW,isDetailView);
  int width=-1;
  try {
    if (widthStr != null) {
      width=Integer.parseInt(widthStr);
    }
  }
 catch (  NumberFormatException e) {
  }
  jsonContainer.put(CmsContainerJsonKeys.WIDTH,width);
  JSONArray jsonElements=new JSONArray();
  for (  CmsContainerElementBean element : container.getElements()) {
    jsonElements.put(element.editorHash());
  }
  jsonContainer.put(CmsContainerJsonKeys.ELEMENTS,jsonElements);
  return new StringBuffer("<script type=\"text/javascript\">if (").append(KEY_CONTAINER_DATA).append("!=null) {").append(KEY_CONTAINER_DATA).append(".push(").append(jsonContainer.toString()).append("); } </script>").toString();
}
