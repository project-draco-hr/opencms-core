{
  List resourceRelations=getResourceCategories();
  List result=getCategoryService().readAllCategories(getJsp().getCmsObject(),true);
  Iterator itResourceRelations=resourceRelations.iterator();
  while (itResourceRelations.hasNext()) {
    CmsCategory category=(CmsCategory)itResourceRelations.next();
    if (result.contains(category) && resourceRelations.containsAll(getCategoryService().readSubCategories(getJsp().getCmsObject(),category.getPath(),true))) {
      result.remove(category);
    }
  }
  return result;
}
