{
  super.init(context,req,res);
  String siteRoot=req.getParameter(CmsTemplateBean.C_PARAM_SITE);
  if (CmsStringUtil.isNotEmpty(siteRoot)) {
    getRequestContext().setSiteRoot(siteRoot);
  }
  m_resPath=req.getParameter(CmsTemplateNavigation.C_PARAM_RESPATH);
  String propertyFile=property(C_PROPERTY_CONFIGFILE,"search","");
  try {
    if ("".equals(propertyFile)) {
      String pageUri=req.getParameter(CmsTemplateBean.C_PARAM_URI);
      String path=getCmsObject().readPropertyObject(pageUri,CmsTemplateBean.C_PROPERTY_CONFIGPATH,true).getValue("/");
      propertyFile=path + C_FILENAME_CONFIGFILE;
    }
    m_configuration=CmsTemplateBean.getConfigurationFile(propertyFile,getCmsObject());
  }
 catch (  Exception e) {
    if (OpenCms.getLog(this).isDebugEnabled()) {
      OpenCms.getLog(this).debug(e);
    }
  }
}
