{
  return new Comparator(){
    /** 
 * @see java.util.Comparator#compare(java.lang.Object,java.lang.Object)
 */
    public int compare(    Object o1,    Object o2){
      CmsListColumnDefinition col=((CmsListItem)o1).getMetadata().getColumnDefinition(columnId);
      if (col.getDirectActions().size() > 0) {
        I_CmsListDirectAction action=(I_CmsListDirectAction)col.getDirectActions().get(0);
        CmsListItem tmp=action.getItem();
        action.setItem((CmsListItem)o1);
        String i1=action.getIconPath();
        action.setItem((CmsListItem)o2);
        String i2=action.getIconPath();
        action.setItem(tmp);
        return i1.compareTo(i2);
      }
 else {
        Comparable c1=(Comparable)((CmsListItem)o1).get(columnId);
        Comparable c2=(Comparable)((CmsListItem)o2).get(columnId);
        return c1.compareTo(c2);
      }
    }
  }
;
}
