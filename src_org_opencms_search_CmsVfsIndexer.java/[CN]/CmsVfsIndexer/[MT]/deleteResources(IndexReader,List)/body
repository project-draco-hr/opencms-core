{
  if ((resourcesToDelete == null) || resourcesToDelete.isEmpty()) {
    return;
  }
  List resourcesAlreadyDeleted=new ArrayList(resourcesToDelete.size());
  Iterator i=resourcesToDelete.iterator();
  while (i.hasNext()) {
    CmsPublishedResource res=(CmsPublishedResource)i.next();
    String rootPath=res.getRootPath();
    if (!resourcesAlreadyDeleted.contains(rootPath)) {
      resourcesAlreadyDeleted.add(rootPath);
      Term term=new Term(CmsSearchField.FIELD_PATH,rootPath);
      try {
        reader.deleteDocuments(term);
      }
 catch (      IOException e) {
        if (LOG.isWarnEnabled()) {
          LOG.warn(Messages.get().getBundle().key(Messages.LOG_IO_INDEX_DOCUMENT_DELETE_2,rootPath,m_index.getName()),e);
        }
      }
    }
  }
}
