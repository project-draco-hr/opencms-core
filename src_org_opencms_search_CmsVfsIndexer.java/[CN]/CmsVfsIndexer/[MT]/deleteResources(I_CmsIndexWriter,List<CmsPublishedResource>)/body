{
  if ((resourcesToDelete == null) || resourcesToDelete.isEmpty()) {
    return;
  }
  List<String> resourcesAlreadyDeleted=new ArrayList<String>(resourcesToDelete.size());
  Iterator<CmsPublishedResource> i=resourcesToDelete.iterator();
  while (i.hasNext()) {
    CmsPublishedResource res=i.next();
    String rootPath=res.getRootPath();
    if (!resourcesAlreadyDeleted.contains(rootPath)) {
      resourcesAlreadyDeleted.add(rootPath);
      if (!res.isFolder()) {
        deleteResource(indexWriter,rootPath);
      }
    }
  }
}
