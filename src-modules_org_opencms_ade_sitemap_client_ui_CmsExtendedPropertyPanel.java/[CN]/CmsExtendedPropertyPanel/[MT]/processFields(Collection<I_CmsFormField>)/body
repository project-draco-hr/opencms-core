{
  m_fieldsByGroup=getFieldsByGroup(fields);
  Collection<I_CmsFormField> fields1=m_fieldsByGroup.get(TAB_SIMPLE);
  Collection<I_CmsFormField> fields2=m_fieldsByGroup.get(TAB_INDIVIDUAL);
  Collection<I_CmsFormField> fields3=m_fieldsByGroup.get(TAB_SHARED);
  m_simpleTab.clear();
  preprocessFields(fields2,m_individualDisplay);
  preprocessFields(fields3,m_sharedDisplay);
  CmsFieldSetBox individualBox=prepareExtendedTab(m_individualTab);
  CmsFieldSetBox sharedBox=prepareExtendedTab(m_sharedTab);
  renderSimpleTab(fields1);
  renderExtendedTab(fields2,individualBox);
  if (m_showShared) {
    renderExtendedTab(fields3,sharedBox);
  }
}
