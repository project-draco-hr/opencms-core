{
  if (invalidResources != null) {
    for (int i=0; i < invalidResources.size(); i++) {
      Enumeration extKeys=m_dependenciesExtern.keys();
      String aktInvalid=(String)invalidResources.elementAt(i);
      while (extKeys.hasMoreElements()) {
        String current=(String)extKeys.nextElement();
        if (aktInvalid.startsWith(current) || current.startsWith(aktInvalid)) {
          Vector variantsToDelete=(Vector)m_dependenciesExtern.get(current);
          if (variantsToDelete != null) {
            for (int j=0; j < variantsToDelete.size(); j++) {
              String variantKey=(String)variantsToDelete.elementAt(j);
              StringTokenizer tocy=new StringTokenizer(variantKey,"|",false);
              String classname=tocy.nextToken();
              String templatename=tocy.nextToken();
              String cacheDirectivesKey=tocy.nextToken();
              CmsElementDescriptor desc=new CmsElementDescriptor(classname,templatename);
              A_CmsElement currentElement=(A_CmsElement)m_elements.get(desc);
              if (currentElement != null) {
                removeVariantFromDependencies(variantKey,currentElement.getVariant(cacheDirectivesKey));
                currentElement.removeVariant(cacheDirectivesKey);
              }
            }
          }
        }
      }
    }
    Enumeration extKeys=m_dependenciesExtern.keys();
    while (extKeys.hasMoreElements()) {
      String currentKey=(String)extKeys.nextElement();
      Vector currentValue=(Vector)m_dependenciesExtern.get(currentKey);
      if (currentValue == null || currentValue.size() == 0) {
        m_dependenciesExtern.remove(currentKey);
      }
    }
  }
}
