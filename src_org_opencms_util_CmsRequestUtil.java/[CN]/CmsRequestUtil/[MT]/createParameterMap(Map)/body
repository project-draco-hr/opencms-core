{
  if (params == null) {
    return null;
  }
  HashMap result=new HashMap();
  Iterator i=params.entrySet().iterator();
  while (i.hasNext()) {
    Map.Entry entry=(Map.Entry)i.next();
    String key=(String)entry.getKey();
    Object values=entry.getValue();
    if (values instanceof String[]) {
      result.put(key,values);
    }
 else {
      if (values != null) {
        result.put(key,new String[]{values.toString()});
      }
    }
  }
  return result;
}
