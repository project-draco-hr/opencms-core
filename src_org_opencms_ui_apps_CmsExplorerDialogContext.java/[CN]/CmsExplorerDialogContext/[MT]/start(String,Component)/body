{
  m_savedExplorerState=CmsAppWorkplaceUi.get().getNavigator().getState();
  CmsAppWorkplaceUi.get().changeCurrentAppState(CmsAppWorkplaceUi.get().getAppState() + "#dialog");
  if (dialog != null) {
    CmsContextMenuDialogPanel panel=new CmsContextMenuDialogPanel();
    panel.setContent(dialog);
    m_appContext.setAppContent(panel);
    try {
      for (      CmsResource resource : m_resources) {
        CmsResourceUtil resUtil=new CmsResourceUtil(getCms(),resource);
        Locale locale=A_CmsUI.get().getLocale();
        panel.addResourceInfo(new CmsResourceInfo(resUtil.getGalleryTitle(locale),resUtil.getGalleryDescription(locale),resUtil.getBigIconPath()));
      }
    }
 catch (    Exception e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
}
