{
  ResultSet res=null;
  PreparedStatement stmnt=null;
  boolean retValue=true;
  try {
    stmnt=con.prepareStatement("select count(*) from CMS_USERS");
    res=stmnt.executeQuery();
    res.next();
  }
 catch (  SQLException exc) {
    if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_POOL,"[" + getClass().getName() + "] "+ m_poolname+ ": testConnection failed:\n"+ com.opencms.util.Utils.getStackTrace(exc)+ "\n\n"+ com.opencms.util.Utils.getStackTrace(new Exception()));
    }
    retValue=false;
  }
 finally {
    try {
      res.close();
    }
 catch (    Exception exc) {
    }
    try {
      stmnt.close();
    }
 catch (    Exception exc) {
    }
  }
  return retValue;
}
