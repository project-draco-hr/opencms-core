{
  try {
    return (Connection)m_availableConnections.pop();
  }
 catch (  EmptyStackException exc) {
    if (m_connectionAmount < m_maxConn) {
      createConnections(m_increaseRate);
    }
 else {
synchronized (m_availableConnections) {
        if (A_OpenCms.isLogging()) {
          A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_POOL,"[" + getClass().getName() + "] "+ m_poolname+ ": no connections available - have to wait");
        }
        try {
          m_availableConnections.wait();
        }
 catch (        InterruptedException iExc) {
        }
      }
    }
  }
  return getConnection();
}
