{
  boolean isDefault=getSubValueBoolean(cms,xmlType,N_IS_DEFAULT);
  CmsUUID source=getSubValueID(cms,xmlType,N_SOURCE);
  CmsResource resource=cms.readResource(source);
  String type=getTypeName(resource.getTypeId());
  CmsUUID folder=getSubValueID(cms,xmlType,CmsXmlUtils.concatXpath(N_DESTINATION,N_FOLDER));
  String pattern=getSubValueString(cms,xmlType,CmsXmlUtils.concatXpath(N_DESTINATION,N_PATTERN));
  CmsResource folderRes=null;
  CmsLazyFolder lazyFolder=null;
  if (folder == null) {
    String path="/" + type;
    lazyFolder=new CmsLazyFolder(path);
  }
 else {
    folderRes=cms.readResource(folder);
    lazyFolder=new CmsLazyFolder(folderRes);
  }
  CmsConfigurationItem configItem=new CmsConfigurationItem(resource,folderRes,lazyFolder,pattern,isDefault);
  List<I_CmsXmlContentValueLocation> fmtValues=xmlType.getSubValues(N_FORMATTER);
  CmsFormatterConfiguration formatterConfiguration=new CmsFormatterConfiguration();
  for (  I_CmsXmlContentValueLocation fmtValue : fmtValues) {
    String jsp=getSubValueString(cms,fmtValue,N_JSP);
    String fmtType=getSubValueString(cms,fmtValue,N_TYPE);
    String minWidth=getSubValueString(cms,fmtValue,N_MINWIDTH);
    String maxwidth=getSubValueString(cms,fmtValue,N_MAXWIDTH);
    String searchContent=getSubValueString(cms,fmtValue,N_SEARCHCONTENT);
    formatterConfiguration.addFormatter(new CmsFormatterBean(jsp,fmtType,minWidth,maxwidth,searchContent,m_content));
  }
  if (formatterConfiguration.hasFormatters()) {
    formatterConfiguration.freeze();
    m_formatterConfiguration.put(type,formatterConfiguration);
  }
  m_newElements.add(configItem);
  if (!isDefault && m_configuration.containsKey(type)) {
    return;
  }
  m_configuration.put(type,configItem);
}
