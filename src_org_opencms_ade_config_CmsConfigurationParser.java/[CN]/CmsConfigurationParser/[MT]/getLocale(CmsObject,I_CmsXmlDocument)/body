{
  Locale currentLocale=cms.getRequestContext().getLocale();
  Locale defaultLocale=CmsLocaleManager.getDefaultLocale();
  Locale locale=null;
  if (content.hasLocale(currentLocale)) {
    locale=currentLocale;
  }
 else   if (content.hasLocale(defaultLocale)) {
    locale=defaultLocale;
  }
 else {
    List<Locale> locales=content.getLocales();
    if (locales.size() == 0) {
      throw new CmsException(Messages.get().container(Messages.ERR_NO_TYPE_CONFIG_1,content.getFile().getRootPath()));
    }
    locale=locales.get(0);
  }
  return locale;
}
