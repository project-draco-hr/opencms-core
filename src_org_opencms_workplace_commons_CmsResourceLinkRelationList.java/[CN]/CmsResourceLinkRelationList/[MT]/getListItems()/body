{
  List newItems=new ArrayList();
  List items=super.getListItems();
  Iterator itItems=items.iterator();
  while (itItems.hasNext()) {
    CmsListItem item=(CmsListItem)itItems.next();
    CmsResource resource=getResourceUtil(item).getResource();
    CmsRelationType relationType=(CmsRelationType)((List)getRelationTypes().get(resource)).remove(0);
    String localizedRelationType=relationType.getLocalizedName(getMessages());
    Map itemValues=item.getValues();
    CmsListItem newItem=getList().newItem(localizedRelationType + "_" + resource.getStructureId().toString());
    Iterator itItemValuesKeys=itemValues.entrySet().iterator();
    while (itItemValuesKeys.hasNext()) {
      Map.Entry e=(Map.Entry)itItemValuesKeys.next();
      String currentKey=(String)e.getKey();
      newItem.set(currentKey,e.getValue());
    }
    newItem.set(LIST_COLUMN_RELATION_TYPE,localizedRelationType);
    newItems.add(newItem);
  }
  return newItems;
}
