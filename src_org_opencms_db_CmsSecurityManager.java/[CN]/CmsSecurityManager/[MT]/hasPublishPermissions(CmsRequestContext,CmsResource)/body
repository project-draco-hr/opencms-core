{
  boolean hasPublishPermissions=false;
  hasPublishPermissions|=isAdmin(context);
  hasPublishPermissions|=isManagerOfProject(context);
  if (directPublishResource != null) {
    try {
      hasPublishPermissions|=(PERM_ALLOWED == hasPermissions(context,directPublishResource,CmsPermissionSet.ACCESS_DIRECT_PUBLISH,true,CmsResourceFilter.ALL));
    }
 catch (    CmsException e) {
      return false;
    }
  }
  hasPublishPermissions&=(context.currentProject().getId() != I_CmsConstants.C_PROJECT_ONLINE_ID);
  hasPublishPermissions&=(context.currentProject().getFlags() == I_CmsConstants.C_PROJECT_STATE_UNLOCKED);
  return hasPublishPermissions;
}
