{
  HashMap values=new HashMap();
  try {
    NodeList list;
    if (key != null && !"".equals(key))     list=node.getElementsByTagName(key).item(0).getChildNodes();
 else     list=node.getChildNodes();
    for (int i=0; i < list.getLength(); i++) {
      Node n=list.item(i);
      Node c=n.getFirstChild();
      Object entry=values.get(n.getNodeName());
      Object value=null;
      if (c == null)       value=null;
 else {
        value=c.getNodeValue();
        if (value == null)         value=getSubNodeValues((Element)n,"");
      }
      if (entry == null) {
        values.put(list.item(i).getNodeName(),value);
      }
 else       if (entry instanceof List) {
        List v=(List)entry;
        v.add(value);
      }
 else {
        List l=new ArrayList();
        l.add(entry);
        l.add(value);
        values.put(list.item(i).getNodeName(),l);
      }
    }
  }
 catch (  Exception exc) {
  }
  return values;
}
