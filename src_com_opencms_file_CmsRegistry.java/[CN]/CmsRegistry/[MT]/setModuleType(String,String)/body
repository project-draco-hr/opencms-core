{
  if (theModuleType == null || theModuleType.equals("")) {
    theModuleType=CmsRegistry.C_MODULE_TYPE_TRADITIONAL;
  }
  try {
    Element moduleElement=getModuleElement(theModulename);
    NodeList list=moduleElement.getChildNodes();
    Node typeNode=null;
    for (int i=0; i < list.getLength(); i++) {
      Element e=(Element)list.item(i);
      if ("type".equals(e.getNodeName())) {
        typeNode=(Node)e;
        i=list.getLength();
      }
    }
    if (typeNode == null) {
      Element newTypeNode=m_xmlReg.createElement("type");
      Node firstNode=moduleElement.getFirstChild();
      moduleElement.insertBefore(newTypeNode,firstNode);
    }
    this.setModuleData(theModulename,"type",theModuleType);
  }
 catch (  CmsException e) {
  }
}
