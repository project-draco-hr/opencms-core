{
  if (m_sortedDatabaseKeys == null) {
    List databases=m_databaseKeys;
    List sortedDatabases=new ArrayList(databases.size());
    SortedMap mappedDatabases=new TreeMap();
    for (int i=0; i < databases.size(); i++) {
      String key=(String)databases.get(i);
      Integer ranking=new Integer(0);
      try {
        ranking=Integer.valueOf(getDbProperty(key + ".ranking"));
      }
 catch (      Exception e) {
      }
      mappedDatabases.put(ranking,key);
    }
    while (mappedDatabases.size() > 0) {
      Integer key=(Integer)mappedDatabases.lastKey();
      String database=(String)mappedDatabases.get(key);
      sortedDatabases.add(database);
      mappedDatabases.remove(key);
    }
    m_sortedDatabaseKeys=new ArrayList(databases.size());
    m_sortedDatabaseKeys=sortedDatabases;
  }
  return m_sortedDatabaseKeys;
}
