{
  Iterator<Element> i=CmsXmlGenericWrapper.elementIterator(root,APPINFO_SEARCHSETTING);
  while (i.hasNext()) {
    Element element=i.next();
    String elementName=element.attributeValue(APPINFO_ATTR_ELEMENT);
    String searchContent=element.attributeValue(APPINFO_ATTR_SEARCHCONTENT);
    boolean include=(CmsStringUtil.isEmpty(searchContent)) || (Boolean.valueOf(searchContent).booleanValue());
    if (elementName != null) {
      addSearchSetting(contentDefinition,elementName,Boolean.valueOf(include));
    }
    Iterator<Element> it=CmsXmlGenericWrapper.elementIterator(element,APPINFO_SOLR_FIELD);
    Element solrElement;
    while (it.hasNext()) {
      solrElement=it.next();
      String localeNames=solrElement.attributeValue(APPINFO_ATTR_LOCALE);
      List<Locale> locales=OpenCms.getLocaleManager().getAvailableLocales(localeNames);
      if ((locales == null) || locales.isEmpty()) {
        locales=OpenCms.getLocaleManager().getAvailableLocales();
      }
      for (      Locale locale : locales) {
        String sourceField="*_" + locale.getLanguage();
        String targetField=solrElement.attributeValue(APPINFO_ATTR_TARGET_FIELD);
        String copyFieldNames=solrElement.attributeValue(APPINFO_ATTR_COPY_FIELDS,"");
        List<String> copyFields=CmsStringUtil.splitAsList(copyFieldNames,',');
        String defaultValue=solrElement.attributeValue(APPINFO_ATTR_DEFAULT);
        String defaultBoost=String.valueOf(I_CmsSearchField.BOOST_DEFAULT);
        float boost=Float.valueOf(solrElement.attributeValue(APPINFO_ATTR_BOOST,defaultBoost)).floatValue();
        CmsSolrField field=new CmsSolrField(sourceField,targetField,copyFields,locale,defaultValue,boost);
        CmsSolrFieldMapping mapping=new CmsSolrFieldMapping(CmsSearchFieldMappingType.ITEM,elementName);
        field.addMapping(mapping);
        Iterator<Element> ite=CmsXmlGenericWrapper.elementIterator(solrElement,APPINFO_ATTR_MAPPING);
        while (ite.hasNext()) {
          Element mappingElement=ite.next();
          String mappingClass=mappingElement.attributeValue(APPINFO_ATTR_CLASS);
          if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(mappingClass)) {
            try {
              Object object=Class.forName(mappingClass);
              mapping=(CmsSolrFieldMapping)object;
            }
 catch (            ClassNotFoundException e) {
              throw new CmsXmlException(Messages.get().container(Messages.ERR_XML_SCHEMA_MAPPING_CLASS_NOT_EXIST_3,mappingClass,contentDefinition.getTypeName(),contentDefinition.getSchemaLocation()));
            }
          }
          String typeAsString=mappingElement.attributeValue(APPINFO_ATTR_TYPE);
          CmsSearchFieldMappingType type=CmsSearchFieldMappingType.valueOf(typeAsString);
          mapping=new CmsSolrFieldMapping(type,mappingElement.getStringValue());
          mapping.setDefaultValue(mappingElement.attributeValue(APPINFO_ATTR_DEFAULT));
          field.addMapping(mapping);
        }
        addSolrField(contentDefinition,elementName,field);
      }
    }
  }
}
