{
  String defaultValue;
  if (value.getElement() == null) {
    defaultValue=value.getDefault(locale);
  }
 else {
    String xpath=value.getPath();
    defaultValue=(String)m_defaultValues.get(xpath);
    if (defaultValue == null) {
      xpath=CmsXmlUtils.removeXpath(xpath);
      xpath=CmsXmlUtils.createXpath(xpath,1);
      defaultValue=(String)m_defaultValues.get(xpath);
    }
  }
  if (defaultValue != null) {
    CmsMacroResolver resolver=CmsMacroResolver.newInstance().setCmsObject(cms).setMessages(getMessages(locale));
    return resolver.resolveMacros(defaultValue);
  }
  return null;
}
