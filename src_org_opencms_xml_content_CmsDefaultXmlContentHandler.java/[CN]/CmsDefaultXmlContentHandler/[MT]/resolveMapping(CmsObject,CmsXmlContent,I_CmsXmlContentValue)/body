{
  if (!value.isSimpleType()) {
    return;
  }
  CmsFile file=content.getFile();
  if (file == null) {
    throw new CmsXmlException(Messages.get().container(Messages.ERR_XMLCONTENT_RESOLVE_FILE_NOT_FOUND_0));
  }
  String mapping=getMapping(value.getPath());
  if (CmsStringUtil.isNotEmpty(mapping)) {
    String rootPath=content.getFile().getRootPath();
    try {
      cms.getRequestContext().saveSiteRoot();
      cms.getRequestContext().setSiteRoot("/");
      List siblings=cms.readSiblings(rootPath,CmsResourceFilter.IGNORE_EXPIRATION);
      for (int i=0; i < siblings.size(); i++) {
        String filename=((CmsResource)siblings.get(i)).getRootPath();
        Locale locale=OpenCms.getLocaleManager().getLocaleForResource(cms,filename);
        if (!locale.equals(value.getLocale())) {
          continue;
        }
        String stringValue=value.getStringValue(cms);
        if (mapping.startsWith(MAPTO_PROPERTY_LIST) && (value.getIndex() == 0)) {
          String property=mapping.substring(MAPTO_PROPERTY_LIST.length());
          String path=CmsXmlUtils.removeXpathIndex(value.getPath());
          List values=content.getValues(path,locale);
          Iterator j=values.iterator();
          StringBuffer result=new StringBuffer(values.size() * 64);
          while (j.hasNext()) {
            I_CmsXmlContentValue val=(I_CmsXmlContentValue)j.next();
            result.append(val.getStringValue(cms));
            if (j.hasNext()) {
              result.append(CmsProperty.VALUE_LIST_DELIMITER);
            }
          }
          cms.writePropertyObject(filename,new CmsProperty(property,result.toString(),null));
        }
 else         if (mapping.startsWith(MAPTO_PROPERTY)) {
          String property=mapping.substring(MAPTO_PROPERTY.length());
          cms.writePropertyObject(filename,new CmsProperty(property,stringValue,null));
        }
 else         if (mapping.startsWith(MAPTO_ATTRIBUTE)) {
          String attribute=mapping.substring(MAPTO_ATTRIBUTE.length());
switch (ATTRIBUTES.indexOf(attribute)) {
case 0:
            long date;
          date=Long.valueOf(stringValue).longValue();
        if (date == 0) {
          date=CmsResource.DATE_RELEASED_DEFAULT;
        }
      file.setDateReleased(date);
    break;
case 1:
  date=Long.valueOf(stringValue).longValue();
if (date == 0) {
  date=CmsResource.DATE_EXPIRED_DEFAULT;
}
file.setDateExpired(date);
break;
default :
}
}
}
}
  finally {
cms.getRequestContext().restoreSiteRoot();
}
}
}
