{
  CmsFile file=value.getDocument().getFile();
  String resourceName=cms.getSitePath(file);
  if (CmsWorkplace.isTemporaryFile(file)) {
    StringBuffer result=new StringBuffer(resourceName.length() + 2);
    result.append(CmsResource.getFolderPath(resourceName));
    result.append(CmsResource.getName(resourceName).substring(1));
    resourceName=result.toString();
  }
  try {
    List listsib=cms.readSiblings(resourceName,CmsResourceFilter.ALL);
    for (int i=0; i < listsib.size(); i++) {
      CmsResource resource=(CmsResource)listsib.get(i);
      Locale locale=getLocaleForResource(cms,cms.getSitePath(resource));
      if (value.getLocale().equals(locale)) {
        return cms.getSitePath(resource);
      }
    }
  }
 catch (  CmsException e) {
    if (LOG.isErrorEnabled()) {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
  return cms.getSitePath(file);
}
