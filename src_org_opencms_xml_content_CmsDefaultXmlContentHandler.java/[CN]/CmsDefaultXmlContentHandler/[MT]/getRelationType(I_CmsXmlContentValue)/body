{
  if (value == null) {
    return null;
  }
  String xpath=value.getPath();
  CmsRelationType relationType=null;
  relationType=(CmsRelationType)m_relations.get(RELATION_TYPE_PREFIX + xpath);
  if (relationType == null) {
    String path=CmsXmlUtils.removeXpathIndex(xpath);
    relationType=(CmsRelationType)m_relations.get(RELATION_TYPE_PREFIX + path);
  }
  if (relationType == null) {
    String path=CmsXmlUtils.getLastXpathElement(xpath);
    relationType=(CmsRelationType)m_relations.get(RELATION_TYPE_PREFIX + path);
  }
  if (relationType == null) {
    return CmsRelationType.XML_WEAK;
  }
  return relationType;
}
