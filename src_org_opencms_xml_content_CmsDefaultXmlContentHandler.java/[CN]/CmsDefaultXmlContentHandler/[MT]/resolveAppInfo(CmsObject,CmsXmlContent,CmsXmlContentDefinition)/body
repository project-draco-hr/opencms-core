{
  CmsFile file=content.getFile();
  if (file == null) {
    throw new CmsXmlException("File not available to resolve element mappings");
  }
  String filename=cms.getSitePath(content.getFile());
  Locale locale=(Locale)OpenCms.getLocaleManager().getDefaultLocales(cms,filename).get(0);
  List typeSequence=contentDefinition.getTypeSequence();
  Iterator i=typeSequence.iterator();
  while (i.hasNext()) {
    I_CmsXmlSchemaType type=(I_CmsXmlSchemaType)i.next();
    String nodeName=type.getElementName();
    int indexCount=content.getIndexCount(nodeName,locale);
    if (indexCount > 0) {
      String mapping=getMapping(nodeName);
      if (CmsStringUtil.isNotEmpty(mapping)) {
        I_CmsXmlContentValue value=content.getValue(nodeName,locale,0);
        String stringValue=value.getStringValue(cms,content);
        if (mapping.startsWith(C_MAPTO_PROPERTY)) {
          String property=mapping.substring(C_MAPTO_PROPERTY.length());
          cms.writePropertyObject(filename,new CmsProperty(property,stringValue,null));
        }
 else         if (mapping.startsWith(C_MAPTO_ATTRIBUTE)) {
          String attribute=mapping.substring(C_MAPTO_ATTRIBUTE.length());
switch (C_ATTRIBUTES_LIST.indexOf(attribute)) {
case 0:
            long date;
          date=Long.valueOf(stringValue).longValue();
        if (date == 0) {
          date=CmsResource.DATE_RELEASED_DEFAULT;
        }
      file.setDateReleased(date);
    break;
case 1:
  date=Long.valueOf(stringValue).longValue();
if (date == 0) {
  date=CmsResource.DATE_EXPIRED_DEFAULT;
}
file.setDateExpired(date);
break;
default :
}
}
}
}
}
}
