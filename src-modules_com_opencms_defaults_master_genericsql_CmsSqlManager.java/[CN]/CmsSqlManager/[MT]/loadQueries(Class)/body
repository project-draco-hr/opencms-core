{
  Properties properties=new Properties();
  String className=currentClass.getName();
  String queryFilename=className.substring(0,className.lastIndexOf('.'));
  queryFilename=queryFilename.replace('.','/') + "/query.properties";
  Class superClass=currentClass.getSuperclass();
  if (superClass != java.lang.Object.class) {
    loadQueries(superClass);
  }
  try {
    properties.load(getClass().getClassLoader().getResourceAsStream(queryFilename));
    m_queries.putAll(properties);
  }
 catch (  Exception exc) {
    if (CmsLog.getLog(this).isErrorEnabled()) {
      CmsLog.getLog(this).error("Couldn't load " + queryFilename,exc);
    }
  }
}
