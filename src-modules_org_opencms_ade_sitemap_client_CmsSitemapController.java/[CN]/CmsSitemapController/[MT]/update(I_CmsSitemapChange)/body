{
switch (change.getType()) {
case DELETE:
    CmsSitemapChangeDelete changeDelete=(CmsSitemapChangeDelete)change;
  CmsClientSitemapEntry deleteParent=getEntry(CmsResource.getParentFolder(changeDelete.getEntry().getSitePath()));
deleteParent.removeChild(changeDelete.getEntry().getPosition());
break;
case EDIT:
CmsSitemapChangeEdit changeEdit=(CmsSitemapChangeEdit)change;
CmsClientSitemapEntry editEntry=getEntry(changeEdit.getOldEntry().getSitePath());
editEntry.setTitle(changeEdit.getNewEntry().getTitle());
editEntry.setVfsPath(changeEdit.getNewEntry().getVfsPath());
editEntry.setProperties(changeEdit.getNewEntry().getProperties());
break;
case MOVE:
CmsSitemapChangeMove changeMove=(CmsSitemapChangeMove)change;
CmsClientSitemapEntry sourceParent=getEntry(CmsResource.getParentFolder(changeMove.getSourcePath()));
CmsClientSitemapEntry moved=sourceParent.removeChild(changeMove.getSourcePosition());
CmsClientSitemapEntry destParent=getEntry(CmsResource.getParentFolder(changeMove.getDestinationPath()));
destParent.insertChild(moved,changeMove.getDestinationPosition());
break;
case NEW:
CmsSitemapChangeNew changeNew=(CmsSitemapChangeNew)change;
CmsClientSitemapEntry newParent=getEntry(CmsResource.getParentFolder(changeNew.getEntry().getSitePath()));
if (changeNew.getEntry().getPosition() < 0) {
newParent.addChild(changeNew.getEntry());
}
 else {
newParent.insertChild(changeNew.getEntry(),changeNew.getEntry().getPosition());
}
break;
default :
break;
}
}
