{
  if (!isDirty()) {
    startEdit();
  }
  if (!redo) {
    m_undone.clear();
    m_handler.onClearUndo();
  }
  m_changes.add(change);
  update(change);
  m_handler.onChange(change);
}
