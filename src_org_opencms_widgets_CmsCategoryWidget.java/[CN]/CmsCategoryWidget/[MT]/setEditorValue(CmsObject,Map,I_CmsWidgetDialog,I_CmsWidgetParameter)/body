{
  super.setEditorValue(cms,formParameters,widgetDialog,param);
  String id=param.getStringValue(cms);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(id)) {
    try {
      CmsResource res=cms.readResource(new CmsUUID(id));
      param.setStringValue(cms,res.getRootPath());
      String resName=((String[])formParameters.get("resource"))[0];
      CmsRelationFilter filter=CmsRelationFilter.TARGETS;
      filter=filter.filterType(CmsRelationType.CATEGORY);
      filter=filter.filterResource(cms.readResource("/system/categories/" + m_category));
      filter=filter.filterIncludeChildren();
      cms.deleteRelationsFromResource(resName,filter);
      CmsCategoryService.getInstance().addResourceToCategory(cms,resName,res.getRootPath().substring("/system/categories".length()));
    }
 catch (    Exception e) {
      param.setStringValue(cms,"");
    }
  }
}
