{
  if (containerType.equals(CmsDefaultXmlContentHandler.DEFAULT_FORMATTER_TYPE)) {
    return CmsDefaultXmlContentHandler.DEFAULT_FORMATTER;
  }
  if (getTypeId() == CmsResourceTypeXmlContainerPage.GROUP_CONTAINER_TYPE_ID) {
    return CmsDefaultXmlContentHandler.DEFAULT_FORMATTER;
  }
  CmsXmlContentDefinition contentDef=searchContentDefinition(cms,resource);
  Map<String,String> formatters=contentDef.getContentHandler().getFormattersByType();
  if (formatters.isEmpty()) {
    LOG.warn(Messages.get().getBundle().key(Messages.LOG_WARN_NO_FORMATTERS_DEFINED_1,contentDef.getSchemaLocation()));
  }
  I_CmsXmlContentHandler handler=contentDef.getContentHandler();
  return CmsFormatterUtil.selectFormatter(handler.getFormattersByType(),handler.getFormattersByWidth(),containerType,maxWidth);
}
