{
  if (type.equals(CmsFormatterBean.DEFAULT_FORMATTER_TYPE)) {
    return CmsFormatterBean.DEFAULT_FORMATTER;
  }
  if (getTypeId() == CmsResourceTypeXmlContainerPage.GROUP_CONTAINER_TYPE_ID) {
    return CmsFormatterBean.DEFAULT_FORMATTER;
  }
  CmsXmlContentDefinition contentDef=searchContentDefinition(cms,resource);
  CmsFormatterConfiguration formatterConfiguration=contentDef.getContentHandler().getFormatterConfiguration();
  if (!formatterConfiguration.hasFormatters()) {
    LOG.warn(Messages.get().getBundle().key(Messages.LOG_WARN_NO_FORMATTERS_DEFINED_1,contentDef.getSchemaLocation()));
  }
  return formatterConfiguration.selectFormatter(type,width);
}
