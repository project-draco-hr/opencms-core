{
  if (CmsFormatterBean.isPreviewType(type) || (getTypeId() == CmsResourceTypeXmlContainerPage.GROUP_CONTAINER_TYPE_ID)) {
    return CmsFormatterBean.getDefaultPreviewFormatter();
  }
  CmsXmlContentDefinition contentDef=searchContentDefinition(cms,resource);
  CmsFormatterConfiguration formatterConfiguration=contentDef.getContentHandler().getFormatterConfiguration();
  if (!formatterConfiguration.hasFormatters()) {
    LOG.warn(Messages.get().getBundle().key(Messages.LOG_WARN_NO_FORMATTERS_DEFINED_1,contentDef.getSchemaLocation()));
  }
  return formatterConfiguration.getFormatter(type,width);
}
