{
  CmsFile file=page.getFile();
  byte[] content=page.marshal();
  file.setContents(content);
  CmsLock lock=getCms().getLock(file);
  if (lock.isNullLock() || lock.getUserId().equals(getCms().getRequestContext().currentUser().getId())) {
    checkLock(getCms().getSitePath(file));
    getCms().writeFile(file);
    getCms().unlockResource(getCms().getSitePath(file));
    if (report) {
      m_report.print(" " + m_report.key("report.dots") + m_report.key("report.ok"),I_CmsReport.C_FORMAT_OK);
      m_report.println(" " + key("report.renameelement.element") + " "+ getParamOldElement()+ " "+ key("report.renameelement.renamedsuccessfully")+ " "+ getParamNewElement(),I_CmsReport.C_FORMAT_OK);
    }
  }
}
