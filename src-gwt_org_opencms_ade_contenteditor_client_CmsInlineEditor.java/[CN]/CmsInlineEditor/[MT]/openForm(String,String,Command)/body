{
  final CmsPopup popup=new CmsPopup("Editor");
  popup.setGlassEnabled(true);
  popup.addDialogClose(new Command(){
    public void execute(){
      onClose.execute();
      m_editor.clearVie();
    }
  }
);
  popup.setWidth(600);
  final CmsPushButton saveButton=new CmsPushButton();
  saveButton.setText("Save");
  saveButton.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      m_editor.saveEntity(entityId,locale,true,onClose);
      popup.hide();
    }
  }
);
  final CmsPushButton closeButton=new CmsPushButton();
  closeButton.setText("Cancel");
  closeButton.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      onClose.execute();
      m_editor.clearVie();
      popup.hide();
    }
  }
);
  popup.addButton(closeButton);
  popup.addButton(saveButton);
  HTML content=new HTML();
  content.getElement().getStyle().setProperty("maxHeight",popup.getAvailableHeight(0),Unit.PX);
  content.getElement().getStyle().setOverflow(Overflow.AUTO);
  popup.add(content);
  popup.centerHorizontally(50);
  m_editor.renderEntity(entityId,content.getElement(),false);
}
