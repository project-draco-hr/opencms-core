{
  Set<String> baseNames=new HashSet<String>();
  for (  String key : oldProps.keySet()) {
    baseNames.add(getPropertyBaseName(key));
  }
  Map<String,CmsSimplePropertyValue> result=new HashMap<String,CmsSimplePropertyValue>();
  for (  String propName : baseNames) {
    String ownValue=oldProps.get(propName);
    String inheritValue=oldProps.get("#" + propName);
    String starValue=oldProps.get("*" + propName);
    if (starValue != null) {
      result.put(propName,new CmsSimplePropertyValue(starValue,null));
      continue;
    }
    if (inheritValue == null) {
      inheritValue=ownValue;
    }
    CmsSimplePropertyValue property=new CmsSimplePropertyValue(ownValue,inheritValue);
    result.put(propName,property);
  }
  return result;
}
