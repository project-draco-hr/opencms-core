{
  Set<String> baseNames=new HashSet<String>();
  for (  String key : oldProps.keySet()) {
    baseNames.add(getPropertyBaseName(key));
  }
  Map<String,CmsSimplePropertyValue> result=new HashMap<String,CmsSimplePropertyValue>();
  for (  String propName : baseNames) {
    String ownName=oldProps.get(propName);
    String inheritName=oldProps.get("#" + propName);
    if (inheritName == null) {
      inheritName=ownName;
    }
    CmsSimplePropertyValue property=new CmsSimplePropertyValue(ownName,inheritName);
    result.put(propName,property);
  }
  return result;
}
