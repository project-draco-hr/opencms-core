{
  for (  Object propElement : parentElement.elements(CmsXmlContentProperty.XmlNode.Properties.name())) {
    parentElement.remove((Element)propElement);
  }
  for (  Map.Entry<String,String> property : properties.entrySet()) {
    String propName=property.getKey();
    String propValue=property.getValue();
    if (!propertiesConf.containsKey(propName) || (propValue == null)) {
      continue;
    }
    Element propElement=parentElement.addElement(CmsXmlContentProperty.XmlNode.Properties.name());
    propElement.addElement(CmsXmlContentProperty.XmlNode.Name.name()).addCDATA(propName);
    Element valueElement=propElement.addElement(CmsXmlContentProperty.XmlNode.Value.name());
    if (!CmsXmlContentProperty.PropType.isVfsList(propertiesConf.get(propName).getPropertyType())) {
      valueElement.addElement(CmsXmlContentProperty.XmlNode.String.name()).addCDATA(propValue);
    }
 else {
      addFileListPropertyValue(cms,valueElement,propValue);
    }
  }
}
