{
  setImageClass(I_CmsImageBundle.INSTANCE.buttonCss().toolbarUndo());
  setTitle(Messages.get().key(Messages.GUI_TOOLBAR_UNDO_0));
  disable(Messages.get().key(Messages.GUI_DISABLED_UNDO_0));
  addClickHandler(new ClickHandler(){
    /** 
 * @see com.google.gwt.event.dom.client.ClickHandler#onClick(com.google.gwt.event.dom.client.ClickEvent)
 */
    public void onClick(    ClickEvent event){
      setDown(false);
      controller.undo();
    }
  }
);
  controller.addLastUndoHandler(new I_CmsSitemapLastUndoHandler(){
    /** 
 * @see org.opencms.ade.sitemap.client.control.I_CmsSitemapLastUndoHandler#onLastUndo(org.opencms.ade.sitemap.client.control.CmsSitemapLastUndoEvent)
 */
    public void onLastUndo(    CmsSitemapLastUndoEvent event){
      disable(Messages.get().key(Messages.GUI_DISABLED_UNDO_0));
    }
  }
);
  controller.addResetHandler(new I_CmsSitemapResetHandler(){
    /** 
 * @see org.opencms.ade.sitemap.client.control.I_CmsSitemapResetHandler#onReset(org.opencms.ade.sitemap.client.control.CmsSitemapResetEvent)
 */
    public void onReset(    CmsSitemapResetEvent event){
      disable(Messages.get().key(Messages.GUI_DISABLED_UNDO_0));
    }
  }
);
  controller.addStartEdiHandler(new I_CmsSitemapStartEditHandler(){
    /** 
 * @see org.opencms.ade.sitemap.client.control.I_CmsSitemapStartEditHandler#onStartEdit(org.opencms.ade.sitemap.client.control.CmsSitemapStartEditEvent)
 */
    public void onStartEdit(    CmsSitemapStartEditEvent event){
      enable();
    }
  }
);
}
