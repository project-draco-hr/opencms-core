{
  int retValue=-1;
  I_CmsSession session=cms.getRequestContext().getSession(true);
  String filename=(String)session.getValue(C_PARA_FILE);
  if (filename != null) {
    CmsResource file=(CmsResource)cms.readFileHeader(filename);
    I_CmsResourceType type=cms.getResourceType(file.getType());
    Vector propertydef=cms.readAllPropertydefinitions(type.getResourceTypeName());
    Hashtable property=cms.readAllProperties(filename);
    Enumeration enu=propertydef.elements();
    while (enu.hasMoreElements()) {
      CmsPropertydefinition prop=(CmsPropertydefinition)enu.nextElement();
      String propertyvalue=(String)property.get(prop.getName());
      if (propertyvalue == null) {
        names.addElement(prop.getName());
        values.addElement(prop.getName());
      }
    }
  }
  return new Integer(retValue);
}
