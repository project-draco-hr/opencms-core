{
  int retValue=-1;
  I_CmsSession session=CmsXmlTemplateLoader.getSession(cms.getRequestContext(),true);
  String filename=(String)session.getValue(C_PARA_RESOURCE);
  if (filename != null) {
    Map properties=cms.readProperties(filename);
    List propertydef=cms.readAllPropertydefinitions();
    Iterator i=propertydef.iterator();
    while (i.hasNext()) {
      CmsPropertydefinition prop=(CmsPropertydefinition)i.next();
      String propertyvalue=(String)properties.get(prop.getName());
      if (propertyvalue == null) {
        names.addElement(CmsEncoder.escapeXml(prop.getName()));
        values.addElement(CmsEncoder.escapeXml(prop.getName()));
      }
    }
    Collections.sort(names);
    Collections.sort(values);
  }
  return new Integer(retValue);
}
