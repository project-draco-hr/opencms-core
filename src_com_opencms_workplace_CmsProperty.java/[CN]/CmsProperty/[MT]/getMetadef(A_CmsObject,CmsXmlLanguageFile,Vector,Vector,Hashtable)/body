{
  int retValue=-1;
  HttpSession session=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getSession(true);
  String filename=(String)session.getValue(C_PARA_FILE);
  if (filename != null) {
    CmsFile file=(CmsFile)cms.readFileHeader(filename);
    A_CmsResourceType type=cms.getResourceType(file.getType());
    Vector metadef=cms.readAllMetadefinitions(type.getResourceName());
    Hashtable metainfo=cms.readAllMetainformations(filename);
    Enumeration enu=metadef.elements();
    while (enu.hasMoreElements()) {
      CmsMetadefinition meta=(CmsMetadefinition)enu.nextElement();
      String metavalue=(String)metainfo.get(meta.getName());
      if (metavalue == null) {
        names.addElement(meta.getName());
        values.addElement(meta.getName());
      }
    }
  }
  return new Integer(retValue);
}
