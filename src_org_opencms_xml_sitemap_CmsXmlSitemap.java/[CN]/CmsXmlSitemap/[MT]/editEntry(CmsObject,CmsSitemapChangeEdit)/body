{
  Element entryElement=getElement(cms,change.getSitePath());
  if (entryElement == null) {
    throw new CmsSitemapEntryNotFoundException(change.getSitePath(),getFile() == null ? null : cms.getSitePath(getFile()));
  }
  if (change.getTitle() != null) {
    Element titleElement=entryElement.element(XmlNode.Title.name());
    if (!titleElement.getText().equals(change.getTitle())) {
      titleElement.clearContent();
      titleElement.addCDATA(change.getTitle());
    }
  }
  if (change.getVfsPath() != null) {
    Element vfsElement=entryElement.element(XmlNode.VfsFile.name());
    fillResource(cms,vfsElement,change.getVfsPath());
  }
  if (change.getProperties() != null) {
    CmsXmlContentPropertyHelper.saveProperties(cms,entryElement,CmsXmlContentDefinition.getContentHandlerForResource(cms,getFile()).getProperties(),change.getProperties());
  }
  return cms.getRequestContext().addSiteRoot(change.getSitePath());
}
