{
  Element entryElement=getElement(cms,change.getSitePath());
  if (entryElement == null) {
    throw createEntryNotFoundException(cms,change.getSitePath());
  }
  if (change.getTitle() != null) {
    Element titleElement=entryElement.element(XmlNode.Title.name());
    if (!titleElement.getText().equals(change.getTitle())) {
      titleElement.clearContent();
      titleElement.addCDATA(change.getTitle());
    }
  }
  if (change.getVfsPath() != null) {
    Element vfsElement=entryElement.element(XmlNode.VfsFile.name());
    fillResource(cms,vfsElement,change.getVfsPath());
  }
  if (change.getProperties() != null) {
    CmsXmlContentPropertyHelper.saveProperties(cms,entryElement,change.getProperties(),getFile());
  }
  return cms.getRequestContext().addSiteRoot(change.getSitePath());
}
