{
  assertEquals(CmsLocaleManager.getDefaultLocale(),Locale.ENGLISH);
  StringBuffer errors=new StringBuffer();
  I_CmsMessageBundle[] bundles=getTestMessageBundles();
  for (int i=0; i < bundles.length; i++) {
    I_CmsMessageBundle bundle=bundles[i];
    String tmp=bundle.getBundleName();
    tmp=doPreTestBundle(bundle,locale);
    errors.append(tmp);
    if (CmsStringUtil.isEmpty(tmp)) {
      if (!getExcludedLocalizedBundles(locale).contains(bundle)) {
        errors.append(doTestBundle(bundle,locale));
      }
    }
  }
  if (errors.length() > 0) {
    fail("\n" + errors);
  }
}
