{
  System.out.println("XXX");
  System.out.println(new Exception().getStackTrace()[0].toString());
  List elements=new ArrayList();
  elements.add("CMS_CONTENTS");
  elements.add("CMS_GROUPS");
  elements.add("CMS_GROUPUSERS");
  elements.add("CMS_OFFLINE_ACCESSCONTROL");
  elements.add("CMS_OFFLINE_CONTENTS");
  elements.add("CMS_OFFLINE_PROPERTIES");
  elements.add("CMS_OFFLINE_PROPERTYDEF");
  elements.add("CMS_OFFLINE_RESOURCES");
  elements.add("CMS_OFFLINE_STRUCTURE");
  elements.add("CMS_ONLINE_ACCESSCONTROL");
  elements.add("CMS_ONLINE_PROPERTIES");
  elements.add("CMS_ONLINE_PROPERTYDEF");
  elements.add("CMS_ONLINE_RESOURCES");
  elements.add("CMS_ONLINE_STRUCTURE");
  elements.add("CMS_PROJECTRESOURCES");
  elements.add("CMS_PROJECTS");
  elements.add("CMS_PUBLISH_HISTORY");
  elements.add("CMS_STATICEXPORT_LINKS");
  elements.add("CMS_USERS");
  for (Iterator it=elements.iterator(); it.hasNext(); ) {
    String tablename=(String)it.next();
    System.out.println("Table: " + tablename);
    if (dbCon.hasTableOrColumn(tablename,null)) {
      try {
        List constraints=getConstraintsTopDrop(dbCon,tablename.toLowerCase());
        Iterator iter=constraints.iterator();
        System.out.println("Drop constraint for table " + tablename + " is :"+ constraints);
        while (iter.hasNext()) {
          String constraint=(String)iter.next();
          String dropConstraint=readQuery(QUERY_DROP_CONSTRAINT);
          HashMap replacer=new HashMap();
          replacer.put(REPLACEMENT_TABLENAME,tablename);
          replacer.put(REPLACEMENT_INDEXNAME,constraint);
          dbCon.updateSqlStatement(dropConstraint,replacer,null);
        }
      }
 catch (      SQLException e) {
        e.printStackTrace();
      }
      try {
        List indexes=getIndexesToDrop(dbCon,tablename);
        Iterator iter=indexes.iterator();
        while (iter.hasNext()) {
          String index=(String)iter.next();
          String dropIndex=readQuery(QUERY_DROP_INDEX);
          HashMap replacerIndex=new HashMap();
          replacerIndex.put(REPLACEMENT_INDEXNAME,index);
          dbCon.updateSqlStatement(dropIndex,replacerIndex,null);
        }
      }
 catch (      SQLException e) {
        e.printStackTrace();
      }
    }
 else {
      System.out.println("Table " + tablename + "does not exist.");
    }
  }
  createNewIndexes(dbCon);
}
