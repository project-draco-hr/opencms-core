{
  CmsHtmlConverter converter=new CmsHtmlConverter();
  String retValue=null;
  if (path == null || "".equals(path)) {
    path="/";
  }
  try {
    if (converter.hasErrors(content)) {
      String errors=converter.showErrors(content);
      throw new CmsException(errors);
    }
    converter.setConverterConfString(m_converterConfiguration);
    String servletPrefix=cms.getRequestContext().getRequest().getServletUrl();
    String prot=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getScheme();
    String host=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getServerName();
    int port=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getServerPort();
    URL urltool=new URL(prot,host,port,servletPrefix + path);
    converter.setServletPrefix(servletPrefix,relativeRoot);
    converter.setOriginalUrl(urltool);
    retValue=converter.convertHTML(content);
  }
 catch (  Exception e) {
    throw new CmsException("[" + this.getClass().getName() + "] can't convert the editor content:"+ e.toString());
  }
  return retValue;
}
