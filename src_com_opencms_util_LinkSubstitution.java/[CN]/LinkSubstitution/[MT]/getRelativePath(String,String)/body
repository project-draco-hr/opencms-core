{
  java.util.StringTokenizer cur=new java.util.StringTokenizer(baseFile,"/");
  java.util.StringTokenizer tar=new java.util.StringTokenizer(linkTarget,"/");
  int maxAllowed=cur.countTokens();
  if (maxAllowed > tar.countTokens()) {
    maxAllowed=tar.countTokens();
  }
  String currentToken=cur.nextToken();
  String targetToken=tar.nextToken();
  int counter=1;
  while (currentToken.equals(targetToken) && counter < maxAllowed) {
    currentToken=cur.nextToken();
    targetToken=tar.nextToken();
    counter++;
  }
  StringBuffer result=new StringBuffer();
  counter=cur.countTokens();
  for (int i=0; i < counter; i++) {
    result.append("../");
  }
  result.append(targetToken);
  while (tar.hasMoreTokens()) {
    result.append("/" + tar.nextToken());
  }
  return result.toString();
}
