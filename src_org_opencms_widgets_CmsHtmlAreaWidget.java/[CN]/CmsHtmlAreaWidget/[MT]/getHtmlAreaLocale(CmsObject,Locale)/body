{
  if (!cms.existsResource(HTMLAREA_LOCALES_VFS + wantedLocale.toString() + ".js")) {
    boolean foundLocale=false;
    Iterator i=OpenCms.getLocaleManager().getDefaultLocales().iterator();
    while (i.hasNext()) {
      wantedLocale=(Locale)i.next();
      if (cms.existsResource(HTMLAREA_LOCALES_VFS + wantedLocale.toString() + ".js")) {
        foundLocale=true;
        break;
      }
    }
    if (!foundLocale) {
      wantedLocale=Locale.ENGLISH;
    }
  }
  return wantedLocale;
}
