{
  String launcherPackage=getLauncherPackage();
  String launcherName=new String();
  Class launcherClass=null;
  I_CmsLauncher launcherInstance=null;
  Integer launcherId=null;
  Hashtable knownLaunchers=getKnownLaunchers(cms);
  launchers=new Hashtable();
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,"[CmsLauncherManager] launcher package is:" + launcherPackage);
  }
  for (int i=1; i <= knownLaunchers.size(); i++) {
    try {
      launcherName=(String)knownLaunchers.get(I_CmsConstants.C_REGISTRY_LAUNCHER + i);
      launcherClass=Class.forName(launcherName);
      launcherInstance=(I_CmsLauncher)launcherClass.newInstance();
      launcherInstance.setOpenCms(cms);
    }
 catch (    Throwable e) {
      if (e instanceof ClassNotFoundException) {
        if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
          A_OpenCms.log(C_OPENCMS_INIT,"[CmsLauncherManager] OpenCms launcher \"" + launcherName + "\" not found. Ignoring.");
        }
        continue;
      }
 else {
        if (e instanceof ClassCastException) {
          String errorMessage="Loaded launcher class \"" + launcherName + "\" is no OpenCms launcher (does not implement I_CmsLauncher). Ignoring";
          if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
            A_OpenCms.log(C_OPENCMS_INIT,"[CmsLauncherManager] " + errorMessage);
          }
          continue;
        }
 else {
          String errorMessage="Unknown error while initializing launcher \"" + launcherName + "\". Ignoring.";
          if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
            A_OpenCms.log(C_OPENCMS_INIT,"[CmsLauncherManager] " + errorMessage);
            A_OpenCms.log(C_OPENCMS_INIT,"[CmsLauncherManager] " + e);
          }
          continue;
        }
      }
    }
    launcherId=new Integer(launcherInstance.getLauncherId());
    if (launchers.containsKey(launcherId)) {
      String errorMessage="Duplicate launcher ID " + launcherId + " in launcher \""+ launcherName+ "\".";
      if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
        A_OpenCms.log(C_OPENCMS_INIT,"[CmsLauncherManager] " + errorMessage);
      }
      throw new CmsException(errorMessage,CmsException.C_LAUNCH_ERROR);
    }
    launchers.put(launcherId,launcherInstance);
    if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_INIT,"[CmsLauncherManager] OpenCms launcher \"" + launcherName + "\" with launcher ID "+ launcherId+ " loaded successfully.");
    }
  }
}
