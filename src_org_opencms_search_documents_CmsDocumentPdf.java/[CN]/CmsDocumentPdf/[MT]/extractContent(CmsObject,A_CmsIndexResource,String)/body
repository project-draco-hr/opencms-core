{
  CmsResource resource=(CmsResource)indexResource.getData();
  CmsFile file=readFile(cms,resource);
  try {
    return CmsExtractorPdf.getExtractor().extractText(file.getContents());
  }
 catch (  Exception e) {
    if (e instanceof CryptographyException) {
      throw new CmsIndexException("Decrypting resource " + resource.getRootPath() + " failed.",e);
    }
    if (e instanceof InvalidPasswordException) {
      throw new CmsIndexException("Resource " + resource.getRootPath() + " is password protected.",e);
    }
    throw new CmsIndexException("Extracting text from resource " + resource.getRootPath() + " failed: "+ e.getMessage(),e);
  }
}
