{
  if (editorMode != m_editorMode) {
    m_editorMode=editorMode;
switch (m_editorMode) {
case galleries:
      m_tree.getElement().getStyle().setDisplay(Display.NONE);
    setGalleriesVisible(true);
  setModelPagesVisible(false);
getController().loadGalleries();
break;
case navigation:
m_tree.getElement().getStyle().clearDisplay();
setGalleriesVisible(false);
setModelPagesVisible(false);
m_toolbar.setNewEnabled(true,null);
m_inNavigationStyle.setValue(I_CmsSitemapLayoutBundle.INSTANCE.sitemapItemCss().navMode());
break;
case vfs:
m_tree.getElement().getStyle().clearDisplay();
setGalleriesVisible(false);
m_toolbar.setNewEnabled(false,Messages.get().key(Messages.GUI_TOOLBAR_NEW_DISABLE_0));
m_inNavigationStyle.setValue(I_CmsSitemapLayoutBundle.INSTANCE.sitemapItemCss().vfsMode());
setModelPagesVisible(false);
break;
case modelpages:
m_tree.getElement().getStyle().setDisplay(Display.NONE);
setGalleriesVisible(false);
setModelPagesVisible(true);
getController().loadModelPages();
break;
default :
}
if (m_tree.getWidgetCount() > 0) {
getRootItem().updateEditorMode();
}
m_toolbar.setGalleriesMode(isGalleryMode());
}
}
