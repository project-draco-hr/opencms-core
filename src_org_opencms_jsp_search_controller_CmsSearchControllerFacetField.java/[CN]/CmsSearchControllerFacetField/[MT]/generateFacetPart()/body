{
  final StringBuffer query=new StringBuffer();
  query.append("&facet.field=");
  if (!m_state.getCheckedEntries().isEmpty()) {
    query.append("{!ex=").append(m_config.getField()).append('}');
  }
  query.append(m_config.getField());
  query.append(generateCommonQueryParts(m_config.getField(),m_state.getUseLimit()));
  return query;
}
