{
  try {
    String available=m_driverManager.readProperty(this,addSiteRoot(m_req.getRequestedResource()),getAdjustedSiteRoot(m_req.getRequestedResource()),I_CmsConstants.C_PROPERTY_AVAILABLE_LOCALES,true);
    String defaults=m_driverManager.readProperty(this,addSiteRoot(m_req.getRequestedResource()),getAdjustedSiteRoot(m_req.getRequestedResource()),I_CmsConstants.C_PROPERTY_LOCALE,true);
    m_localeName=OpenCms.getLocaleManager().getLocaleHandler().getLocaleName(this,null,OpenCms.getLocaleManager().getLocaleNames(available),OpenCms.getLocaleManager().getLocaleNames(defaults));
  }
 catch (  CmsException exc) {
    m_localeName=null;
  }
  if (m_localeName == null || "".equals(m_localeName)) {
    m_localeName=OpenCms.getLocaleManager().getDefaultLocaleName();
    if (OpenCms.getLog(this).isDebugEnabled()) {
      OpenCms.getLog(this).debug("No locale name found - using default: " + m_localeName);
    }
  }
  m_locale=OpenCms.getLocaleManager().getLocale(m_localeName);
}
