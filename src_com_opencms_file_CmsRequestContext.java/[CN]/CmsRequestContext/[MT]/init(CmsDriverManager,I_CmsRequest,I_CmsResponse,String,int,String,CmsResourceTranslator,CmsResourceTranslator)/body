{
  m_driverManager=driverManager;
  m_req=req;
  m_resp=resp;
  setSiteRoot(site);
  try {
    m_user=m_driverManager.readUser(user);
  }
 catch (  CmsException ex) {
  }
  if (m_user == null) {
    m_user=m_driverManager.readWebUser(user);
  }
  if (m_user.getDisabled()) {
    m_user=null;
  }
  try {
    setCurrentProject(projectId);
  }
 catch (  CmsException exc) {
    setCurrentProject(I_CmsConstants.C_PROJECT_ONLINE_ID);
  }
  m_directoryTranslator=directoryTranslator;
  m_fileTranslator=fileTranslator;
  if (req != null) {
    initLocale();
    initEncoding();
  }
}
