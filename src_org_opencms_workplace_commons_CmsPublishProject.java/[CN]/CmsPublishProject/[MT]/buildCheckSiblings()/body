{
  CmsResource res=null;
  if (!isMultiOperation()) {
    try {
      res=getCms().readResource(getParamResource(),CmsResourceFilter.ALL);
    }
 catch (    CmsException e) {
      if (LOG.isInfoEnabled()) {
        LOG.info(e.getLocalizedMessage());
      }
    }
  }
  StringBuffer result=new StringBuffer(128);
  boolean showSiblingCheckBox=false;
  if (isMultiOperation() || (res != null && res.isFile() && res.getSiblingCount() > 1) || (res != null && res.isFolder())) {
    result.append(dialogSpacer());
    result.append("<input type=\"checkbox\" name=\"");
    result.append(PARAM_PUBLISHSIBLINGS);
    result.append("\" value=\"true\"");
    if (getSettings().getUserSettings().getDialogPublishSiblings()) {
      result.append(" checked=\"checked\"");
    }
    result.append(">&nbsp;");
    result.append(key(Messages.GUI_PUBLISH_ALLSIBLINGS_0));
    showSiblingCheckBox=true;
  }
  if (isOperationOnFolder()) {
    if (showSiblingCheckBox) {
      result.append("<br>");
    }
    result.append("<input type=\"checkbox\" name=\"");
    result.append(PARAM_SUBRESOURCES);
    result.append("\" value=\"true\" checked=\"checked\">&nbsp;");
    if (isMultiOperation()) {
      result.append(key(Messages.GUI_PUBLISH_MULTI_SUBRESOURCES_0));
    }
 else {
      result.append(key(Messages.GUI_PUBLISH_SUBRESOURCES_0));
    }
  }
  return result.toString();
}
