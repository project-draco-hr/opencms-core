{
  Node helpfilename=null;
  String helpname=null;
  String messageTitle=n.getAttribute(C_MESSAGE_TITLE);
  String messageMessage1=n.getAttribute(C_MESSAGE_MESSAGE1);
  String messageMessage2=n.getAttribute(C_MESSAGE_MESSAGE2);
  String messageButton1=n.getAttribute(C_MESSAGE_BUTTON1);
  String messageButton2=n.getAttribute(C_MESSAGE_BUTTON2);
  String messageLink1=n.getAttribute(C_MESSAGE_LINK1);
  String messageLink2=n.getAttribute(C_MESSAGE_LINK2);
  if ("explorer_files.html".equals(messageLink1)) {
    messageLink1=CmsWorkplaceAction.getExplorerFileUri(cms);
  }
  if ("explorer_files.html".equals(messageLink2)) {
    messageLink2=CmsWorkplaceAction.getExplorerFileUri(cms);
  }
  if (n.hasChildNodes()) {
    helpfilename=n.getFirstChild();
    helpname=helpfilename.getNodeValue();
  }
  CmsXmlWpBoxDefFile boxdef=getBoxDefinitions(cms);
  messageTitle=lang.getLanguageValue(messageTitle);
  if (helpfilename != null) {
    messageTitle=messageTitle + ": " + helpname;
  }
  messageMessage1=lang.getLanguageValue(messageMessage1);
  messageMessage2=lang.getLanguageValue(messageMessage2);
  messageButton1=lang.getLanguageValue(messageButton1);
  messageButton2=lang.getLanguageValue(messageButton2);
  String result=boxdef.getMessagebox(messageTitle,messageMessage1,messageMessage2,messageButton1,messageButton2,messageLink1,messageLink2);
  return result;
}
