{
  CmsObject cms=getCmsObject();
  CmsFile file=cms.readFile("/xmlcontent/article_0002.html");
  CmsXmlContent content=CmsXmlContentFactory.unmarshal(cms,file);
  CmsJspContentAccessBean bean=new CmsJspContentAccessBean(cms,Locale.ENGLISH,content);
  assertSame(file,bean.getFile());
  Map hasValue=bean.getHasValue();
  assertSame(Boolean.TRUE,hasValue.get("Title"));
  assertSame(Boolean.FALSE,hasValue.get("IdontExistHere"));
  Map hasLocale=bean.getHasLocale();
  assertSame(Boolean.TRUE,hasLocale.get("en"));
  assertSame(Boolean.TRUE,hasLocale.get("de"));
  assertSame(Boolean.FALSE,hasLocale.get("fr"));
  Map enValue=bean.getValue();
  assertEquals("This is the article 2 sample",String.valueOf(enValue.get("Title")));
  Map localeValue=bean.getLocaleValue();
  Map deValue=(Map)localeValue.get("de");
  assertEquals("Das ist Artikel 2",String.valueOf(deValue.get("Title")));
  enValue=(Map)localeValue.get("en");
  assertEquals("This is the article 2 sample",String.valueOf(enValue.get("Title")));
  Map frValue=(Map)localeValue.get("fr");
  assertFalse(((CmsJspContentAccessValueWrapper)frValue.get("Title")).getExists());
  Map enValues=bean.getValueList();
  assertEquals(2,((List)enValues.get("Teaser")).size());
  assertEquals("This is teaser 2 in sample article 2.",String.valueOf(((List)enValues.get("Teaser")).get(1)));
  Map localeValues=bean.getLocaleValueList();
  Map deValues=(Map)localeValues.get("de");
  assertEquals(3,((List)deValues.get("Teaser")).size());
  assertEquals("Das ist der Teaser 3 im zweiten Beispielartikel.",String.valueOf(((List)deValues.get("Teaser")).get(2)));
  enValues=(Map)localeValues.get("en");
  assertEquals(2,((List)enValues.get("Teaser")).size());
  assertEquals("This is teaser 2 in sample article 2.",String.valueOf(((List)enValues.get("Teaser")).get(1)));
  Map frValues=(Map)localeValues.get("fr");
  assertEquals(0,((List)frValues.get("Title")).size());
  CmsJspContentAccessValueWrapper val=(CmsJspContentAccessValueWrapper)enValue.get("i/do/no/exists");
  assertFalse(val.getExists());
  assertTrue(val.getIsEmpty());
  assertTrue(val.getIsEmptyOrWhitespaceOnly());
  assertEquals("",val.toString());
  assertEquals("",val.getPath());
  assertEquals(0,val.getValueList().size());
  assertEquals(0,val.getHasValue().size());
  assertEquals(0,val.getValue().size());
}
