{
  if (cms.getRequestContext().getRequest() instanceof com.opencms.core.CmsExportRequest) {
    if (DEBUG > 1)     System.err.println("FlexJspLoader: Export requested for " + file.getAbsolutePath());
    com.opencms.launcher.I_CmsLauncher dumpLauncher=cms.getLauncherManager().getLauncher(com.opencms.launcher.I_CmsLauncher.C_TYPE_DUMP);
    dumpLauncher.initlaunch(cms,file,startTemplateClass,openCms);
  }
 else {
    HttpServletRequest req=(HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest();
    HttpServletResponse res=(HttpServletResponse)cms.getRequestContext().getResponse().getOriginalResponse();
    try {
      load(cms,file,req,res);
    }
 catch (    Exception e) {
      throw new CmsException("Error in Flex loader",CmsException.C_FLEX_LOADER,e,true);
    }
  }
}
