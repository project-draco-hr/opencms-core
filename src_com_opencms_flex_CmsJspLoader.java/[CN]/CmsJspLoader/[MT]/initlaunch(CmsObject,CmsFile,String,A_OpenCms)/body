{
  HttpServletRequest req;
  HttpServletResponse res;
  CmsRequestContext context=cms.getRequestContext();
  if (context.getRequest() instanceof com.opencms.core.CmsExportRequest) {
    if (DEBUG > 1)     System.err.println("FlexJspLoader: Export requested for " + file.getAbsolutePath());
    com.opencms.launcher.I_CmsLauncher dumpLauncher=cms.getLauncherManager().getLauncher(com.opencms.launcher.I_CmsLauncher.C_TYPE_DUMP);
    dumpLauncher.initlaunch(cms,file,startTemplateClass,openCms);
    return;
  }
 else {
    req=(HttpServletRequest)context.getRequest().getOriginalRequest();
    res=(HttpServletResponse)context.getResponse().getOriginalResponse();
  }
  try {
    load(cms,file,req,res);
  }
 catch (  Exception e) {
    if (DEBUG > 1)     System.err.println("Error in Flex loader: " + e + Utils.getStackTrace(e));
    throw new CmsException("Error in Flex loader",CmsException.C_FLEX_LOADER,e,true);
  }
}
