{
  boolean includedFile=false;
  String statement="";
  try {
    LineNumberReader reader=new LineNumberReader(new FileReader(file));
    String line=null;
    while (true) {
      line=reader.readLine();
      if (line == null) {
        break;
      }
      StringTokenizer st=new StringTokenizer(line);
      while (st.hasMoreTokens()) {
        String currentToken=st.nextToken();
        if (currentToken.startsWith("#")) {
          break;
        }
        if (currentToken.startsWith("prompt")) {
          break;
        }
        if (currentToken.startsWith("@")) {
          currentToken=currentToken.substring(1);
          includedFile=true;
        }
        statement+=" " + currentToken;
        if (currentToken.endsWith(";")) {
          statement=statement.substring(0,(statement.length() - 1));
          if (includedFile) {
            if (replacers != null) {
              ExecuteStatement(replaceValues(getIncludedFile(statement),replacers));
            }
 else {
              ExecuteStatement(getIncludedFile(statement));
            }
            includedFile=false;
          }
 else {
            if (replacers != null) {
              ExecuteStatement(replaceValues(statement,replacers));
            }
 else {
              ExecuteStatement(statement);
            }
          }
          statement="";
        }
      }
      statement+=" \n";
    }
    reader.close();
  }
 catch (  Exception e) {
    if (m_errorLogging) {
      m_errors.addElement("error: " + e.toString() + "\nin statement:\n"+ statement);
    }
  }
}
