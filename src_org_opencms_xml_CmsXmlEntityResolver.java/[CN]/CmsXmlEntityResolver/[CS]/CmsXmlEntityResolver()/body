{
  LRUMap lruMap=new LRUMap(128);
  m_cacheTemporary=Collections.synchronizedMap(lruMap);
  HashMap hashMap=new HashMap(32);
  m_cachePermanent=Collections.synchronizedMap(hashMap);
  if (OpenCms.getRunLevel() > 1) {
    m_cms=OpenCms.initCmsObject(OpenCms.getDefaultUsers().getUserGuest());
    if ((OpenCms.getMemoryMonitor() != null) && OpenCms.getMemoryMonitor().enabled()) {
      OpenCms.getMemoryMonitor().register(this.getClass().getName() + "." + "m_cacheTemporary",lruMap);
      OpenCms.getMemoryMonitor().register(this.getClass().getName() + "." + "m_cachePermanent",hashMap);
    }
    OpenCms.addCmsEventListener(this,new int[]{I_CmsEventListener.EVENT_CLEAR_CACHES,I_CmsEventListener.EVENT_PUBLISH_PROJECT});
  }
}
