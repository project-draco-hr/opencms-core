{
  if (m_cacheTemporary == null) {
    LRUMap lruMap=new LRUMap(128);
    m_cacheTemporary=Collections.synchronizedMap(lruMap);
    HashMap hashMap=new HashMap(32);
    m_cachePermanent=Collections.synchronizedMap(hashMap);
    if (OpenCms.getRunLevel() > 1) {
      if ((OpenCms.getMemoryMonitor() != null) && OpenCms.getMemoryMonitor().enabled()) {
        OpenCms.getMemoryMonitor().register(CmsXmlEntityResolver.class.getName() + "." + "m_cacheTemporary",lruMap);
        OpenCms.getMemoryMonitor().register(CmsXmlEntityResolver.class.getName() + "." + "m_cachePermanent",hashMap);
      }
    }
  }
}
