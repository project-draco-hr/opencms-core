{
  m_modified=new CmsList<CmsListItem>();
  for (  CmsClientSitemapEntry entry : controller.getData().getClipboardData().getModifications()) {
    m_modified.addItem(createModifiedItem(entry));
  }
  m_deleted=new CmsList<CmsListItem>();
  m_deleted.setDnDManager(CmsSitemapView.getInstance().getTree().getDnDManager());
  m_deleted.setDnDEnabled(true);
  m_deleted.setDropEnabled(false);
  for (  CmsClientSitemapEntry entry : controller.getData().getClipboardData().getDeletions()) {
    m_deleted.addItem(createDeletedItem(entry));
  }
  m_clipboardButton=clipboardButton;
  controller.addChangeHandler(new I_CmsSitemapChangeHandler(){
    /** 
 * @see org.opencms.ade.sitemap.client.control.I_CmsSitemapChangeHandler#onChange(org.opencms.ade.sitemap.client.control.CmsSitemapChangeEvent)
 */
    public void onChange(    CmsSitemapChangeEvent changeEvent){
      changeEvent.getChange().applyToClipboardView(CmsToolbarClipboardView.this);
    }
  }
);
  m_deleted.getDnDManager().addDropHandler(new I_CmsDropHandler(){
    /** 
 * @see org.opencms.gwt.client.ui.dnd.I_CmsDropHandler#onDrop(org.opencms.gwt.client.ui.dnd.CmsDropEvent)
 */
    public void onDrop(    CmsDropEvent dropEvent){
      if (!(dropEvent.getDraggable() instanceof CmsClipboardDeletedItem)) {
        return;
      }
      CmsClientSitemapEntry entry=((CmsClipboardDeletedItem)dropEvent.getDraggable()).getEntry();
      entry.updateSitePath(dropEvent.getPosition().getInfo() + entry.getName() + "/");
      entry.setPosition(dropEvent.getPosition().getPosition());
      CmsSitemapView.getInstance().getController().create(entry);
    }
  }
);
}
