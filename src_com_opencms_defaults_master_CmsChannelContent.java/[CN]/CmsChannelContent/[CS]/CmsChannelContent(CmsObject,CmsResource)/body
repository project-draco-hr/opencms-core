{
  String channelId=C_UNKNOWN_ID + "";
  m_cms=cms;
  m_channel=resource;
  m_channelname=resource.getName();
  m_parentchannel=resource.getParent();
  m_groupid=resource.getGroupId();
  m_userid=resource.getOwnerId();
  m_accessflags=resource.getAccessFlags();
  try {
    m_properties=cms.readPropertiesMap(resource.getAbsolutePath());
    channelId=(String)m_properties.get(I_CmsConstants.C_PROPERTY_CHANNELID);
  }
 catch (  CmsException exc) {
    m_properties=new Hashtable();
    m_properties.put(I_CmsConstants.C_PROPERTY_CHANNELID,C_UNKNOWN_ID + "");
  }
 finally {
    if (channelId == null || "".equals(channelId)) {
      channelId=C_UNKNOWN_ID + "";
    }
    m_channelId=channelId;
  }
}
