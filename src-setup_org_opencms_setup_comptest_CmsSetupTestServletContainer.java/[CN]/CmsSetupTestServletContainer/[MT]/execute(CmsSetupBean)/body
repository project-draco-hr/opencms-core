{
  CmsSetupTestResult testResult=new CmsSetupTestResult(this);
  String[] supportedContainers={"Apache Tomcat/4","Apache Tomcat/5","WebLogic Server 9","Resin/3"};
  String[] unsupportedContainers={"Tomcat Web Server/3","Resin/2"};
  String[] unsupportedServletContainerInfo={"Tomcat 3.x is no longer supported. Please use Tomcat 4.x instead.","The OpenCms JSP integration does not work with Resin 2.x. Please use Resin 3.x instead."};
  ServletConfig config=setupBean.getServletConfig();
  String servletContainer=config.getServletContext().getServerInfo();
  boolean supportedServletContainer=hasSupportedServletContainer(servletContainer,supportedContainers);
  int unsupportedServletContainer=unsupportedServletContainer(servletContainer,unsupportedContainers);
  testResult.setResult(servletContainer);
  if (unsupportedServletContainer > -1) {
    testResult.setRed();
    testResult.setInfo(unsupportedServletContainerInfo[unsupportedServletContainer]);
    testResult.setHelp("This servlet container does not work with OpenCms. Even though OpenCms is fully standards compliant, " + "the standard leaves some 'grey' (i.e. undefined) areas. " + "Please consider using another, supported servlet container.");
  }
 else   if (!supportedServletContainer) {
    testResult.setYellow();
    testResult.setHelp("This servlet container has not been tested with OpenCms. Please consider using another, supported servlet container.");
  }
 else {
    testResult.setGreen();
  }
  return testResult;
}
