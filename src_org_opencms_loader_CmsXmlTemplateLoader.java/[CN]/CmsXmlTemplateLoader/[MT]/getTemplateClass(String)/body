{
  if (OpenCms.isLogging(CmsLog.C_OPENCMS_DEBUG,CmsLog.LEVEL_WARN)) {
    OpenCms.log(CmsLog.C_OPENCMS_DEBUG,CmsLog.LEVEL_WARN,getClassName() + "Getting start template class " + classname+ ". ");
  }
  Object o=CmsTemplateClassManager.getClassInstance(classname);
  if (!(o instanceof I_CmsTemplate)) {
    String errorMessage="Class " + classname + " is no OpenCms template class.";
    if (OpenCms.isLogging(CmsLog.C_OPENCMS_CRITICAL,CmsLog.LEVEL_WARN)) {
      OpenCms.log(CmsLog.C_OPENCMS_CRITICAL,CmsLog.LEVEL_WARN,"[CmsTemplateClassManager] " + errorMessage);
    }
    throw new CmsException(errorMessage,CmsException.C_XML_NO_TEMPLATE_CLASS);
  }
  I_CmsTemplate cmsTemplate=(I_CmsTemplate)o;
  if (!cmsTemplate.isTemplateCacheSet()) {
    cmsTemplate.setTemplateCache(m_templateCache);
  }
  return cmsTemplate;
}
