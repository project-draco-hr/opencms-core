{
  System.out.print("Importing ");
  System.out.print(destination + " ");
  boolean success=true;
  String fullname=null;
  try {
    String path=m_importPath + destination.substring(0,destination.lastIndexOf("/") + 1);
    String name=destination.substring((destination.lastIndexOf("/") + 1),destination.length());
    m_cms.setContextToCos();
    CmsResource res=null;
    try {
      res=m_cms.readFolder("/" + destination + "/");
    }
 catch (    CmsException e) {
    }
    if (res == null) {
      int newChannelId=com.opencms.dbpool.CmsIdGenerator.nextId(this.C_TABLE_CHANNELID);
      properties.put(I_CmsConstants.C_PROPERTY_CHANNELID,newChannelId + "");
      res=m_cms.importResource("",destination,type,user,group,access,properties,"",null,m_importPath);
    }
    m_cms.setContextToVfs();
    if (res != null) {
      fullname=res.getAbsolutePath();
    }
    System.out.println("OK");
  }
 catch (  Exception exc) {
    success=false;
    System.out.println("Error: " + exc.toString());
  }
 finally {
    m_cms.setContextToVfs();
  }
  byte[] digestContent={0};
  if (success && (fullname != null)) {
    if (writtenFilenames != null) {
      writtenFilenames.addElement(fullname);
    }
    if (fileCodes != null) {
      fileCodes.addElement(new String(digestContent));
    }
  }
}
