{
  Document document=new Document();
  CmsResource res=(CmsResource)resource.getData();
  String path=cms.getRequestContext().removeSiteRoot(resource.getRootPath());
  String value;
  if ((value=cms.readPropertyObject(path,I_CmsConstants.C_PROPERTY_TITLE,false).getValue()) != null) {
    document.add(Field.Text(I_CmsDocumentFactory.DOC_TITLE,value));
  }
  if ((value=cms.readPropertyObject(path,I_CmsConstants.C_PROPERTY_KEYWORDS,false).getValue()) != null) {
    document.add(Field.Text(I_CmsDocumentFactory.DOC_KEYWORDS,value));
  }
  if ((value=cms.readPropertyObject(path,I_CmsConstants.C_PROPERTY_DESCRIPTION,false).getValue()) != null) {
    document.add(Field.Text(I_CmsDocumentFactory.DOC_DESCRIPTION,value));
  }
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_DATE_CREATED,DateField.timeToString(res.getDateCreated())));
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_DATE_LASTMODIFIED,DateField.timeToString(res.getDateLastModified())));
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_PATH,resource.getRootPath()));
  String rootPath=resource.getRootPath();
  rootPath=rootPath.replace('/',' ').trim();
  rootPath=CmsSearchIndex.C_ROOT_PATH_TOKEN + " " + rootPath;
  document.add(Field.Text(I_CmsDocumentFactory.DOC_ROOT,rootPath));
  document.add(Field.Keyword(I_CmsDocumentFactory.DOC_SOURCE,resource.getSource()));
  return document;
}
