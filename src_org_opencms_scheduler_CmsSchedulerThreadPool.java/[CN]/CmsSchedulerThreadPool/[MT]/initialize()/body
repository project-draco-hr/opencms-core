{
  if (m_maxThreadCount <= 0 || m_maxThreadCount > 200) {
    throw new SchedulerConfigException("Maximum thread count for scheduler must be > 0 and <= 200");
  }
  if (m_initialThreadCount < 0 || m_initialThreadCount > m_maxThreadCount) {
    throw new SchedulerConfigException("Initial thread count for scheduler must be > -1 and <= configured maximum");
  }
  if (m_threadPriority <= 0 || m_threadPriority > 9) {
    throw new SchedulerConfigException("Scheduler thread priority must be > 0 and <= 9");
  }
  if (m_inheritGroup) {
    m_threadGroup=Thread.currentThread().getThreadGroup();
  }
 else {
    m_threadGroup=Thread.currentThread().getThreadGroup();
    ThreadGroup parent=m_threadGroup;
    while (!parent.getName().equals("main")) {
      m_threadGroup=parent;
      parent=m_threadGroup.getParent();
    }
    m_threadGroup=new ThreadGroup(parent,this.getClass().getName());
  }
  if (m_inheritLoader) {
    OpenCms.getLog(this).debug("Job execution threads will use class loader of thread: " + Thread.currentThread().getName());
  }
  m_workers=new CmsSchedulerThread[m_maxThreadCount];
  for (int i=0; i < m_initialThreadCount; ++i) {
    growThreadPool();
  }
}
