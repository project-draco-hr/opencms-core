{
  File syncListFile;
  syncListFile=new File(m_synchronizePath,C_SYNCLIST_FILENAME);
  FileOutputStream fOut=null;
  PrintWriter pOut=null;
  try {
    fOut=new FileOutputStream(syncListFile);
    pOut=new PrintWriter(fOut);
    pOut.println(CmsSynchronizeList.getFormatDescription());
    Iterator values=m_newSyncList.values().iterator();
    while (values.hasNext()) {
      CmsSynchronizeList sync=(CmsSynchronizeList)values.next();
      pOut.println(sync.toString());
    }
  }
 catch (  IOException e) {
    throw new CmsException(e.getMessage());
  }
 finally {
    m_cms.getRegistry().setSystemValue("syncrun","true");
    try {
      pOut.flush();
      fOut.flush();
      if (pOut != null) {
        pOut.close();
      }
      if (fOut != null) {
        fOut.close();
      }
    }
 catch (    IOException e) {
    }
  }
}
