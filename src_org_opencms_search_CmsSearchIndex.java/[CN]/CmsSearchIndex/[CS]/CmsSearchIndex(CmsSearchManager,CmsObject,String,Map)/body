{
  m_cms=cms;
  m_indexManager=indexManager;
  if (OpenCms.getLog(this).isDebugEnabled()) {
    OpenCms.getLog(this).debug("[" + this.getClass().getName() + "] "+ "Initializing");
  }
  if ((m_name=(String)configuration.get("name")) == null) {
    throw new CmsIndexException("[" + this.getClass().getName() + "] "+ "Name undefined");
  }
  if ((m_project=(String)configuration.get("project")) == null) {
    throw new CmsIndexException("[" + this.getClass().getName() + "] "+ "Project undefined");
  }
  if ((m_site=(String)configuration.get("site")) == null) {
    throw new CmsIndexException("[" + this.getClass().getName() + "] "+ "Site undefined");
  }
  m_sources=null;
  try {
    m_sources=(List)configuration.get("source");
  }
 catch (  ClassCastException exc) {
    m_sources=Arrays.asList(new String[]{(String)configuration.get("source")});
  }
  if (m_sources == null) {
    throw new CmsIndexException("[" + this.getClass().getName() + "] "+ "No source defined");
  }
  m_documenttypes=null;
  try {
    m_documenttypes=new HashSet((List)configuration.get("documenttype"));
  }
 catch (  ClassCastException exc) {
    m_documenttypes=new HashSet(Arrays.asList(new String[]{(String)configuration.get("documenttype")}));
  }
  if ((m_rebuild=(String)configuration.get("rebuild")) == null) {
    m_rebuild=C_DEFAULT_REBUILD;
  }
  if ((m_language=(String)configuration.get("lang")) == null) {
    m_language=null;
  }
  m_incremental="true".equals(configuration.get("incremental"));
  m_path=OpenCms.getSystemInfo().getAbsolutePathRelativeToWebInf(path + "/" + m_name);
}
