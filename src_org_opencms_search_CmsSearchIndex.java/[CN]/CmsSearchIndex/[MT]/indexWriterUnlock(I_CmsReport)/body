{
  File indexPath=new File(getPath());
  boolean indexLocked=true;
  if (indexPath.exists()) {
    Directory indexDirectory=null;
    try {
      indexDirectory=FSDirectory.open(indexPath);
      indexLocked=IndexWriter.isLocked(indexDirectory);
    }
 catch (    Exception e) {
      LOG.error(Messages.get().getBundle().key(Messages.LOG_IO_INDEX_READER_OPEN_2,getPath(),getName()),e);
    }
    if (indexLocked) {
      try {
        IndexWriter.unlock(indexDirectory);
      }
 catch (      Exception e) {
        CmsMessageContainer msg=Messages.get().container(Messages.ERR_INDEX_LOCK_FAILED_1,getName());
        report.println(msg,I_CmsReport.FORMAT_ERROR);
        throw new CmsIndexException(msg,e);
      }
    }
  }
}
