{
  IndexWriter indexWriter;
  try {
    File f=new File(m_path);
    if (f.exists()) {
      indexWriter=new IndexWriter(m_path,getAnalyzer(),create);
    }
 else {
      f=f.getParentFile();
      if ((f != null) && !f.exists()) {
        f.mkdirs();
      }
      indexWriter=new IndexWriter(m_path,getAnalyzer(),true);
    }
  }
 catch (  Exception e) {
    throw new CmsIndexException(Messages.get().container(Messages.ERR_IO_INDEX_WRITER_OPEN_2,m_path,m_name),e);
  }
  return indexWriter;
}
