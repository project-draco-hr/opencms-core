{
  IndexWriter indexWriter;
  Analyzer analyzer=m_indexManager.getAnalyzer(m_language);
  try {
    File f=new File(m_path);
    if (f.exists()) {
      indexWriter=new IndexWriter(m_path,analyzer,!m_incremental);
    }
 else {
      f=f.getParentFile();
      if (f != null && !f.exists()) {
        f.mkdir();
      }
      indexWriter=new IndexWriter(m_path,analyzer,true);
    }
  }
 catch (  Exception exc) {
    throw new CmsIndexException("Can't create IndexWriter for " + m_name,exc);
  }
  return indexWriter;
}
