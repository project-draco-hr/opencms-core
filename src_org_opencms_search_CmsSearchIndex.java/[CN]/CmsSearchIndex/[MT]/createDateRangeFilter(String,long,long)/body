{
  TermsFilter filter=null;
  if ((startDate != Long.MIN_VALUE) || (endDate != Long.MAX_VALUE)) {
    if (startDate == Long.MIN_VALUE) {
      Calendar cal=Calendar.getInstance(OpenCms.getLocaleManager().getTimeZone());
      cal.setTimeInMillis(endDate);
      cal.set(cal.get(Calendar.YEAR) - MAX_YEAR_RANGE,11,31,0,0,0);
      startDate=cal.getTimeInMillis();
    }
 else     if (endDate == Long.MAX_VALUE) {
      Calendar cal=Calendar.getInstance(OpenCms.getLocaleManager().getTimeZone());
      cal.setTimeInMillis(startDate);
      cal.set(cal.get(Calendar.YEAR) + MAX_YEAR_RANGE,0,1,0,0,0);
      endDate=cal.getTimeInMillis();
    }
    filter=new TermsFilter();
    List<String> dateRage=getDateRangeSpan(startDate,endDate);
    Iterator<String> i=dateRage.iterator();
    while (i.hasNext()) {
      filter.addTerm(new Term(fieldName,i.next()));
    }
  }
  return filter;
}
