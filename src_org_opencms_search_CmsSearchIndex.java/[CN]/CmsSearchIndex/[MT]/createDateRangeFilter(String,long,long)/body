{
  TermsFilter filter=null;
  if ((startTime != Long.MIN_VALUE) || (endTime != Long.MAX_VALUE)) {
    if (startTime == Long.MIN_VALUE) {
      Calendar cal=Calendar.getInstance(OpenCms.getLocaleManager().getTimeZone());
      cal.setTimeInMillis(endTime);
      cal.set(cal.get(Calendar.YEAR) - MAX_YEAR_RANGE,11,31,0,0,0);
      startTime=cal.getTimeInMillis();
    }
 else     if (endTime == Long.MAX_VALUE) {
      Calendar cal=Calendar.getInstance(OpenCms.getLocaleManager().getTimeZone());
      cal.setTimeInMillis(startTime);
      cal.set(cal.get(Calendar.YEAR) + MAX_YEAR_RANGE,0,1,0,0,0);
      endTime=cal.getTimeInMillis();
    }
    filter=new TermsFilter();
    List<String> dateRage=getDateRangeSpan(startTime,endTime);
    Iterator<String> i=dateRage.iterator();
    while (i.hasNext()) {
      filter.addTerm(new Term(fieldName,i.next()));
    }
  }
  return filter;
}
