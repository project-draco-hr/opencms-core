{
  for (Iterator i=folders.iterator(); i.hasNext(); ) {
    Map folder=(Map)i.next();
    String source;
    if ((source=(String)folder.get("source")) == null) {
      throw new CmsIndexException("[" + this.getClass().getName() + "] "+ "Folder source undefined");
    }
    Set documenttypes;
    try {
      documenttypes=new HashSet((List)folder.get("documenttype"));
    }
 catch (    ClassCastException exc) {
      documenttypes=new HashSet(Arrays.asList(new String[]{(String)folder.get("documenttype")}));
    }
    m_vfsSources.add(source);
    m_documenttypes.put(source,documenttypes);
    if (OpenCms.getLog(this).isDebugEnabled()) {
      OpenCms.getLog(this).debug("Configured folder: " + source);
    }
  }
}
