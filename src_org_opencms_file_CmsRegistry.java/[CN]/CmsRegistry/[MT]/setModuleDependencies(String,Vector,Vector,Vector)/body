{
  if (!hasAccess()) {
    throw new CmsSecurityException(CmsSecurityException.C_SECURITY_NO_REGISTRY_PERMISSIONS);
  }
  try {
    Element module=getModuleElement(modulename);
    Element dependencies=(Element)(module.getElementsByTagName("dependencies").item(0));
    while (dependencies.hasChildNodes()) {
      dependencies.removeChild(dependencies.getFirstChild());
    }
    for (int i=0; i < modules.size(); i++) {
      Element dependency=m_xmlReg.createElement("dependency");
      dependencies.appendChild(dependency);
      Element name=m_xmlReg.createElement("name");
      Element min=m_xmlReg.createElement("minversion");
      Element max=m_xmlReg.createElement("maxversion");
      name.appendChild(m_xmlReg.createTextNode(modules.elementAt(i).toString()));
      min.appendChild(m_xmlReg.createTextNode(minVersions.elementAt(i).toString()));
      max.appendChild(m_xmlReg.createTextNode(maxVersions.elementAt(i).toString()));
      dependency.appendChild(name);
      dependency.appendChild(min);
      dependency.appendChild(max);
    }
    saveRegistry();
  }
 catch (  Exception exc) {
  }
}
