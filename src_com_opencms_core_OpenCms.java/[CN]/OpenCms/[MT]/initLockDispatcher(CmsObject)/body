{
  if (m_lockDispatcherInitialized)   return;
synchronized (this) {
    m_lockDispatcherInitialized=true;
    CmsLockDispatcher lockDispatcher=CmsLockDispatcher.getInstance();
    List lockedResources=cms.readLockedFileHeaders();
    Iterator i=lockedResources.iterator();
    CmsResource currentResource=null;
    CmsLock currentLock=null;
    String currentPath=null;
    while (i.hasNext()) {
      currentResource=(CmsResource)i.next();
      currentPath=currentResource.getFullResourceName();
      currentLock=new CmsLock(currentPath,currentResource.isLockedBy(),currentResource.getProjectId());
      lockDispatcher.put(currentPath,currentLock);
    }
  }
}
