{
  int launcherId=file.getLauncherType();
  String startTemplateClass=file.getLauncherClassname();
  I_CmsLauncher launcher=m_launcherManager.getLauncher(launcherId);
  if (launcher == null) {
    String errorMessage="Could not launch file " + file.getName() + ". Launcher for requested launcher ID "+ launcherId+ " could not be found.";
    if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_INFO,"[OpenCms] " + errorMessage);
    }
    throw new CmsException(errorMessage,CmsException.C_UNKNOWN_EXCEPTION);
  }
  String httpsProp=cms.readProperty(file.getAbsolutePath(),C_PROPERTY_EXPORT);
  boolean httpsResource="https".equalsIgnoreCase(httpsProp);
  String scheme=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getScheme();
  boolean httpsReq="https".equalsIgnoreCase(scheme);
  if (httpsResource != httpsReq) {
    if (httpsReq) {
      throw new CmsException(" " + file.getAbsolutePath() + " needs a http request",CmsException.C_HTTPS_PAGE_ERROR);
    }
 else {
      throw new CmsException(" " + file.getAbsolutePath() + " needs a https request",CmsException.C_HTTPS_REQUEST_ERROR);
    }
  }
  cms.setLauncherManager(m_launcherManager);
  launcher.initlaunch(cms,file,startTemplateClass,this);
}
