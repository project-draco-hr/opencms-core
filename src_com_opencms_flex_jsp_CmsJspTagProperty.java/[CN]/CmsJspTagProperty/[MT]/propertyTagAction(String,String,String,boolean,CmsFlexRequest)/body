{
  if (DEBUG > 0) {
    System.err.println("propertyTagAction() called!\nproperty=" + property + "\naction="+ action+ "\ndefaultValue="+ defaultValue+ "\nescape="+ escape);
    System.err.println("propertyTagAction() request URI=" + req.getCmsObject().getRequestContext().getUri());
  }
  if (defaultValue == null)   defaultValue="";
  String value;
  if (action == null)   action=m_actionValues[0];
switch (m_actionValue.indexOf(action)) {
case 0:
case 1:
    value=req.getCmsObject().readProperty(req.getCmsRequestedResource(),property,false,defaultValue);
  break;
case 2:
case 3:
case 4:
value=req.getCmsObject().readProperty(req.getCmsRequestedResource(),property,true,defaultValue);
break;
case 5:
case 6:
value=req.getCmsObject().readProperty(req.getCmsResource(),property,false,defaultValue);
break;
case 7:
case 8:
value=req.getCmsObject().readProperty(req.getCmsResource(),property,true,defaultValue);
break;
default :
value=req.getCmsObject().readProperty(req.toAbsolute(action),property,false,defaultValue);
}
if (escape) value=Encoder.escapeHtml(value);
if (DEBUG > 0) {
System.err.println("propertyTagAction(): result=" + value);
}
return value;
}
