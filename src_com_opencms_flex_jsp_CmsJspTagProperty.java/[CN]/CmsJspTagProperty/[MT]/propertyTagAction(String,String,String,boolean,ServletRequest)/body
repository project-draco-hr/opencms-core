{
  CmsFlexController controller=(CmsFlexController)req.getAttribute(CmsFlexController.ATTRIBUTE_NAME);
  if (DEBUG > 0) {
    System.err.println("propertyTagAction() called!\nproperty=" + property + "\naction="+ action+ "\ndefaultValue="+ defaultValue+ "\nescape="+ escape);
    System.err.println("propertyTagAction() request URI=" + controller.getCmsObject().getRequestContext().getUri());
  }
  String value;
  if (action == null)   action=m_actionValues[0];
switch (m_actionValue.indexOf(action)) {
case 0:
case 1:
    value=controller.getCmsObject().readProperty(controller.getCmsObject().getRequestContext().getUri(),property,false,defaultValue);
  break;
case 2:
case 3:
case 4:
value=controller.getCmsObject().readProperty(controller.getCmsObject().getRequestContext().getUri(),property,true,defaultValue);
break;
case 5:
case 6:
value=controller.getCmsObject().readProperty(controller.getCurrentRequest().getElementUri(),property,false,defaultValue);
break;
case 7:
case 8:
value=controller.getCmsObject().readProperty(controller.getCurrentRequest().getElementUri(),property,true,defaultValue);
break;
default :
value=controller.getCmsObject().readProperty(OpenCms.getLinkManager().getAbsoluteUri(action,controller.getCurrentRequest().getElementUri()),property,false,defaultValue);
}
if (escape) value=Encoder.escapeHtml(value);
if (DEBUG > 0) {
System.err.println("propertyTagAction(): result=" + value);
}
return value;
}
