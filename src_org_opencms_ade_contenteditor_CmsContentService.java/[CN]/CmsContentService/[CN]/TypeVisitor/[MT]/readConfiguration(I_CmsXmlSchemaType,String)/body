{
  AttributeConfiguration result=null;
  String widgetName=null;
  String widgetConfig=null;
  try {
    I_CmsWidget widget=m_contentHandler.getWidget(schemaType);
    widgetName=widget.getClass().getName();
    widgetConfig=widget.getConfiguration();
    if (widget instanceof I_CmsADEWidget) {
      I_CmsADEWidget adeWidget=(I_CmsADEWidget)widget;
      if (!adeWidget.isInternal() && !m_widgetConfigurations.containsKey(widgetName)) {
        CmsExternalWidgetConfiguration externalConfiguration=new CmsExternalWidgetConfiguration(widgetName,adeWidget.getInitCall(),adeWidget.getJavaScriptResourceLinks(getCmsObject()),adeWidget.getCssResourceLinks(getCmsObject()));
        m_widgetConfigurations.put(widgetName,externalConfiguration);
      }
    }
  }
 catch (  Exception e) {
    LOG.debug(e.getMessage(),e);
  }
  result=new AttributeConfiguration(getLabel(schemaType),getHelp(schemaType),widgetName,widgetConfig,readDefaultValue(schemaType,path));
  return result;
}
