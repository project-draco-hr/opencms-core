{
  CmsContentDefinition result=null;
  getCmsObject().getRequestContext().setAttribute(CmsXmlContentEditor.ATTRIBUTE_EDITCONTEXT,editContext);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(newLink)) {
    try {
      CmsUUID structureId=CmsContentDefinition.entityIdToUuid(entityId);
      CmsResource resource=getCmsObject().readResource(structureId,CmsResourceFilter.IGNORE_EXPIRATION);
      Locale contentLocale=CmsLocaleManager.getLocale(CmsContentDefinition.getLocaleFromId(entityId));
      result=readContentDefnitionForNew(newLink,resource,modelFileId,contentLocale,mode,postCreateHandler);
    }
 catch (    Throwable t) {
      error(t);
    }
  }
 else {
    result=loadDefinition(entityId);
  }
  return result;
}
