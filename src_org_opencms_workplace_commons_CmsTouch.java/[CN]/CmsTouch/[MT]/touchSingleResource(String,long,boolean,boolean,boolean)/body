{
  checkLock(resourceName);
  CmsResource sourceRes=getCms().readResource(resourceName,CmsResourceFilter.ALL);
  if (!correctDate) {
    timeStamp=sourceRes.getDateLastModified();
  }
  getCms().setDateLastModified(resourceName,timeStamp,recursive);
  if (touchContent) {
    if (sourceRes.isFile()) {
      hardTouch(sourceRes);
    }
 else     if (recursive) {
      Iterator it=getCms().readResources(resourceName,CmsResourceFilter.ALL,true).iterator();
      while (it.hasNext()) {
        CmsResource subRes=(CmsResource)it.next();
        if (subRes.isFile()) {
          hardTouch(subRes);
        }
      }
    }
  }
}
