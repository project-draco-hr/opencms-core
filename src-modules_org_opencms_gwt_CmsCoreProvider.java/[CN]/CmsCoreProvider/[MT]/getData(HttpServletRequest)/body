{
  CmsObject cms=CmsFlexController.getCmsObject(request);
  JSONObject keys=new JSONObject();
  try {
    keys.put(KEY_CONTEXT,OpenCms.getSystemInfo().getOpenCmsContext());
    keys.put(KEY_LOCALE,cms.getRequestContext().getLocale().toString());
    keys.put(KEY_SITE_ROOT,cms.getRequestContext().getSiteRoot());
    keys.put(KEY_WP_LOCALE,OpenCms.getWorkplaceManager().getWorkplaceLocale(cms).toString());
    keys.put(KEY_URI,cms.getRequestContext().getUri());
  }
 catch (  Throwable e) {
    LOG.error(e.getLocalizedMessage(),e);
    try {
      keys.put("error",e.getLocalizedMessage());
    }
 catch (    JSONException e1) {
      LOG.error(e1.getLocalizedMessage(),e1);
    }
  }
  return keys;
}
