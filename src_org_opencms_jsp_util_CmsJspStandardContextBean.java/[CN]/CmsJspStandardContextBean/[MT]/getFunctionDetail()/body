{
  MapMaker mm=new MapMaker();
  return mm.makeComputingMap(new Function<String,String>(){
    public String apply(    String key){
      String detailType=CmsDetailPageInfo.FUNCTION_PREFIX + key;
      CmsADEConfigData config=OpenCms.getADEManager().lookupConfiguration(m_cms,m_cms.addSiteRoot(m_cms.getRequestContext().getUri()));
      List<CmsDetailPageInfo> detailPages=config.getDetailPagesForType(detailType);
      if ((detailPages == null) || (detailPages.size() == 0)) {
        return "";
      }
      CmsDetailPageInfo mainDetailPage=detailPages.get(0);
      CmsUUID id=mainDetailPage.getId();
      CmsResource detailRes;
      try {
        detailRes=m_cms.readResource(id);
        return OpenCms.getLinkManager().substituteLink(m_cms,detailRes);
      }
 catch (      CmsException e) {
        LOG.warn(e.getLocalizedMessage(),e);
        return "";
      }
    }
  }
);
}
