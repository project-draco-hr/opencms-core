{
  return CmsCollectionsGenericWrapper.createLazyMap(new Transformer(){
    public Object transform(    Object categoryPath){
      List<CmsCategory> result=new ArrayList<CmsCategory>();
      CmsCategoryService catService=CmsCategoryService.getInstance();
      String path=(String)categoryPath;
      if ((null == path) || path.isEmpty()) {
        return result;
      }
      path=path.substring(0,path.length() - 1);
      int lastSlash=path.lastIndexOf('/');
      if (lastSlash == -1) {
        return result;
      }
      path=path.substring(0,lastSlash);
      if (path.isEmpty()) {
        return result;
      }
      List<String> pathParts=Arrays.asList(path.split("/"));
      String currentPath="";
      String refPath=getRequestContext().getUri();
      for (      String part : pathParts) {
        currentPath+=part + "/";
        try {
          result.add(catService.readCategory(m_cms,currentPath,refPath));
        }
 catch (        CmsException e) {
          LOG.warn(e.getLocalizedMessage(),e);
        }
      }
      return result;
    }
  }
);
}
