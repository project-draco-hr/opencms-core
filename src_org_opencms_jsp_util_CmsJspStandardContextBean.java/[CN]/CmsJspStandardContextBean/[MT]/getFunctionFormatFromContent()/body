{
  MapMaker mm=new MapMaker();
  return mm.makeComputingMap(new Function<CmsJspContentAccessBean,CmsDynamicFunctionFormatWrapper>(){
    public CmsDynamicFunctionFormatWrapper apply(    CmsJspContentAccessBean contentAccess){
      CmsXmlContent content=(CmsXmlContent)(contentAccess.getRawContent());
      CmsDynamicFunctionParser parser=new CmsDynamicFunctionParser();
      CmsDynamicFunctionBean functionBean=null;
      try {
        functionBean=parser.parseFunctionBean(m_cms,content);
      }
 catch (      CmsException e) {
        return new CmsDynamicFunctionFormatWrapper(m_cms,null);
      }
      String type=getContainer().getType();
      String width=getContainer().getWidth();
      int widthNum=-1;
      try {
        widthNum=Integer.parseInt(width);
      }
 catch (      NumberFormatException e) {
      }
      CmsDynamicFunctionBean.Format format=functionBean.getFormatForContainer(m_cms,type,widthNum);
      CmsDynamicFunctionFormatWrapper wrapper=new CmsDynamicFunctionFormatWrapper(m_cms,format);
      return wrapper;
    }
  }
);
}
