{
  String templateName=null;
  String templateUri=null;
  CmsTemplateContext templateContext=getRequestAttribute(CmsTemplateContextManager.ATTR_TEMPLATE_CONTEXT);
  CmsResource templateResource=getRequestAttribute(CmsTemplateContextManager.ATTR_TEMPLATE_RESOURCE);
  templateName=getRequestAttribute(CmsTemplateContextManager.ATTR_TEMPLATE_NAME);
  if (templateContext != null) {
    templateName=templateContext.getKey();
  }
  templateUri=templateResource.getRootPath();
  return new TemplateBean(templateName,templateUri);
}
