{
  int retValue=-1;
  I_CmsSession session=cms.getRequestContext().getSession(true);
  CmsMasterContent cd=(CmsMasterContent)session.getValue(getContentDefinitionClass().getName());
  Vector channels=cd.getAvailableChannels(cms);
  int size=channels.size();
  for (int i=0; i < size; i++) {
    if (isVisible(cms,(String)channels.elementAt(i))) {
      values.add(channels.elementAt(i));
      names.add(channels.elementAt(i));
    }
  }
  return new Integer(retValue);
}
