{
  m_groupContainer.clear();
  CmsAdminMenuGroup helpMenu=new CmsAdminMenuGroup(key("admin.menu.groups.help"));
  helpMenu.addMenuItem(new CmsAdminContextHelpMenuItem());
  addGroup(helpMenu);
  Iterator itElems=getToolManager().getToolHandlers().iterator();
  while (itElems.hasNext()) {
    I_CmsToolHandler handler=(I_CmsToolHandler)itElems.next();
    if (!getCms().existsResource(handler.getLink())) {
      continue;
    }
    Iterator itIPoints=handler.getInstallPoints().iterator();
    while (itIPoints.hasNext()) {
      CmsToolInstallPoint iPoint=(CmsToolInstallPoint)itIPoints.next();
      if (!iPoint.getPath().startsWith(getToolManager().getRootToolPath(getCms()))) {
        continue;
      }
      String path=iPoint.getPath().substring(getToolManager().getRootToolPath(getCms()).length());
      if (CmsStringUtil.isEmpty(path)) {
        continue;
      }
      int pos=iPoint.getPath().indexOf(CmsToolManager.C_TOOLPATH_SEPARATOR);
      if (path.indexOf(CmsToolManager.C_TOOLPATH_SEPARATOR,pos + 1) < 0) {
        String groupName=resolveMacros(iPoint.getGroup());
        CmsAdminMenuGroup group=getGroup(groupName);
        if (group == null) {
          group=new CmsAdminMenuGroup(groupName);
          addGroup(group,iPoint.getPosition());
        }
        CmsAdminMenuItem item=new CmsAdminMenuItem(handler.getName(),handler.getSmallIconPath(),getToolManager().linkForPath(iPoint.getPath()),handler.getHelpText(),handler.isEnabled(getCms()),CmsAdminMenu.DEFAULT_TARGET);
        group.addMenuItem(item,iPoint.getPosition());
      }
    }
  }
}
