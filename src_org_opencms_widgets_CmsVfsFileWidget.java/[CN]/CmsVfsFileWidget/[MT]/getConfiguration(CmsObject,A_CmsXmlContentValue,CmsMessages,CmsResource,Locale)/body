{
  JSONObject config=new JSONObject();
  try {
    config.put(I_CmsGalleryProviderConstants.CONFIG_START_SITE,m_startSite);
    String tabIds=null;
    if (m_includeFiles) {
      tabIds=GalleryTabId.cms_tab_types.name() + "," + GalleryTabId.cms_tab_vfstree.name()+ ","+ GalleryTabId.cms_tab_sitemap.name()+ ","+ GalleryTabId.cms_tab_categories.name()+ ","+ GalleryTabId.cms_tab_search.name()+ ","+ GalleryTabId.cms_tab_results.name();
    }
 else {
      tabIds=GalleryTabId.cms_tab_vfstree.name();
    }
    config.put(I_CmsGalleryProviderConstants.CONFIG_TAB_IDS,tabIds);
    config.put(I_CmsGalleryProviderConstants.CONFIG_SHOW_SITE_SELECTOR,m_showSiteSelector);
    config.put(I_CmsGalleryProviderConstants.CONFIG_REFERENCE_PATH,cms.getSitePath(resource));
    config.put(I_CmsGalleryProviderConstants.CONFIG_LOCALE,contentLocale.toString());
    config.put(I_CmsGalleryProviderConstants.CONFIG_GALLERY_MODE,GalleryMode.widget.name());
  }
 catch (  JSONException e) {
    e.printStackTrace();
  }
  return config.toString();
}
