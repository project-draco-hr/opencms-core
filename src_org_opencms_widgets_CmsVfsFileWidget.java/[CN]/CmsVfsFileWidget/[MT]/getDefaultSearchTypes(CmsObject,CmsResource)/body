{
  StringBuffer result=new StringBuffer();
  String referenceSitePath=cms.getSitePath(resource);
  CmsADEConfigData config=OpenCms.getADEManager().lookupConfiguration(cms,cms.getRequestContext().addSiteRoot(cms.getRequestContext().getUri()));
  for (  CmsResourceTypeConfig typeConfig : config.getResourceTypes()) {
    if (typeConfig.checkViewable(cms,referenceSitePath)) {
      String typeName=typeConfig.getTypeName();
      List<String> detailPages=OpenCms.getADEManager().getDetailPages(cms,typeName);
      if ((detailPages != null) && (detailPages.size() > 0)) {
        result.append(typeName).append(",");
      }
    }
  }
  result.append(CmsResourceTypeBinary.getStaticTypeName()).append(",");
  result.append(CmsResourceTypeImage.getStaticTypeName()).append(",");
  result.append(CmsResourceTypePlain.getStaticTypeName());
  return result.toString();
}
