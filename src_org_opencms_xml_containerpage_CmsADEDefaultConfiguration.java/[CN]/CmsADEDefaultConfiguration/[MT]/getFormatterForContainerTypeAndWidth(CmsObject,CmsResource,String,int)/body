{
  I_CmsResourceType resType=OpenCms.getResourceManager().getResourceType(res);
  String typeName=resType.getTypeName();
  String rootPath=cms.getRequestContext().addSiteRoot(cms.getRequestContext().getOriginalUri());
  CmsContainerPageConfigurationData configData=OpenCms.getADEConfigurationManager().getContainerPageConfiguration(cms,rootPath);
  Map<String,CmsTypeFormatterConfiguration> formatterConfig=configData.getFormatterConfiguration();
  CmsTypeFormatterConfiguration typeFmtConfig=formatterConfig.get(typeName);
  if (typeFmtConfig != null) {
    String formatter=CmsFormatterUtil.selectFormatter(typeFmtConfig.getContainerTypeFormatters(),typeFmtConfig.getWidthFormatters(),cntType,width);
    return formatter;
  }
 else {
    return OpenCms.getResourceManager().getResourceType(res).getFormatterForContainerTypeAndWidth(cms,res,cntType,width);
  }
}
