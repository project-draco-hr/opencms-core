{
  CmsContainerPageConfigurationData config=OpenCms.getADEConfigurationManager().getContainerPageConfiguration(cms,cms.getRequestContext().addSiteRoot(cntPageUri));
  CmsConfigurationItem item=config.getTypeConfiguration().get(type);
  item.getLazyFolder().getOrCreateFolder(cms);
  String newFileName=getNextNewFileName(cms,cntPageUri,request,type);
  cms.copyResource(cms.getSitePath(item.getSourceFile()),newFileName);
  CmsResource resource=cms.readResource(newFileName);
  if (CmsResourceTypeXmlContent.isXmlContent(resource)) {
    CmsXmlContent xmlContent=CmsXmlContentFactory.unmarshal(cms,resource,request);
    if (!xmlContent.hasLocale(locale)) {
      Locale copyLocale=xmlContent.getBestMatchingLocale(locale);
      if (copyLocale == null) {
        copyLocale=OpenCms.getLocaleManager().getDefaultLocale(cms,resource);
      }
      cms.lockResourceTemporary(newFileName);
      if (xmlContent.hasLocale(copyLocale)) {
        xmlContent.copyLocale(copyLocale,locale);
      }
 else {
        xmlContent.addLocale(cms,locale);
      }
      CmsFile file=xmlContent.getFile();
      file.setContents(xmlContent.marshal());
      cms.writeFile(file);
      cms.unlockResource(newFileName);
      resource=cms.readResource(newFileName);
    }
  }
  return resource;
}
