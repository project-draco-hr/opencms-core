{
  CmsConfigurationParser parser=getConfigurationParser(cms,cntPageUri);
  Map<String,CmsConfigurationItem> types=new HashMap<String,CmsConfigurationItem>();
  if (m_moduleConfig != null) {
    CmsConfigurationParser moduleConfig=m_moduleConfig.getConfigurationParser(getAdminCmsObject(cms));
    types.putAll(moduleConfig.getTypeConfiguration());
  }
  if (parser != null) {
    types.putAll(parser.getTypeConfiguration());
  }
  CmsConfigurationItem item=types.get(type);
  CmsResource folderRes=item.getLazyFolder().getValue(cms);
  String destination=cms.getSitePath(folderRes) + item.getPattern();
  return getNewFileName(cms,destination);
}
