{
  initWidget(m_panel);
  m_panel.add(m_header);
  m_model=model;
  m_groupIndex=groupIndex;
  m_publishResources=model.getGroups().get(groupIndex).getResources();
  m_controllersById=controllersById;
  m_panel.truncate(TM_PUBLISH_LIST,CmsPublishDialog.DIALOG_WIDTH);
  initSelectButtons();
  if (hasOnlyProblemResources()) {
    m_selectAll.setEnabled(false);
    m_selectNone.setEnabled(false);
  }
  m_showProblemsOnly=showProblemsOnly;
  if (hasNoProblemResources() && showProblemsOnly) {
    this.setVisible(false);
  }
  Label label=new Label(title + CmsPublishSelectPanel.formatResourceCount(m_publishResources.size()));
  label.addStyleName(CSS.groupHeader());
  m_header.add(label);
  FlowPanel clear=new FlowPanel();
  clear.setStyleName(CSS.clear());
  m_header.add(clear);
  m_selectionChangeHandler=selectionChangeHandler;
}
