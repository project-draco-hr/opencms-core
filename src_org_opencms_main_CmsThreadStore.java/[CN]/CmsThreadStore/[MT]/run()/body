{
  int m_minutesForSessionUpdate=0;
  while (m_alive) {
    try {
      sleep(60000);
    }
 catch (    InterruptedException e) {
    }
    try {
      Iterator i;
      i=m_threads.keySet().iterator();
      Set doomed=new HashSet();
      while (i.hasNext()) {
        CmsUUID key=(CmsUUID)i.next();
        A_CmsReportThread thread=(A_CmsReportThread)m_threads.get(key);
        if (thread.isDoomed()) {
          doomed.add(key);
          if (DEBUG) {
            System.err.println("[CmsThreadStore] Grim Reaper dooming: " + thread.getName());
          }
        }
      }
      i=doomed.iterator();
      while (i.hasNext()) {
        m_threads.remove(i.next());
      }
      if (DEBUG) {
        dumpThreads();
      }
    }
 catch (    Throwable t) {
      if (DEBUG) {
        System.err.println("[CmsThreadStore] Grim Reaper exception " + t);
      }
    }
    m_minutesForSessionUpdate++;
    if (m_minutesForSessionUpdate >= 5) {
      try {
        CmsSessionManager sessionInfoManager=OpenCms.getSessionManager();
        if (sessionInfoManager != null) {
          sessionInfoManager.validateSessionInfos();
        }
      }
 catch (      Throwable t) {
        System.err.println("[CmsThreadStore] Grim Reaper session update exception " + t);
      }
      m_minutesForSessionUpdate=0;
    }
  }
}
