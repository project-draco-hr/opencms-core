{
  m_SqlQueries=initQueries(config);
  m_ResourceBroker=theResourceBroker;
  String brokerName=(String)config.getString(com.opencms.core.I_CmsConstants.C_CONFIGURATION_RESOURCEBROKER);
  String digest=config.getString(C_CONFIGURATION_RESOURCEBROKER + "." + brokerName+ ".digest","MD5");
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Digest configured    : " + digest);
  }
  m_digestFileEncoding=config.getString(C_CONFIGURATION_RESOURCEBROKER + "." + brokerName+ ".digest.fileencoding","ISO-8859-1");
  if (I_CmsLogChannels.C_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Digest file encoding : " + m_digestFileEncoding);
  }
  try {
    m_digest=MessageDigest.getInstance(digest);
    if (I_CmsLogChannels.C_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Using digest encoding: " + m_digest.getAlgorithm() + " from "+ m_digest.getProvider().getName()+ " version "+ m_digest.getProvider().getVersion());
    }
  }
 catch (  NoSuchAlgorithmException e) {
    if (I_CmsLogChannels.C_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Error setting digest : using clear passwords - " + e.getMessage());
    }
  }
  m_poolName=config.getString(com.opencms.core.I_CmsConstants.C_CONFIGURATION_RESOURCEBROKER + "." + brokerName+ "."+ com.opencms.core.I_CmsConstants.C_CONFIGURATIONS_POOL);
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Database offline pool: " + m_poolName);
  }
  m_poolNameOnline=config.getString(com.opencms.core.I_CmsConstants.C_CONFIGURATION_RESOURCEBROKER + "." + brokerName+ ".online."+ com.opencms.core.I_CmsConstants.C_CONFIGURATIONS_POOL);
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Database online pool : " + m_poolNameOnline);
  }
  m_poolNameBackup=config.getString(com.opencms.core.I_CmsConstants.C_CONFIGURATION_RESOURCEBROKER + "." + brokerName+ ".backup."+ com.opencms.core.I_CmsConstants.C_CONFIGURATIONS_POOL);
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Database backup pool : " + m_poolNameBackup);
  }
  com.opencms.dbpool.CmsIdGenerator.setDefaultPool(m_poolName);
}
