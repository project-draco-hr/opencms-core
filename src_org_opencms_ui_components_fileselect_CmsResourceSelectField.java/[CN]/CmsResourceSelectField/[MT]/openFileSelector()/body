{
  try {
    CmsResourceSelectDialog fileSelect=new CmsResourceSelectDialog(m_filter);
    final Window window=CmsBasicDialog.prepareWindow();
    window.setCaption(m_fileSelectCaption != null ? m_fileSelectCaption : CmsVaadinUtils.getMessageText(org.opencms.ui.components.Messages.GUI_FILE_SELECT_CAPTION_0));
    window.setContent(fileSelect);
    fileSelect.addPathSelectionHandler(true,new I_CmsSelectionHandler<String>(){
      public void onSelection(      String selected){
        getTextField().setValue(selected);
        window.close();
      }
    }
);
    A_CmsUI.get().addWindow(window);
  }
 catch (  CmsException e) {
    LOG.error(e.getLocalizedMessage(),e);
    CmsErrorDialog.showErrorDialog(e);
  }
}
