{
  byte[] content=null;
  if (file instanceof CmsFile) {
    content=((CmsFile)file).getContents();
  }
 else {
    String filename=cms.readAbsolutePath(file);
    try {
      content=cms.readFile(filename).getContents();
    }
 catch (    CmsException e) {
      if (DEBUG > 0) {
        System.err.println(com.opencms.util.Utils.getStackTrace(e));
      }
      throw new ServletException("Error in CmsDumpLoader while processing " + filename,e);
    }
  }
  res.getOutputStream().write(content);
}
