{
  Iterator i=item.getSubItems().iterator();
  while (i.hasNext()) {
    CmsExplorerContextMenuItem subItem=(CmsExplorerContextMenuItem)i.next();
    if (subItem.isParentItem()) {
      getSubItemRules(subItem,itemRules,resourceUtil);
    }
 else     if (CmsExplorerContextMenuItem.TYPE_ENTRY.equals(subItem.getType())) {
      String subItemRuleName=subItem.getRule();
      CmsMenuRule subItemRule=OpenCms.getWorkplaceManager().getMenuRule(subItemRuleName);
      I_CmsMenuItemRule rule=subItemRule.getMatchingRule(getCms(),resourceUtil);
      if (rule != null) {
        itemRules.add(rule);
      }
    }
  }
}
