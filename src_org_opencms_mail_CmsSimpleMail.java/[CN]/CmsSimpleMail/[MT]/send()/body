{
  try {
    super.send();
  }
 catch (  SendFailedException sf) {
    MessagingException me=(MessagingException)sf.getNextException();
    CmsMailHost host=OpenCms.getSystemInfo().getMailSettings().getDefaultMailHost();
    if (me instanceof AuthenticationFailedException) {
      CmsRuntimeException rte=new CmsRuntimeException(Messages.get().container(Messages.ERR_SEND_EMAIL_AUTHENTICATE_2,host.getUsername(),host.getHostname()));
      sf.initCause(rte);
      throw sf;
    }
    CmsRuntimeException rte=new CmsRuntimeException(Messages.get().container(Messages.ERR_SEND_EMAIL_HOSTNAME_1,host.getHostname()),me);
    sf.initCause(rte);
    throw sf;
  }
}
