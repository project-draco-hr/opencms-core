{
  List brokenLinks=(List)new ArrayList();
  String link=null;
  boolean isValidLink=true;
  CmsResource unpublishedResource=null;
  List validatedLinks=(List)new ArrayList();
  Iterator i=links.iterator();
  while (i.hasNext()) {
    link=((String)i.next()).trim();
    isValidLink=true;
    if (validatedLinks.contains(link)) {
      continue;
    }
    if (link.startsWith("http") || link.startsWith("HTTP")) {
      continue;
    }
    try {
      m_driverManager.readFileHeaderInProject(I_CmsConstants.C_PROJECT_ONLINE_ID,link,false);
      if (offlineFileLookup.containsKey(link)) {
        unpublishedResource=(CmsResource)offlineFileLookup.get(link);
        if (unpublishedResource.getState() == I_CmsConstants.C_STATE_DELETED) {
          isValidLink=false;
        }
      }
    }
 catch (    CmsException e) {
      if (!offlineFileLookup.containsKey(link)) {
        isValidLink=false;
      }
    }
    if (!isValidLink) {
      brokenLinks.add(link);
    }
    validatedLinks.add(link);
  }
  return brokenLinks;
}
