{
  List brokenLinks=new ArrayList();
  String link=null;
  boolean isValidLink=true;
  CmsResource unpublishedResource=null;
  List validatedLinks=new ArrayList();
  Iterator i=links.iterator();
  while (i.hasNext()) {
    link=((String)i.next()).trim();
    isValidLink=true;
    if (validatedLinks.contains(link) || "".equals(link)) {
      continue;
    }
    try {
      m_driverManager.getVfsDriver().readFileHeader(I_CmsConstants.C_PROJECT_ONLINE_ID,link,true);
      if (offlineFileLookup.containsKey(link)) {
        unpublishedResource=(CmsResource)offlineFileLookup.get(link);
        if (unpublishedResource.getState() == I_CmsConstants.C_STATE_DELETED) {
          isValidLink=false;
        }
      }
    }
 catch (    CmsException e) {
      if (!offlineFileLookup.containsKey(link)) {
        isValidLink=false;
      }
    }
    if (!isValidLink) {
      brokenLinks.add(link);
    }
    validatedLinks.add(link);
  }
  return brokenLinks;
}
