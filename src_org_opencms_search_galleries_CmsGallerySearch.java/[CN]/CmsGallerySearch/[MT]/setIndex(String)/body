{
  if (CmsStringUtil.isNotEmpty(indexName)) {
    try {
      CmsSearchIndex index=OpenCms.getSearchManager().getIndex(indexName);
      if (index == null) {
        throw new CmsException(Messages.get().container(Messages.ERR_INDEX_NOT_FOUND_1,indexName));
      }
      if (!(index instanceof CmsGallerySearchIndex)) {
        throw new CmsException(Messages.get().container(Messages.ERR_INDEX_WRONG_CLASS_2,indexName,CmsGallerySearchIndex.class.getName()));
      }
      m_index=(CmsGallerySearchIndex)index;
    }
 catch (    Exception exc) {
      m_lastException=exc;
      if (LOG.isDebugEnabled()) {
        LOG.debug(Messages.get().getBundle().key(Messages.LOG_INDEX_ACCESS_FAILED_1,indexName),exc);
      }
    }
  }
}
