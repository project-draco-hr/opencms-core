{
  I_Vie vie=getVieInstance();
  Type simpleType=vie.createType(SIMPLE_TYPE_ID);
  Type complex=vie.createType(COMPLEX_TYPE_ID);
  complex.addAttribute(ATTRIBUTE_NAME,simpleType,1,3);
  Entity entity=vie.createEntity("myEntity",COMPLEX_TYPE_ID);
  final String changeValue="my new value";
  resetChangeCount();
  entity.addValueChangeHandler(new ValueChangeHandler<Entity>(){
    public void onValueChange(    ValueChangeEvent<Entity> event){
      incrementChangeCount();
      String attributeValue=event.getValue().getAttribute(ATTRIBUTE_NAME).getSimpleValue();
      assertEquals(changeValue,attributeValue);
    }
  }
);
  entity.setAttributeValue(ATTRIBUTE_NAME,changeValue);
  assertEquals(1,getChangeCount());
}
