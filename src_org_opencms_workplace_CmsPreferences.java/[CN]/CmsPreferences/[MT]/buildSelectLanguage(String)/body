{
  try {
    List allLangFolders=getCms().getSubFolders(I_CmsWpConstants.C_VFS_PATH_LOCALES);
    List options=new ArrayList(allLangFolders.size());
    List values=new ArrayList(allLangFolders.size());
    int checkedIndex=0;
    for (int i=0; i < allLangFolders.size(); i++) {
      CmsFolder folder=(CmsFolder)allLangFolders.get(i);
      CmsXmlLanguageFile langFile=new CmsXmlLanguageFile(getCms(),folder.getName());
      options.add(langFile.getLanguageValue("name"));
      values.add(folder.getName());
      if (getParamTabWpLanguage().equals(folder.getName())) {
        checkedIndex=i;
      }
    }
    return buildSelect(htmlAttributes,options,values,checkedIndex);
  }
 catch (  CmsException e) {
    return getSettings().getLanguage();
  }
}
