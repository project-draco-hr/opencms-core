{
  FormLayout form=new FormLayout();
  form.setWidth("100%");
  final IndexedContainer projects=getProjectsContainer();
  m_projectComboBox=new ComboBox(CmsVaadinUtils.getWpMessagesForCurrentLocale().key(org.opencms.workplace.Messages.GUI_LABEL_PROJECT_0),projects);
  m_projectComboBox.setTextInputAllowed(true);
  m_projectComboBox.setNullSelectionAllowed(false);
  m_projectComboBox.setWidth("100%");
  m_projectComboBox.setInputPrompt(Messages.get().getBundle(UI.getCurrent().getLocale()).key(Messages.GUI_EXPLORER_CLICK_TO_EDIT_0));
  m_projectComboBox.setItemCaptionPropertyId(PROJECT_NAME);
  CmsUUID currentProjectId=m_context.getCms().getRequestContext().getCurrentProject().getUuid();
  if (projects.containsId(currentProjectId)) {
    m_projectComboBox.select(currentProjectId);
  }
 else {
    try {
      CmsUUID ouProject=OpenCms.getOrgUnitManager().readOrganizationalUnit(m_context.getCms(),m_context.getCms().getRequestContext().getOuFqn()).getProjectId();
      if (projects.containsId(ouProject)) {
        m_projectComboBox.select(ouProject);
      }
    }
 catch (    CmsException e) {
      LOG.error("Error while reading current OU.",e);
    }
  }
  m_projectComboBox.setFilteringMode(FilteringMode.CONTAINS);
  form.addComponent(m_projectComboBox);
  return form;
}
