{
  try {
    CmsProject project=m_context.getCms().readProject((CmsUUID)m_projectComboBox.getValue());
    if (!m_context.getCms().getRequestContext().getCurrentProject().equals(project)) {
      m_context.getCms().getRequestContext().setCurrentProject(project);
      CmsAppWorkplaceUi.get().getWorkplaceSettings().setProject(project.getUuid());
      m_context.reload();
    }
 else {
      project=null;
    }
    String siteRoot=(String)m_siteComboBox.getValue();
    if (!m_context.getCms().getRequestContext().getSiteRoot().equals(siteRoot)) {
      m_context.getCms().getRequestContext().setSiteRoot(siteRoot);
    }
 else {
      siteRoot=null;
    }
    m_context.finish(project,siteRoot);
  }
 catch (  CmsException e) {
    m_context.error(e);
  }
}
