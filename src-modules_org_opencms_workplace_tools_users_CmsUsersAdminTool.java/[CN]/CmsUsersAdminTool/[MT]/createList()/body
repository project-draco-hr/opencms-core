{
  if (metadata == null) {
    metadata=new CmsListMetadata();
    metadata.addIndependentAction(new CmsListIndependentAction(LIST_ID,LIST_ACTION_REFRESH,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_REFRESH_NAME_0),"list/reload.gif",Messages.get().container(Messages.GUI_USERS_LIST_ACTION_REFRESH_HELP_0),true,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_REFRESH_CONF_0)));
    CmsListColumnDefinition actionsCol=new CmsListColumnDefinition(LIST_COLUMN_ACTIONS,Messages.get().container(Messages.GUI_USERS_LIST_COLS_ACTIONS_0),"",CmsListColumnAlignEnum.ALIGN_CENTER);
    actionsCol.setSorteable(false);
    I_CmsListDirectAction activateUser=new ActivateUserAction(LIST_ID);
    actionsCol.addDirectAction(activateUser);
    metadata.addColumn(actionsCol);
    CmsListColumnDefinition loginCol=new CmsListColumnDefinition(LIST_COLUMN_LOGIN,Messages.get().container(Messages.GUI_USERS_LIST_COLS_LOGIN_0),"",CmsListColumnAlignEnum.ALIGN_LEFT);
    loginCol.setDefaultAction(new CmsListDefaultAction(LIST_ID,LIST_ACTION_EDIT,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_EDITUSER_NAME_0),null,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_EDITUSER_HELP_0),true,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_EDITUSER_CONF_0)));
    metadata.addColumn(loginCol);
    CmsListColumnDefinition nameCol=new CmsListColumnDefinition(LIST_COLUMN_NAME,Messages.get().container(Messages.GUI_USERS_LIST_COLS_USERNAME_0),"",CmsListColumnAlignEnum.ALIGN_LEFT);
    metadata.addColumn(nameCol);
    CmsListColumnDefinition emailCol=new CmsListColumnDefinition(LIST_COLUMN_EMAIL,Messages.get().container(Messages.GUI_USERS_LIST_COLS_EMAIL_0),"",CmsListColumnAlignEnum.ALIGN_LEFT);
    metadata.addColumn(emailCol);
    CmsListColumnDefinition lastLoginCol=new CmsListColumnDefinition(LIST_COLUMN_LASTLOGIN,Messages.get().container(Messages.GUI_USERS_LIST_COLS_LASTLOGIN_0),"",CmsListColumnAlignEnum.ALIGN_LEFT);
    lastLoginCol.setFormatter(new CmsListDateMacroFormatter(Messages.get().container(Messages.GUI_USERS_LIST_COLS_LASTLOGIN_FORMAT_0),Messages.get().container(Messages.GUI_USERS_LIST_COLS_LASTLOGIN_NEVER_0)));
    metadata.addColumn(lastLoginCol);
    metadata.addMultiAction(new CmsListMultiAction(LIST_ID,LIST_ACTION_DELETE,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_DELETE_NAME_0),"list/delete.gif",Messages.get().container(Messages.GUI_USERS_LIST_ACTION_DELETE_HELP_0),true,Messages.get().container(Messages.GUI_USERS_LIST_ACTION_DELETE_CONF_0)));
    metadata.addDirectMultiAction(activateUser);
    CmsSearchAction searchAction=new CmsSearchAction(LIST_ID,loginCol);
    searchAction.useDefaultShowAllAction();
    metadata.setSearchAction(searchAction);
  }
  return new CmsHtmlList(LIST_ID,Messages.get().container(Messages.GUI_USERS_LIST_NAME_0),metadata);
}
