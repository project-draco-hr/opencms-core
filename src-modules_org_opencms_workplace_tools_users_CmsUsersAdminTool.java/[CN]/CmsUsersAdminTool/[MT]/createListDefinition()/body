{
  CmsListMetadata metadata=new CmsListMetadata();
  CmsHtmlList list=new CmsHtmlList("users","${key." + Messages.GUI_USERS_LIST_NAME_0 + "}",metadata);
  metadata.addIndependentAction(new CmsListIndependentAction(list,LIST_ACTION_REFRESH,"${key." + Messages.GUI_USERS_LIST_ACTION_REFRESH_NAME_0 + "}","list/reload.gif","${key." + Messages.GUI_USERS_LIST_ACTION_REFRESH_HELP_0 + "}",true,"${key." + Messages.GUI_USERS_LIST_ACTION_REFRESH_CONF_0 + "}"));
  CmsListColumnDefinition actionsCol=new CmsListColumnDefinition(LIST_COLUMN_ACTIONS,"${key." + Messages.GUI_USERS_LIST_COLS_ACTIONS_0 + "}","",CmsListColumnAlignEnum.CenterAlign);
  actionsCol.setSorteable(false);
  I_CmsListDirectAction activateUser=new ActivateUserAction(list,getCms());
  actionsCol.addDirectAction(activateUser);
  metadata.addColumn(actionsCol);
  CmsListColumnDefinition loginCol=new CmsListColumnDefinition(LIST_COLUMN_LOGIN,"${key." + Messages.GUI_USERS_LIST_COLS_LOGIN_0 + "}","",CmsListColumnAlignEnum.LeftAlign);
  loginCol.setDefaultAction(new CmsListDefaultAction(list,LIST_ACTION_EDIT,"${key." + Messages.GUI_USERS_LIST_ACTION_EDITUSER_NAME_0 + "}",null,"${key." + Messages.GUI_USERS_LIST_ACTION_EDITUSER_HELP_0 + "}",true,"${key." + Messages.GUI_USERS_LIST_ACTION_EDITUSER_CONF_0 + "}"));
  metadata.addColumn(loginCol);
  CmsListColumnDefinition nameCol=new CmsListColumnDefinition(LIST_COLUMN_NAME,"${key." + Messages.GUI_USERS_LIST_COLS_USERNAME_0 + "}","",CmsListColumnAlignEnum.LeftAlign);
  metadata.addColumn(nameCol);
  CmsListColumnDefinition emailCol=new CmsListColumnDefinition(LIST_COLUMN_EMAIL,"${key." + Messages.GUI_USERS_LIST_COLS_EMAIL_0 + "}","",CmsListColumnAlignEnum.LeftAlign);
  metadata.addColumn(emailCol);
  CmsListColumnDefinition lastLoginCol=new CmsListColumnDefinition(LIST_COLUMN_LASTLOGIN,"${key." + Messages.GUI_USERS_LIST_COLS_LASTLOGIN_0 + "}","",CmsListColumnAlignEnum.LeftAlign);
  lastLoginCol.setFormatter(new CmsListMacroFormatter("${key." + Messages.GUI_USERS_LIST_LASTLOGIN_FORMAT_0 + "}"));
  metadata.addColumn(lastLoginCol);
  metadata.addMultiAction(new CmsListMultiAction(list,LIST_ACTION_DELETE,"${key." + Messages.GUI_USERS_LIST_ACTION_DELETE_NAME_0 + "}","list/delete.gif","${key." + Messages.GUI_USERS_LIST_ACTION_DELETE_HELP_0 + "}",true,"${key." + Messages.GUI_USERS_LIST_ACTION_DELETE_CONF_0 + "}"));
  metadata.addDirectMultiAction(activateUser);
  CmsSearchAction searchAction=new CmsSearchAction(list,loginCol.getId());
  searchAction.useDefaultShowAllAction();
  metadata.setSearchAction(searchAction);
  setList(list);
}
