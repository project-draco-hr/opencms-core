{
  super(JOptionPane.getFrameForComponent(component),title,true);
  m_controlPanel=controlComponent;
  m_cancelText=cancelText;
  m_okText=okText;
  Container contentPane=getContentPane();
  contentPane.setLayout(new BoxLayout(contentPane,BoxLayout.Y_AXIS));
  contentPane.add(m_controlPanel);
  addWindowListener(new WindowAdapter(){
    public void windowClosing(    final WindowEvent e){
      Window w=e.getWindow();
      w.setVisible(false);
    }
  }
);
  addComponentListener(new ComponentAdapter(){
    public void componentHidden(    final ComponentEvent e){
      Window w=(Window)e.getComponent();
      w.dispose();
    }
  }
);
  JPanel okCancelPanel=new JPanel();
  okCancelPanel.setLayout(new BoxLayout(okCancelPanel,BoxLayout.X_AXIS));
  okCancelPanel.add(Box.createHorizontalGlue());
  JButton ok=new JButton(m_okText);
  ok.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      m_returnValue=APPROVE_OPTION;
      setVisible(false);
    }
  }
);
  okCancelPanel.add(ok);
  okCancelPanel.add(Box.createHorizontalGlue());
  JButton cancel=new JButton(m_cancelText);
  cancel.addActionListener(new ActionListener(){
    public void actionPerformed(    final ActionEvent e){
      m_returnValue=CANCEL_OPTION;
      setVisible(false);
    }
  }
);
  okCancelPanel.add(cancel);
  okCancelPanel.add(Box.createHorizontalGlue());
  contentPane.add(okCancelPanel);
  setSize(new Dimension(300,200));
}
