{
  Map<CmsUUID,CmsElementView> viewMap=OpenCms.getADEManager().getElementViews(A_CmsUI.getCmsObject());
  List<CmsElementView> viewList=new ArrayList<CmsElementView>(viewMap.values());
  Collections.sort(viewList,new Comparator<CmsElementView>(){
    public int compare(    CmsElementView arg0,    CmsElementView arg1){
      return ComparisonChain.start().compare(arg0.getOrder(),arg1.getOrder()).result();
    }
  }
);
  m_viewSelector.setItemCaptionMode(ItemCaptionMode.EXPLICIT);
  for (  CmsElementView view : viewList) {
    if (view.hasPermission(A_CmsUI.getCmsObject(),m_folderResource)) {
      m_viewSelector.addItem(view.getId());
      m_viewSelector.setItemCaption(view.getId(),view.getTitle(A_CmsUI.getCmsObject(),A_CmsUI.get().getLocale()));
    }
  }
  if (m_viewSelector.getItem(startView) == null) {
    startView=CmsUUID.getNullUUID();
  }
  m_viewSelector.addValueChangeListener(new ValueChangeListener(){
    private static final long serialVersionUID=1L;
    public void valueChange(    ValueChangeEvent event){
      try {
        init((CmsUUID)(event.getProperty().getValue()),true);
        VaadinService.getCurrentRequest().getWrappedSession().setAttribute(SETTING_STANDARD_VIEW,(event.getProperty().getValue()));
      }
 catch (      CmsException e) {
        e.printStackTrace();
      }
    }
  }
);
  return startView;
}
