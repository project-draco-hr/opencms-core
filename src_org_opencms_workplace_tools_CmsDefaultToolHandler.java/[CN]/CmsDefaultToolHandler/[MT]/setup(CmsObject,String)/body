{
  CmsJspNavElement navElem=CmsJspNavBuilder.getNavigationForResource(cms,resourcePath);
  String name=navElem.getNavText();
  if (CmsMessages.isUnknownKey(name)) {
    name=navElem.getTitle();
  }
  if (CmsStringUtil.isEmpty(name)) {
    name="${key." + Messages.GUI_TOOLS_DEFAULT_NAME_0 + "}";
  }
  setName(name);
  String iconPath=navElem.getNavImage();
  if (CmsStringUtil.isEmpty(iconPath)) {
    iconPath="${key." + Messages.GUI_TOOLS_DEFAULT_ICON_0 + "}";
  }
  String smallIconPath=null;
  if (iconPath.indexOf(C_VALUE_SEPARATOR) < 0) {
    smallIconPath=iconPath;
  }
 else {
    smallIconPath=iconPath.substring(iconPath.indexOf(C_VALUE_SEPARATOR) + 1);
    iconPath=iconPath.substring(0,iconPath.indexOf(C_VALUE_SEPARATOR));
  }
  setIconPath(iconPath);
  setSmallIconPath(smallIconPath);
  String helpText=navElem.getDescription();
  if (CmsStringUtil.isEmpty(helpText)) {
    helpText="${key." + Messages.GUI_TOOLS_DEFAULT_HELP_0 + "}";
  }
  setHelpText(helpText);
  String group=navElem.getInfo();
  if (CmsStringUtil.isEmpty(group)) {
    group="${key." + Messages.GUI_TOOLS_DEFAULT_GROUP_0 + "}";
  }
  setLink(resourcePath);
  String path=resourcePath;
  try {
    cms.readFolder(resourcePath);
    if (path.endsWith(CmsToolManager.C_TOOLPATH_SEPARATOR)) {
      path=path.substring(0,path.lastIndexOf(CmsToolManager.C_TOOLPATH_SEPARATOR));
    }
    setLink(CmsToolManager.C_VIEW_JSPPAGE_LOCATION);
    CmsProperty prop=cms.readPropertyObject(path,I_CmsConstants.C_PROPERTY_DEFAULT_FILE,true);
    if (!prop.isNullProperty()) {
      String defFile=prop.getValue();
      if (defFile.startsWith(CmsToolManager.C_TOOLPATH_SEPARATOR)) {
        cms.readResource(defFile);
        setLink(defFile);
      }
 else {
        defFile=path + CmsToolManager.C_TOOLPATH_SEPARATOR + defFile;
        cms.readResource(defFile);
        setLink(defFile);
      }
    }
  }
 catch (  CmsException e) {
  }
  path=resourcePath.substring(CmsToolManager.C_ADMINTOOLS_ROOT_LOCATION.length(),resourcePath.lastIndexOf(CmsToolManager.C_TOOLPATH_SEPARATOR));
  setPath(path);
  setGroup(group);
  setPosition(navElem.getNavPosition());
}
