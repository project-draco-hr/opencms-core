{
  if (getSettings().getExplorerShowLinks()) {
    try {
      return getCms().readSiblings(resource,CmsResourceFilter.ALL);
    }
 catch (    CmsException e) {
      if (LOG.isInfoEnabled()) {
        LOG.info(e);
      }
      return Collections.EMPTY_LIST;
    }
  }
 else   if (VIEW_LIST.equals(getSettings().getExplorerMode())) {
    I_CmsResourceCollector collector=getSettings().getCollector();
    if (collector != null) {
      try {
        return collector.getResults(getCms());
      }
 catch (      CmsException e) {
        if (LOG.isInfoEnabled()) {
          LOG.info(e);
        }
      }
    }
    return Collections.EMPTY_LIST;
  }
 else   if (VIEW_GALLERY.equals(getSettings().getExplorerMode())) {
    A_CmsGallery gallery=A_CmsGallery.createInstance(getSettings().getGalleryType(),getJsp());
    return gallery.getGalleries();
  }
 else {
    try {
      return getCms().getResourcesInFolder(resource,CmsResourceFilter.ONLY_VISIBLE);
    }
 catch (    CmsException e) {
      if (LOG.isInfoEnabled()) {
        LOG.info(e);
      }
      return Collections.EMPTY_LIST;
    }
  }
}
