{
  String navMap="";
  int startLevel=1;
  int endLevel=2;
  CmsXmlTemplateFile template=(CmsXmlTemplateFile)doc;
  if (!template.hasData("naventry")) {
    return "".getBytes();
  }
  if (!template.hasData("navcurrent")) {
    template.setData("navcurrent",template.getData("naventry"));
  }
  if (!"".equals(tagcontent)) {
    int commaIndex=tagcontent.indexOf(",");
    if (commaIndex != -1 && tagcontent.length() >= 3) {
      try {
        startLevel=Integer.parseInt(tagcontent.substring(0,commaIndex));
        endLevel=Integer.parseInt(tagcontent.substring(commaIndex + 1));
      }
 catch (      Exception e) {
        startLevel=1;
        endLevel=2;
      }
    }
  }
  int recursion=endLevel - startLevel;
  String currentFolder=extractFolder(cms,startLevel,"false");
  navMap=this.buildMap(cms,doc,userObject,currentFolder,"naventry",0,recursion).toString();
  return navMap.getBytes();
}
