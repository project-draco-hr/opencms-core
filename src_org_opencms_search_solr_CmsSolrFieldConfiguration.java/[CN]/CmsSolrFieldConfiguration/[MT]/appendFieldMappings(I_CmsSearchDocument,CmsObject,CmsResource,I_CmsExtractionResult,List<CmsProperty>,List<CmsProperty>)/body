{
  Set<CmsSearchField> mappedFields=getXSDMappings(cms,resource);
  if (mappedFields != null) {
    for (    CmsSearchField field : mappedFields) {
      document=appendFieldMapping(document,field,cms,resource,extractionResult,properties,propertiesSearched);
    }
  }
  if (CmsResourceTypeXmlContainerPage.isContainerPage(resource)) {
    document=appendFieldMappingsFromElementsOnThePage(document,cms,resource);
  }
  for (  CmsSolrField field : m_solrFields.values()) {
    document=appendFieldMapping(document,field,cms,resource,extractionResult,properties,propertiesSearched);
  }
  return document;
}
