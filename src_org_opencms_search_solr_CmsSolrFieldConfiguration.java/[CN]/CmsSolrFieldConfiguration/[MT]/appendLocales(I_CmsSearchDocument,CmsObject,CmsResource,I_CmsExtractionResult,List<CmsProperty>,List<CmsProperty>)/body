{
  String localesAsString=extraction.getContentItems().get(I_CmsSearchField.FIELD_RESOURCE_LOCALES);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(localesAsString)) {
    document.addResourceLocales(CmsStringUtil.splitAsList(localesAsString,' '));
  }
 else {
    List<String> localesAsList=new ArrayList<String>();
    List<Locale> locales=OpenCms.getLocaleManager().getDefaultLocales(cms,resource);
    for (    Locale locale : locales) {
      localesAsList.add(locale.toString());
    }
    document.addResourceLocales(localesAsList);
  }
  return super.appendLocales(document,cms,resource,extraction,properties,propertiesSearched);
}
