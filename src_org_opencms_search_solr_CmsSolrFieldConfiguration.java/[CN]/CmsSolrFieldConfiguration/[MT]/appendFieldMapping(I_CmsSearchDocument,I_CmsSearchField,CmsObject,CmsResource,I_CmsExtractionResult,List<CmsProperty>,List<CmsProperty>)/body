{
  CmsSolrField field=(CmsSolrField)sfield;
  try {
    CmsObject clone=OpenCms.initCmsObject(cms);
    clone.getRequestContext().setLocale(field.getLocale());
    StringBuffer text=new StringBuffer();
    for (    I_CmsSearchFieldMapping mapping : field.getMappings()) {
      if (extractionResult != null) {
        String mapResult=null;
        if ((field.getLocale() != null) && mapping.getType().equals(CmsSearchFieldMappingType.CONTENT)) {
          String key=A_CmsSearchFieldConfiguration.getLocaleExtendedName(I_CmsSearchField.FIELD_CONTENT,field.getLocale());
          mapResult=extractionResult.getContentItems().get(key);
        }
 else {
          mapResult=mapping.getStringValue(clone,resource,extractionResult,properties,propertiesSearched);
        }
        if (mapResult != null) {
          if (text.length() > 0) {
            text.append('\n');
          }
          text.append(mapResult);
        }
 else         if (mapping.getDefaultValue() != null) {
          text.append("\n" + mapping.getDefaultValue());
        }
      }
    }
    if ((text.length() <= 0) && (field.getDefaultValue() != null)) {
      text.append(field.getDefaultValue());
    }
    if (text.length() > 0) {
      document.addSearchField(field,text.toString());
    }
  }
 catch (  CmsException e) {
    LOG.debug(e);
  }
  return document;
}
