{
  StringBuffer result=new StringBuffer();
  List taskdocs=new Vector();
  CmsTaskLog tasklog;
  CmsXmlWpTemplateFile template=getTaskDocuDefinitions(cms);
  String taskId=(String)parameters.get("taskid");
  if (taskId != null) {
    int id=new Integer(taskId).intValue();
    taskdocs=cms.readTaskLogs(id);
  }
  for (int i=1; i <= taskdocs.size(); i++) {
    tasklog=(CmsTaskLog)taskdocs.get(taskdocs.size() - i);
    int type=tasklog.getType();
    if (type >= 100) {
      java.sql.Timestamp time=tasklog.getStartTime();
      template.setData("DATE",CmsDateUtil.getDateTimeShort(time.getTime()));
      CmsUser user=cms.readOwner(tasklog);
      template.setData("USER",CmsUser.getFullName(user));
      template.setData("MESSAGE",addBrTags(tasklog.getComment()));
      template.setData("ICON",template.getProcessedDataValue("ICON" + type,callingObject,parameters));
      template.setData("HEADLINE",lang.getLanguageValue("task.headline.m" + type));
      result.append(template.getProcessedDataValue("LISTENTRY",callingObject,parameters));
      result.append(template.getProcessedDataValue("LISTSEPETATOR",callingObject,parameters));
    }
  }
  return result.toString();
}
