{
  StringBuffer result=new StringBuffer();
  Vector taskdocs=new Vector();
  CmsTaskLog tasklog;
  CmsXmlWpTemplateFile template=getTaskDocuDefinitions(cms);
  String taskId=(String)parameters.get("taskid");
  if (taskId != null) {
    int id=new Integer(taskId).intValue();
    taskdocs=cms.readTaskLogs(id);
  }
  for (int i=1; i <= taskdocs.size(); i++) {
    tasklog=(CmsTaskLog)taskdocs.elementAt(taskdocs.size() - i);
    int type=tasklog.getType();
    if (type >= 100) {
      java.sql.Timestamp time=tasklog.getStartTime();
      template.setXmlData("DATE",Utils.getNiceDate(time.getTime()));
      A_CmsUser user=cms.readOwner(tasklog);
      template.setXmlData("USER",user.getFirstname() + " " + user.getLastname()+ "("+ user.getName()+ ")");
      template.setXmlData("MESSAGE",tasklog.getComment());
      template.setXmlData("ICON",template.getProcessedXmlDataValue("ICON" + type,callingObject,parameters));
      template.setXmlData("HEADLINE",lang.getLanguageValue("task.headline.m" + type));
      result.append(template.getProcessedXmlDataValue("LISTENTRY",callingObject,parameters));
      result.append(template.getProcessedXmlDataValue("LISTSEPETATOR",callingObject,parameters));
    }
  }
  return result.toString();
}
