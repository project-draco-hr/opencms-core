{
  if (resource == null) {
    if (m_missingUrisOffline == null) {
      init();
    }
    try {
      CmsSiteEntryBean entry=getUri(cms,req);
      if (entry != null) {
        resource=cms.readResource(entry.getResourceId());
        req.setAttribute(CmsADEManager.ATTR_CURRENT_ELEMENT,new CmsSiteEntryBean(entry.getResourceId(),entry.getName(),entry.getTitle(),entry.getProperties(),null));
      }
    }
 catch (    Throwable e) {
      String uri=cms.getRequestContext().getUri();
      CmsMessageContainer msg=Messages.get().container(Messages.ERR_SITEMAP_1,uri);
      if (LOG.isErrorEnabled()) {
        LOG.error(msg.key(),e);
      }
      throw new CmsResourceInitException(msg,e);
    }
  }
  return resource;
}
