{
  FileOutputStream fOut=null;
  if (newFile.exists()) {
    throw new CmsException("[" + this.getClass().getName() + "] "+ newFile.getName()+ " already exists on filesystem.");
  }
  try {
    if (this.createDirectories(newFile)) {
      fOut=new FileOutputStream(newFile);
    }
 else {
      throw new CmsException("[" + this.getClass().getName() + "]"+ " Cannot create directories for "+ newFile.getName()+ ".");
    }
  }
 catch (  IOException e) {
    throw new CmsException("[" + this.getClass().getName() + "]"+ " Cannot create file "+ newFile.getName()+ " on filesystem.",e);
  }
 finally {
    if (fOut != null) {
      try {
        fOut.close();
      }
 catch (      IOException e) {
      }
    }
  }
}
