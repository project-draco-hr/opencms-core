{
  CmsFlexController controller=(CmsFlexController)req.getAttribute(CmsFlexController.ATTRIBUTE_NAME);
  if (DEBUG > 0) {
    System.err.println("propertyTagAction() called!\nproperty=" + property + "\naction="+ action+ "\ndefaultValue="+ defaultValue+ "\nescape="+ escape);
    System.err.println("propertyTagAction() request URI=" + controller.getCmsObject().getRequestContext().getUri());
  }
  String value;
  if (action == null) {
    action=ACTION_VALUES[0];
  }
switch (ACTION_VALUES_LIST.indexOf(action)) {
case 0:
case 1:
    value=controller.getCmsObject().readPropertyObject(controller.getCmsObject().getRequestContext().getUri(),property,false).getValue(defaultValue);
  break;
case 2:
case 3:
case 4:
value=controller.getCmsObject().readPropertyObject(controller.getCmsObject().getRequestContext().getUri(),property,true).getValue(defaultValue);
break;
case 5:
case 6:
value=controller.getCmsObject().readPropertyObject(controller.getCurrentRequest().getElementUri(),property,false).getValue(defaultValue);
break;
case 7:
case 8:
value=controller.getCmsObject().readPropertyObject(controller.getCurrentRequest().getElementUri(),property,true).getValue(defaultValue);
break;
default :
value=controller.getCmsObject().readPropertyObject(CmsLinkManager.getAbsoluteUri(action,controller.getCurrentRequest().getElementUri()),property,false).getValue(defaultValue);
}
if (escape) {
value=CmsEncoder.escapeHtml(value);
}
if (DEBUG > 0) {
System.err.println("propertyTagAction(): result=" + value);
}
return value;
}
