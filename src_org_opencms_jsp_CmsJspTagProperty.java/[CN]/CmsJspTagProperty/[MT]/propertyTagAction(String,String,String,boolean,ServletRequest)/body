{
  CmsFlexController controller=CmsFlexController.getController(req);
  if (action == null) {
    action=ACTION_VALUES[0];
  }
  String value;
  String vfsUri;
  boolean search;
switch (ACTION_VALUES_LIST.indexOf(action)) {
case 0:
case 1:
    vfsUri=controller.getCmsObject().getRequestContext().getUri();
  search=false;
break;
case 2:
case 3:
case 4:
vfsUri=controller.getCmsObject().getRequestContext().getUri();
search=true;
break;
case 5:
case 6:
vfsUri=controller.getCurrentRequest().getElementUri();
search=false;
break;
case 7:
case 8:
vfsUri=controller.getCurrentRequest().getElementUri();
search=true;
break;
default :
vfsUri=CmsLinkManager.getAbsoluteUri(action,controller.getCurrentRequest().getElementUri());
search=false;
}
value=controller.getCmsObject().readPropertyObject(vfsUri,property,search).getValue(defaultValue);
if (escape) {
value=CmsEncoder.escapeHtml(value);
}
return value;
}
