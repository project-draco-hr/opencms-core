{
  Vector names2=new Vector();
  Vector values2=new Vector();
  getConstantSelectEntries(names2,values2,CmsMSDHtmlEditor.SELECTBOX_EDITORVIEWS,lang);
  int browserId;
  CmsRequestContext reqCont=cms.getRequestContext();
  HttpServletRequest orgReq=CmsXmlTemplateLoader.getRequest(reqCont).getOriginalRequest();
  String browser=orgReq.getHeader("user-agent");
  if (browser.indexOf("MSIE") > -1) {
    browserId=0;
  }
 else {
    browserId=1;
  }
  int loop=1;
  int allowedEditors=CmsMSDHtmlEditor.SELECTBOX_EDITORVIEWS_ALLOWED[browserId];
  if (((String)parameters.get("body")).equals("script")) {
    allowedEditors=allowedEditors & 510;
  }
  for (int i=0; i < names2.size(); i++) {
    if ((allowedEditors & loop) > 0) {
      values.addElement(values2.elementAt(i));
      names.addElement(names2.elementAt(i));
    }
    loop<<=1;
  }
  int currentIndex=values.indexOf(parameters.get("editor"));
  return new Integer(currentIndex);
}
