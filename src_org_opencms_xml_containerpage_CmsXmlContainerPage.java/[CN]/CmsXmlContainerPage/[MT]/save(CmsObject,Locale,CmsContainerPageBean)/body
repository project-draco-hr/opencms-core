{
  CmsFile file=getFile();
  cms.lockResourceTemporary(cms.getSitePath(file));
  CmsContainerPageBean savePage=addUnusedContainers(cms,locale,cntPage);
  if (hasLocale(locale)) {
    removeLocale(locale);
  }
  addLocale(cms,locale);
  Element parent=getLocaleNode(locale);
  saveCntPage(cms,parent,savePage);
  initDocument(m_document,m_encoding,m_contentDefinition);
  file.setContents(marshal());
  cms.writeFile(file);
}
