{
  System.out.println(new Exception().getStackTrace()[0].toString());
  List elements=new ArrayList();
  elements.add("CMS_HISTORY_PROPERTYDEF");
  if (isKeepHistory()) {
    elements.add("CMS_HISTORY_PROJECTRESOURCES");
    elements.add("CMS_HISTORY_PROPERTIES");
    elements.add("CMS_HISTORY_RESOURCES");
    elements.add("CMS_HISTORY_STRUCTURE");
  }
  for (Iterator it=elements.iterator(); it.hasNext(); ) {
    String table=(String)it.next();
    System.out.println("Updating table " + table);
    if (dbCon.hasTableOrColumn(table,null)) {
      HashMap replacer=new HashMap();
      replacer.put(REPLACEMENT_TABLENAME,table);
      ResultSet set=dbCon.executeSqlStatement(readQuery(QUERY_SELECT_COUNT_HISTORY_TABLE),replacer);
      boolean update=false;
      if (set.next()) {
        if (set.getInt("COUNT") <= 0) {
          update=true;
        }
      }
      set.close();
      if (update) {
        String query=readQuery(table);
        dbCon.updateSqlStatement(query,null,null);
      }
 else {
        System.out.println("table " + table + " already has data");
      }
    }
 else {
      System.out.println("table " + table + " does not exists");
    }
  }
}
