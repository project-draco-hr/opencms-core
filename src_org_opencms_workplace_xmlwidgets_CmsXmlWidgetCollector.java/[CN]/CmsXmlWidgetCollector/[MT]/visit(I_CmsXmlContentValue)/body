{
  if (m_log.isDebugEnabled()) {
    m_log.debug("Visiting " + value.getPath());
  }
  if (value.isSimpleType()) {
    boolean useLocale=m_locale != null;
    if ((useLocale && value.getLocale() == getLocale()) || (!useLocale)) {
      try {
        I_CmsXmlWidget widget=value.getContentDefinition().getContentHandler().getWidget(value);
        if (!m_uniqueWidgets.contains(widget)) {
          m_uniqueWidgets.add(widget);
        }
        m_widgets.put(value,widget);
      }
 catch (      CmsXmlException e) {
        if (m_log.isErrorEnabled()) {
          m_log.error("Could not access widget for content value " + value,e);
        }
      }
    }
  }
}
