{
  TransformerFactory factory=TransformerFactory.newInstance();
  InputStream stylesheet=new ByteArrayInputStream(getCms().readFile(xsltFile).getContents());
  Transformer transformer=factory.newTransformer(new StreamSource(stylesheet));
  Document document=DocumentHelper.parseText(xmlContent);
  DocumentSource source=new DocumentSource(document);
  DocumentResult streamResult=new DocumentResult();
  transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
  transformer.setOutputProperty(OutputKeys.METHOD,"xml");
  transformer.setOutputProperty(OutputKeys.ENCODING,"ISO-8859-1");
  transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount","4");
  transformer.setOutputProperty(OutputKeys.INDENT,"yes");
  transformer.transform(source,streamResult);
  String result=streamResult.getDocument().asXML();
  return result;
}
