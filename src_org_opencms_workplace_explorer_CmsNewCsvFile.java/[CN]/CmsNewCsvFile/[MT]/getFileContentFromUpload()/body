{
  byte[] content;
  Iterator i=getMultiPartFileItems().iterator();
  FileItem fi=null;
  while (i.hasNext()) {
    fi=(FileItem)i.next();
    if (fi.getName() != null) {
      break;
    }
 else {
      continue;
    }
  }
  if (fi != null) {
    long size=fi.getSize();
    if (size == 0) {
      throw new CmsException("Upload file not found");
    }
    long maxFileSizeBytes=OpenCms.getWorkplaceManager().getFileBytesMaxUploadSize(getCms());
    if (maxFileSizeBytes > 0 && size > maxFileSizeBytes) {
      throw new CmsException("File size larger than maximum allowed upload size, currently set to " + (maxFileSizeBytes / 1024) + " kb");
    }
    content=fi.get();
    fi.delete();
    setParamResource(fi.getName());
  }
 else {
    throw new FileNotFoundException("Upload file not found");
  }
  return content;
}
