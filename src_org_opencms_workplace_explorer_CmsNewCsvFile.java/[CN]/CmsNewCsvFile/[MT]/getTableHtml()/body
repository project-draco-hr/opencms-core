{
  String csvData=getParamCsvContent();
  String lineSeparator=System.getProperty("line.separator");
  String formatString=csvData.substring(0,csvData.indexOf(lineSeparator));
  String delimiter=getParamDelimiter();
  StringBuffer xml=new StringBuffer("<table>");
  if (isFormattingInformation(formatString,delimiter)) {
    xml.append(getColGroup(formatString,delimiter));
    csvData=csvData.substring(formatString.length() + lineSeparator.length());
  }
  String line;
  BufferedReader br=new BufferedReader(new StringReader(csvData));
  while ((line=br.readLine()) != null) {
    xml.append("<tr>\n");
    String[] words=CmsStringUtil.splitAsArray(line,delimiter);
    for (int i=0; i < words.length; i++) {
      xml.append("\t<td>");
      if (words[i].startsWith(TAG_START_DELIMITER) && words[i].endsWith(TAG_END_DELIMITER)) {
        xml.append(removeStringDelimiters(words[i]));
      }
 else {
        xml.append(CmsStringUtil.escapeHtml(removeStringDelimiters(words[i])));
      }
      xml.append("</td>\n");
    }
    xml.append("</tr>\n");
  }
  return xml.append("</table>").toString();
}
