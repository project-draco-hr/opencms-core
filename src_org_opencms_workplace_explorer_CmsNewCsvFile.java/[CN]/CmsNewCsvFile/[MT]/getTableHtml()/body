{
  String csvData=getParamCsvContent();
  String lineSeparator=System.getProperty("line.separator");
  String formatString=csvData.substring(0,csvData.indexOf(lineSeparator));
  String delimiter=getParamDelimiter();
  int[] headerColSpan=null;
  StringBuffer xml=new StringBuffer("<table>");
  if (isFormattingInformation(formatString,delimiter)) {
    xml.append(getColGroup(formatString,delimiter));
    csvData=csvData.substring(formatString.length() + lineSeparator.length());
    headerColSpan=getColSpans(formatString,delimiter);
  }
  String line;
  BufferedReader br=new BufferedReader(new StringReader(csvData));
  if ((line=br.readLine()) != null) {
    xml.append("<tr>\n");
    String[] words=CmsStringUtil.splitAsArray(line,delimiter);
    for (int i=0; i < words.length; i++) {
      xml.append("\t<td align=\"center\"");
      if ((headerColSpan != null) && (headerColSpan.length > i) && (headerColSpan[i] > 1)) {
        xml.append(" colspan=\"").append(headerColSpan[i]).append("\"");
      }
      xml.append(">").append(toXmlBody(removeStringDelimiters(words[i]))).append("</td>\n");
    }
    xml.append("</tr>\n");
    while ((line=br.readLine()) != null) {
      xml.append("<tr>\n");
      words=CmsStringUtil.splitAsArray(line,delimiter);
      for (int i=0; i < words.length; i++) {
        xml.append("\t<td>").append(toXmlBody(removeStringDelimiters(words[i]))).append("</td>\n");
      }
      xml.append("</tr>\n");
    }
  }
  return xml.append("</table>").toString();
}
