{
  try {
    if (m_superFolders == null) {
      m_superFolders=new Vector();
    }
    Vector superFolders=new Vector();
    if (resourceName.lastIndexOf(I_CmsConstants.C_ROOT) != (resourceName.length() - 1)) {
      resourceName=resourceName.substring(0,resourceName.lastIndexOf(I_CmsConstants.C_ROOT) + 1);
    }
    while (resourceName.length() > I_CmsConstants.C_ROOT.length()) {
      superFolders.addElement(resourceName);
      resourceName=resourceName.substring(0,resourceName.length() - 1);
      resourceName=resourceName.substring(0,resourceName.lastIndexOf(I_CmsConstants.C_ROOT) + 1);
    }
    for (int i=superFolders.size() - 1; i >= 0; i--) {
      String addFolder=(String)superFolders.elementAt(i);
      if (!m_superFolders.contains(addFolder)) {
        CmsFolder folder=getCms().readFolder(addFolder,CmsResourceFilter.IGNORE_EXPIRATION);
        appendResourceToManifest(folder,false);
        m_superFolders.addElement(addFolder);
      }
    }
  }
 catch (  CmsImportExportException e) {
    throw e;
  }
catch (  CmsException e) {
    CmsMessageContainer message=Messages.get().container(Messages.ERR_IMPORTEXPORT_ERROR_ADDING_PARENT_FOLDERS_1,resourceName);
    if (LOG.isDebugEnabled()) {
      LOG.debug(message,e);
    }
    throw new CmsImportExportException(message,e);
  }
}
