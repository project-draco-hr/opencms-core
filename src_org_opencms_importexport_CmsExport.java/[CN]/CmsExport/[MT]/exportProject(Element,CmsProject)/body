{
  String users;
  try {
    users=getCms().readGroup(project.getGroupId()).getName();
  }
 catch (  CmsException e) {
    CmsMessageContainer message=org.opencms.db.Messages.get().container(org.opencms.db.Messages.ERR_READ_GROUP_FOR_ID_1,project.getGroupId());
    if (LOG.isDebugEnabled()) {
      LOG.debug(message.key(),e);
    }
    throw new CmsImportExportException(message,e);
  }
  String managers;
  try {
    managers=getCms().readGroup(project.getManagerGroupId()).getName();
  }
 catch (  CmsException e) {
    CmsMessageContainer message=org.opencms.db.Messages.get().container(org.opencms.db.Messages.ERR_READ_GROUP_FOR_ID_1,project.getManagerGroupId());
    if (LOG.isDebugEnabled()) {
      LOG.debug(message.key(),e);
    }
    throw new CmsImportExportException(message,e);
  }
  Element e=parent.addElement(CmsImportVersion7.N_PROJECT);
  e.addElement(CmsImportVersion7.N_NAME).addText(project.getSimpleName());
  e.addElement(CmsImportVersion7.N_DESCRIPTION).addCDATA(project.getDescription());
  e.addElement(CmsImportVersion7.N_USERSGROUP).addText(users);
  e.addElement(CmsImportVersion7.N_MANAGERSGROUP).addText(managers);
  Element resources=e.addElement(CmsImportVersion7.N_RESOURCES);
  try {
    Iterator it=getCms().readProjectResources(project).iterator();
    while (it.hasNext()) {
      String resName=(String)it.next();
      resources.addElement(CmsImportVersion7.N_RESOURCE).addText(resName);
    }
  }
 catch (  CmsException exc) {
    CmsMessageContainer message=org.opencms.db.Messages.get().container(org.opencms.db.Messages.ERR_READ_PROJECT_RESOURCES_2,project.getName(),project.getUuid());
    if (LOG.isDebugEnabled()) {
      LOG.debug(message.key(),exc);
    }
    throw new CmsImportExportException(message,exc);
  }
  digestElement(parent,e);
}
