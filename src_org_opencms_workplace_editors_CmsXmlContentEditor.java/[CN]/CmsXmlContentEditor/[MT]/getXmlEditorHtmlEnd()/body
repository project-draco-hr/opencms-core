{
  StringBuffer result=new StringBuffer(128);
  try {
    Locale locale=getElementLocale();
    List typeSequence=m_content.getContentDefinition().getTypeSequence();
    Iterator i=typeSequence.iterator();
    while (i.hasNext()) {
      I_CmsXmlSchemaType type=(I_CmsXmlSchemaType)i.next();
      String name=type.getElementName();
      CmsXmlContentValueSequence elementSequence=m_content.getValueSequence(name,locale);
      int elementCount=elementSequence.getElementCount();
      for (int j=0; j < elementCount; j++) {
        I_CmsXmlContentValue value=elementSequence.getValue(j);
        I_CmsXmlWidget widget=m_content.getContentDefinition().getContentHandler().getEditorWidget(value);
        result.append(widget.getDialogHtmlEnd(getCms(),this,value));
      }
    }
  }
 catch (  CmsXmlException e) {
    showErrorPage(e,"xml");
  }
  return result.toString();
}
