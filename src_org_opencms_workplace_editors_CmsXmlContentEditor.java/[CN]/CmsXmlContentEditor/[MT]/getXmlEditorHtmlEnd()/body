{
  StringBuffer result=new StringBuffer(128);
  try {
    Locale locale=getElementLocale();
    List typeSequence=m_contentDefinition.getTypeSequence();
    Iterator i=typeSequence.iterator();
    while (i.hasNext()) {
      I_CmsXmlSchemaType type=(I_CmsXmlSchemaType)i.next();
      String name=type.getElementName();
      int count=m_content.getIndexCount(name,locale);
      for (int j=0; j < count; j++) {
        I_CmsXmlContentValue value=m_content.getValue(name,locale,j);
        I_CmsXmlWidget widget=m_contentDefinition.getContentHandler().getEditorWidget(value,m_contentDefinition);
        result.append(widget.getDialogHtmlEnd(getCms(),this,m_contentDefinition,value));
      }
    }
  }
 catch (  CmsXmlException e) {
    showErrorPage(e,"xml");
  }
  return result.toString();
}
