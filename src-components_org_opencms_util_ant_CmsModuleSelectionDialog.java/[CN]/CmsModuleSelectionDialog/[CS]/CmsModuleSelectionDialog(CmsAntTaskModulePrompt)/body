{
  super((JFrame)null,"Module Selection",true);
  m_modulePrompt=modulePrompt;
  m_allList=m_modulePrompt.getAllModules().split(CmsAntTaskModulePrompt.LIST_SEPARATOR);
  m_defList=getDefaultList();
  m_modules=new JCheckBox[m_modulePrompt.getAllModules().split(CmsAntTaskModulePrompt.LIST_SEPARATOR).length];
  addWindowListener(new WindowAdapter(){
    public void windowClosed(    WindowEvent e){
      m_aborted=true;
      hide();
    }
  }
);
  getRootPane().setDefaultButton(m_ok);
  m_prompt.setBorder(m_border);
  getContentPane().add(m_prompt,BorderLayout.NORTH);
  m_view.setBorder(m_border);
  m_content.setLayout(new GridLayout(m_modules.length,1));
  for (int i=0; i < m_modules.length; i++) {
    m_modules[i]=new JCheckBox(m_allList[i].trim(),firstPositionOfItemInArray(m_defList,m_allList[i]) != -1);
    m_content.add(m_modules[i]);
  }
  getContentPane().add(m_view,BorderLayout.CENTER);
  m_buttons.setBorder(BorderFactory.createEmptyBorder(BORDER_SIZE,BORDER_SIZE,BORDER_SIZE / 2,BORDER_SIZE));
  m_ok.addActionListener(this);
  m_buttons.add(m_ok);
  m_cancel.addActionListener(this);
  m_buttons.add(m_cancel);
  getContentPane().add(m_buttons,BorderLayout.SOUTH);
  pack();
}
