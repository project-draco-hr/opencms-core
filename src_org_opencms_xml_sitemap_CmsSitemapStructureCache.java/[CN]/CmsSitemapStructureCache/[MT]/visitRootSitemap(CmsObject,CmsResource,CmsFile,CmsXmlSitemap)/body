{
  Map<String,CmsXmlContentProperty> propDefs=getPropertyConfig(cms,sitemapFile);
  CmsSite site=OpenCms.getSiteManager().getSiteForRootPath(sitemapFile.getRootPath());
  CmsADEDefaultConfiguration conf=new CmsADEDefaultConfiguration();
  String exportName=conf.getExportName(cms,cms.getSitePath(sitemapFile));
  if (exportName != null) {
    addExportName(site.getSiteRoot(),exportName);
  }
  for (  Locale locale : xmlSitemap.getLocales()) {
    addActiveSitemap(locale,entryPoint.getRootPath(),sitemapFile.getRootPath());
    CmsSitemapBean locSitemap=internalGetSitemap(cms,xmlSitemap,locale);
    CmsInternalSitemapEntry startEntry=locSitemap.getSiteEntries().get(0);
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(startEntry.getName())) {
      startEntry.removeName();
    }
    CmsPropertyInheritanceState propState=new CmsPropertyInheritanceState(propDefs);
    visitEntry(cms,startEntry,locale,entryPoint.getRootPath(),true,0,propState);
  }
}
