{
  String subSitemapId=entry.getProperties().get(CmsSitemapManager.Property.sitemap.name());
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(subSitemapId)) {
    return entry.getSubEntries();
  }
  try {
    CmsResource subSitemap=internalReadResource(cms,subSitemapId);
    CmsXmlSitemap sitemapXml=internalUnmarshalSitemapResource(cms,subSitemap);
    CmsSitemapBean sitemap=internalGetSitemap(cms,sitemapXml,locale);
    if (sitemap == null) {
      entry.setSubEntries(new ArrayList<CmsInternalSitemapEntry>());
      return entry.getSubEntries();
    }
    entry.setSubEntries(sitemap.getSiteEntries());
  }
 catch (  CmsException e) {
    LOG.error("Can't read sub-sitemap:");
    LOG.error(e.getLocalizedMessage(),e);
  }
  return entry.getSubEntries();
}
