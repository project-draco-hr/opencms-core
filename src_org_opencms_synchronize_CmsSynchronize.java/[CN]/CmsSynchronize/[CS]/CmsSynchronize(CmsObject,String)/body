{
  m_cms=cms;
  if (m_synchronizeModifications == null) {
    m_synchronizeModifications=cms.getRegistry().getSynchronizeModifications();
  }
  m_synchronizePath=m_cms.getRegistry().getSystemValue(I_CmsConstants.C_SYNCHRONISATION_PATH);
  if (m_synchronizePath.endsWith(File.separator)) {
    m_synchronizePath=m_synchronizePath.substring(0,m_synchronizePath.length() - 1);
  }
  m_resourcePath=resourcePath;
  if ((m_resourcePath != null) && (m_synchronizePath != null)) {
    m_syncList=readSyncList();
    m_newSyncList=new HashMap();
    m_errorList=new HashMap();
    syncVfsFs(m_resourcePath);
    removeFromFs(m_synchronizePath);
    copyFromFs(m_resourcePath);
    writeSyncList();
    m_syncList=null;
    m_newSyncList=null;
    m_errorList=null;
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ "Error during synchronization, cannot initialize sync process.");
  }
}
