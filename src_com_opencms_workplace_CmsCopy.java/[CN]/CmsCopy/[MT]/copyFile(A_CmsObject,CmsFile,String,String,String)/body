{
  cms.copyFile(file.getAbsolutePath(),newFolder + newFile);
  if ((cms.getResourceType(file.getType()).getResourceName()).equals(C_TYPE_PAGE_NAME)) {
    String bodyPath=getBodyPath(cms,(CmsFile)file);
    int help=C_CONTENTBODYPATH.lastIndexOf("/");
    String hbodyPath=(C_CONTENTBODYPATH.substring(0,help)) + (file.getAbsolutePath());
    if (hbodyPath.equals(bodyPath)) {
      String contentPath=newFolder + newFile;
      contentPath=contentPath.substring(0,contentPath.lastIndexOf("/") + 1);
      checkFolders(cms,contentPath);
      String newbodyPath=(C_CONTENTBODYPATH.substring(0,help)) + newFolder + newFile;
      CmsFile newContent=cms.readFile(newFolder + newFile);
      changeContent(cms,newContent,newbodyPath);
      cms.copyFile(bodyPath,newbodyPath);
    }
 else {
    }
  }
  CmsFile newfile=cms.readFile(newFolder,newFile);
  checkFlags(cms,newfile.getAbsolutePath(),flags);
}
