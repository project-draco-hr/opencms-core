{
  JSONObject result=new JSONObject();
  Iterator itLocales=content.getLocales().iterator();
  while (itLocales.hasNext()) {
    Locale locale=(Locale)itLocales.next();
    JSONObject containerList=new JSONObject();
    Iterator itContainers=content.getValues(N_CONTAINER,locale).iterator();
    while (itContainers.hasNext()) {
      I_CmsXmlContentValue container=(I_CmsXmlContentValue)itContainers.next();
      String containerPath=container.getPath();
      String name=content.getValue(CmsXmlUtils.concatXpath(containerPath,N_NAME),locale).getStringValue(cms);
      String type=content.getValue(CmsXmlUtils.concatXpath(containerPath,N_TYPE),locale).getStringValue(cms);
      JSONObject containerBean=new JSONObject();
      containerBean.put(N_NAME,name);
      containerBean.put(N_TYPE,type);
      containerBean.put(N_MAXELEMENTS,-1);
      Iterator itElements=content.getValues(CmsXmlUtils.concatXpath(containerPath,N_ELEMENT),locale).iterator();
      while (itElements.hasNext()) {
        I_CmsXmlContentValue element=(I_CmsXmlContentValue)itElements.next();
        String elementPath=element.getPath();
        CmsLink link=((CmsXmlVfsFileValue)content.getValue(CmsXmlUtils.concatXpath(elementPath,N_URI),locale)).getLink(cms);
        String uri=link.getVfsUri();
        CmsUUID id=link.getStructureId();
        String formatter=content.getValue(CmsXmlUtils.concatXpath(elementPath,N_FORMATTER),locale).getStringValue(cms);
        JSONObject elemBean=new JSONObject();
        elemBean.put(N_ID,id.toString());
        elemBean.put(N_URI,uri);
        elemBean.put(N_FORMATTER,formatter);
        containerBean.append(N_ELEMENT,elemBean);
      }
      containerList.put(name,containerBean);
    }
    JSONObject localeData=new JSONObject();
    localeData.put(N_LOCALE,locale.toString());
    localeData.put(N_CONTAINER,containerList);
    result.put(locale.toString(),localeData);
  }
  return result;
}
