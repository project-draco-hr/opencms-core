{
  List resources=new ArrayList();
  if (modifySiblings) {
    resources=getCms().readSiblings(resName,CmsResourceFilter.IGNORE_EXPIRATION);
  }
 else {
    resources.add(getCms().readResource(resName,CmsResourceFilter.IGNORE_EXPIRATION));
  }
  Iterator i=resources.iterator();
  while (i.hasNext()) {
    CmsResource resource=(CmsResource)i.next();
    String resourcePath=getCms().getRequestContext().removeSiteRoot(resource.getRootPath());
    checkLock(resourcePath);
    if (!leaveRelease && !leaveExpire) {
      if (expireDate < releaseDate) {
        throw new CmsIllegalArgumentException(Messages.get().container(Messages.ERR_AVAILABILITY_BAD_TIMEWINDOW_0));
      }
    }
    if (!leaveRelease) {
      getCms().setDateReleased(resourcePath,releaseDate,modifyRecursive);
    }
    if (!leaveExpire) {
      getCms().setDateExpired(resourcePath,expireDate,modifyRecursive);
    }
    writeProperty(resourcePath,CmsPropertyDefinition.PROPERTY_NOTIFICATION_INTERVAL,getParamNotificationinterval());
    writeProperty(resourcePath,CmsPropertyDefinition.PROPERTY_ENABLE_NOTIFICATION,getParamEnablenotification());
  }
}
