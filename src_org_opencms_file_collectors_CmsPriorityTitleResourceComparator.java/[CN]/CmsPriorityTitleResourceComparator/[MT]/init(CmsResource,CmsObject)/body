{
  Map properties=null;
  try {
    properties=CmsProperty.toMap(cms.readPropertyObjects(cms.getRequestContext().removeSiteRoot(resource.getRootPath()),false));
  }
 catch (  CmsException e) {
    m_priority=0;
    m_title="";
    return;
  }
  try {
    m_priority=Integer.parseInt((String)properties.get(CmsPriorityResourceCollector.C_PROPERTY_PRIORITY));
  }
 catch (  NumberFormatException e) {
    m_priority=CmsPriorityResourceCollector.C_PRIORITY_STANDARD;
  }
  m_title=(String)properties.get(CmsPropertyDefinition.PROPERTY_TITLE);
  if (CmsStringUtil.isEmpty(m_title)) {
    m_title="";
  }
}
