{
  List newProperties;
  if (properties == null) {
    newProperties=new ArrayList();
  }
 else {
    newProperties=new ArrayList(properties);
  }
  newProperties.addAll(createPropertyObjects(cms));
  return securityManager.createResource(cms.getRequestContext(),cms.getRequestContext().addSiteRoot(resourcename),getTypeId(),content,newProperties);
}
