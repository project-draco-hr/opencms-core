{
  Iterator i=m_copyResources.iterator();
  while (i.hasNext()) {
    CmsConfigurationCopyResource copyResource=(CmsConfigurationCopyResource)i.next();
    String target=copyResource.getTarget();
    if (copyResource.isTargetWasNull() || target.equals(CmsMacroResolver.formatMacro(MACRO_RESOURCE_FOLDER_PATH))) {
      target=target.concat(CmsResource.getName(copyResource.getSource()));
    }
    target=resolver.resolveMacros(target);
    target=CmsFileUtil.normalizePath(CmsLinkManager.getAbsoluteUri(target,resourcename),'/');
    try {
      cms.copyResource(copyResource.getSource(),target,copyResource.getType());
    }
 catch (    CmsException e) {
      String message="On resource " + resourcename + " unable to process copy resource "+ copyResource+ " target is "+ target;
      if (OpenCms.getLog(this).isDebugEnabled()) {
        OpenCms.getLog(this).debug(message,e);
      }
 else {
        OpenCms.getLog(this).error(message);
      }
    }
  }
}
