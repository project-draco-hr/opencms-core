{
  ByteArrayOutputStream out=new ByteArrayOutputStream(512);
  int c=0;
  while (c >= 0) {
    try {
      c=in.read();
      out.write(c);
    }
 catch (    IOException e) {
      c=-1;
    }
  }
  return extractText(out.toByteArray(),encoding);
}
