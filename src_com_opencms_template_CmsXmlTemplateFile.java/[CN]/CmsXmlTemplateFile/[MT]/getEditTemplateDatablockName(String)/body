{
  String templateDatablockName=null;
  if (templateSelector != null && !"".equals(templateSelector)) {
    if (hasData(C_EDIT_TEMPLATE + "." + templateSelector)) {
      templateDatablockName=C_EDIT_TEMPLATE + "." + templateSelector;
    }
 else {
      if (OpenCms.getLog(this).isDebugEnabled() && (!"script".equals(templateSelector))) {
        OpenCms.getLog(this).debug("Cannot load selected template file section " + templateSelector + " in template file "+ getFilename()+ ", fallback to default section");
      }
    }
  }
  if (templateDatablockName == null && (!"script".equals(templateSelector))) {
    if (hasData(C_EDIT_TEMPLATE)) {
      templateDatablockName=C_EDIT_TEMPLATE;
    }
 else {
      if (hasData(C_EDIT_TEMPLATE + ".default")) {
        templateDatablockName=C_EDIT_TEMPLATE + ".default";
      }
 else {
        setData(C_EDIT_TEMPLATE,(String)null);
        templateDatablockName=C_EDIT_TEMPLATE;
      }
    }
  }
  return templateDatablockName;
}
