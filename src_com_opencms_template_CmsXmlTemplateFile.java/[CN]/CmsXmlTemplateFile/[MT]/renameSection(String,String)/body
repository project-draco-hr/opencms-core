{
  if (!hasData("template." + newName)) {
    if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_INFO,getClassName() + "datablock TEMPLATE." + newName+ " not found. creating.");
    }
    Element newData=(Element)getData("template." + oldName).cloneNode(true);
    newData.setAttribute("name",newName);
    setData("template." + newName,newData);
    removeData("template." + oldName);
    if (hasData(C_EDIT_TEMPLATE + "." + oldName)) {
      Element newEditData=(Element)getData(C_EDIT_TEMPLATE + "." + oldName).cloneNode(true);
      newEditData.setAttribute("name",newName);
      setData(C_EDIT_TEMPLATE + "." + newName,newEditData);
      removeData(C_EDIT_TEMPLATE + "." + oldName);
    }
  }
 else {
    throw new CmsException("Section already exists: " + newName,CmsException.C_BAD_NAME);
  }
}
