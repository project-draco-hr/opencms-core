{
  if (!cms.accessWrite(resource)) {
    throw new CmsException("[" + this.getClass().getName() + "]"+ resource,CmsException.C_NO_ACCESS);
  }
  cms.doUndoChanges(resource);
  String bodyPath=C_VFS_PATH_BODIES + resource.substring(1);
  boolean hasBodyFolder=false;
  try {
    cms.readFileHeader(bodyPath);
    hasBodyFolder=true;
  }
 catch (  CmsException e) {
  }
  if (hasBodyFolder) {
    cms.doUndoChanges(bodyPath);
  }
}
