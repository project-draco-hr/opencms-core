{
  if (!isDirty()) {
    if (CmsCoreProvider.get().lockAndCheckModification(getSitemapUri(),m_data.getTimestamp())) {
      m_handlerManager.fireEvent(new CmsSitemapStartEditEvent());
    }
 else {
      return;
    }
  }
  if (!redo && !m_undone.isEmpty()) {
    m_undone.clear();
    m_handlerManager.fireEvent(new CmsSitemapClearUndoEvent());
  }
  m_changes.add(change);
  change.applyToModel(this);
  if (!dnd) {
    m_handlerManager.fireEvent(new CmsSitemapChangeEvent(change));
  }
}
