{
  if (change.isChangingDetailPages()) {
    m_detailPageChangeCounter+=1;
  }
  if (lockForSaving()) {
    if (!hasChanges()) {
      m_eventBus.fireEventFromSource(new CmsSitemapStartEditEvent(),this);
    }
  }
 else {
    if (change.isChangingDetailPages()) {
      m_detailPageChangeCounter-=1;
    }
    return;
  }
  if (!redo && !m_undone.isEmpty()) {
    m_undone.clear();
    m_eventBus.fireEventFromSource(new CmsSitemapClearUndoEvent(),this);
  }
  m_changes.add(change);
  change.applyToModel(this);
  fireChange(change);
}
