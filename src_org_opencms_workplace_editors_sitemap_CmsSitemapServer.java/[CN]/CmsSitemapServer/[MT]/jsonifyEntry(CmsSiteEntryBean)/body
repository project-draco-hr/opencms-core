{
  JSONObject result=new JSONObject();
  result.put(JsonSiteEntry.NAME.getName(),entry.getName());
  result.put(JsonSiteEntry.TITLE.getName(),entry.getTitle());
  result.put(JsonSiteEntry.ID.getName(),entry.getResourceId().toString());
  JSONObject props=new JSONObject();
  for (  Map.Entry<String,String> prop : entry.getProperties().entrySet()) {
    props.put(prop.getKey(),prop.getValue());
  }
  result.put(JsonSiteEntry.PROPERTIES.getName(),props);
  try {
    result.put(JsonSiteEntry.CONTENT.getName(),getEntryContent(entry));
  }
 catch (  Exception e) {
    LOG.error(e.getLocalizedMessage(),e);
    result.put(JsonSiteEntry.CONTENT.getName(),entry.getName());
  }
  JSONArray subentries=new JSONArray();
  for (  CmsSiteEntryBean subentry : entry.getSubEntries()) {
    subentries.put(jsonifyEntry(subentry));
  }
  result.put(JsonSiteEntry.SUBENTRIES.getName(),subentries);
  return result;
}
