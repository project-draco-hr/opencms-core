{
  Set<CmsUUID> relatedIds=new HashSet<CmsUUID>();
  for (  CmsPublishResource res : publishResources) {
    for (    CmsPublishResource related : res.getRelated()) {
      relatedIds.add(related.getId());
    }
  }
  List<CmsPublishResource> result=new ArrayList<CmsPublishResource>();
  for (  CmsPublishResource res : publishResources) {
    if (!relatedIds.contains(res.getId()) || (res.getRelated().size() > 0)) {
      result.add(res);
    }
  }
  return result;
}
