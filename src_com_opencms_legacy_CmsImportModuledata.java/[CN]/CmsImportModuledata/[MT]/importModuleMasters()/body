{
  Hashtable moduleExportables=new Hashtable();
  m_cms.getRegistry().getModuleExportables(moduleExportables);
  Hashtable availableModules=new Hashtable();
  Enumeration modElements=moduleExportables.elements();
  while (modElements.hasMoreElements()) {
    String classname=(String)modElements.nextElement();
    try {
      int subId=getContentDefinition(classname,new Class[]{CmsObject.class},new Object[]{m_cms}).getSubId();
      availableModules.put("" + subId,classname);
    }
 catch (    Exception e) {
    }
  }
  List masterNodes;
  Element currentElement;
  String subid;
  try {
    masterNodes=m_docXml.selectNodes("//" + CmsExportModuledata.C_EXPORT_TAG_MASTER);
    int length=masterNodes.size();
    for (int i=0; i < length; i++) {
      currentElement=(Element)masterNodes.get(i);
      subid=CmsImport.getChildElementTextValue(currentElement,CmsExportModuledata.C_EXPORT_TAG_MASTER_SUBID);
      String classname=(String)availableModules.get(subid);
      if ((classname != null) && !("".equals(classname.trim()))) {
        m_report.print(" ( " + (i + 1) + " / "+ length+ " ) ",I_CmsReport.C_FORMAT_NOTE);
        importMaster(subid,classname,currentElement);
      }
    }
  }
 catch (  Exception exc) {
    throw new CmsException(CmsException.C_UNKNOWN_EXCEPTION,exc);
  }
}
