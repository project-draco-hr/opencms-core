{
  CmsObject cms=getCmsObject();
  CmsADESessionCache cache=getSessionCache();
  List<CmsContainerElementBean> elements=new ArrayList<CmsContainerElementBean>();
  for (  CmsContainerElement elementData : subContainer.getElements()) {
    try {
      if (elementData.isNew()) {
        elementData=createNewElement(containerpageUri,elementData.getClientId(),elementData.getNewType());
      }
      CmsContainerElementBean element=cache.getCacheContainerElement(elementData.getClientId());
      if (cms.existsResource(element.getElementId())) {
        elements.add(element);
      }
    }
 catch (    Exception e) {
      log(e.getLocalizedMessage(),e);
    }
  }
  return new CmsSubContainerBean(subContainer.getTitle(),subContainer.getDescription(),elements,subContainer.getTypes());
}
