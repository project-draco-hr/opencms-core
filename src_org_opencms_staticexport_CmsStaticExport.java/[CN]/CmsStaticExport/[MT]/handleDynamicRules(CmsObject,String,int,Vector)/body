{
  Vector dynRules=null;
  Vector nameRules=null;
  if (modus == I_CmsConstants.C_MODUS_EXTERN) {
    dynRules=m_dynamicExportRulesExtern;
    nameRules=m_dynamicExportNameRulesExtern;
  }
 else {
    dynRules=m_dynamicExportRulesOnline;
    nameRules=m_dynamicExportNameRules;
  }
  String retValue=link;
  int count;
  StringBuffer result=null;
  if (dynRules != null) {
    for (int i=0; i < dynRules.size(); i++) {
      result=new StringBuffer();
      count=m_perlUtil.substitute(result,(String)dynRules.elementAt(i),link);
      if (count != 0) {
        paramterOnly.add(new Boolean(false));
        retValue=result.toString();
        if (A_OpenCms.getStaticExportProperties().isExportDefault()) {
          return retValue;
        }
 else {
          if (modus == I_CmsConstants.C_MODUS_EXTERN) {
            if (!link.equals(retValue)) {
              return retValue;
            }
          }
 else {
            if (!retValue.startsWith(A_OpenCms.getStaticExportProperties().getExportPrefix())) {
              return retValue;
            }
            link=retValue;
          }
        }
      }
    }
  }
  if (A_OpenCms.getStaticExportProperties().isExportDefault() || modus == I_CmsConstants.C_MODUS_EXTERN) {
    link=substituteLinkParameter(cms,link);
    retValue=link;
  }
 else   if (link.startsWith(A_OpenCms.getStaticExportProperties().getExportPrefix())) {
    link=link.substring(A_OpenCms.getStaticExportProperties().getExportPrefix().length());
    link=substituteLinkParameter(cms,link);
    link=A_OpenCms.getStaticExportProperties().getExportPrefix() + link;
    retValue=link;
  }
  if (nameRules != null) {
    for (int i=0; i < nameRules.size(); i++) {
      retValue=m_perlUtil.substitute((String)nameRules.elementAt(i),link);
      if (!retValue.equals(link)) {
        paramterOnly.add(new Boolean(false));
        return retValue;
      }
    }
  }
  paramterOnly.add(new Boolean(true));
  return retValue;
}
