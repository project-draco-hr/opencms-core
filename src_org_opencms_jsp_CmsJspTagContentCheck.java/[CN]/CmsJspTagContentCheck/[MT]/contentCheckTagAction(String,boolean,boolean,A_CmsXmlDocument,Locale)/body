{
  boolean result=false;
  String elements[]=CmsStringUtil.split(elementList,",");
  for (int i=(elements.length - 1); i >= 0; i--) {
    String element=elements[i].trim();
    int index=0;
    if (element.charAt(element.length() - 1) == ']') {
      int pos=element.lastIndexOf('[');
      if (pos > 0) {
        String num=element.substring(pos + 1,element.length() - 1);
        try {
          index=Integer.valueOf(num).intValue();
          element=element.substring(0,pos);
        }
 catch (        Exception e) {
          if (OpenCms.getLog(CmsJspTagContentCheck.class).isDebugEnabled()) {
            OpenCms.getLog(CmsJspTagContentCheck.class).debug("Invalid content check element expression in list: " + elements[i],e);
          }
        }
      }
      result=content.hasValue(element,locale,index);
      if (result && checknone) {
        return false;
      }
      if (result && !checkall && !checknone) {
        return true;
      }
    }
  }
  return result;
}
