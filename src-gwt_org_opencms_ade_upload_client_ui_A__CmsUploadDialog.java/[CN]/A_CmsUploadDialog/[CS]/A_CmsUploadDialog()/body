{
  super(Messages.get().key(Messages.GUI_UPLOAD_DIALOG_TITLE_0));
  I_CmsLayoutBundle.INSTANCE.uploadCss().ensureInjected();
  m_data=(CmsUploadData)CmsRpcPrefetcher.getSerializedObject(getUploadService(),CmsUploadData.DICT_NAME);
  setModal(true);
  setGlassEnabled(true);
  catchNotifications();
  setWidth(DIALOG_WIDTH);
  m_allFiles=new HashMap<String,CmsFileInfo>();
  m_listItems=new HashMap<String,CmsListItem>();
  m_filesToUnzip=new ArrayList<String>();
  m_fileList=new CmsList<I_CmsListItem>();
  m_fileList.truncate(TM_FILE_UPLOAD_LIST,DIALOG_WIDTH - 50);
  m_filesToUpload=new HashMap<String,CmsFileInfo>();
  m_mainPanel=new FlowPanel();
  m_dialogInfo=new HTML();
  m_dialogInfo.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().dialogInfo());
  m_mainPanel.add(m_dialogInfo);
  m_contentWrapper=new FlowPanel();
  m_contentWrapper.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().mainContentWidget());
  m_contentWrapper.addStyleName(m_gwtCss.generalCss().cornerAll());
  m_contentWrapper.getElement().getStyle().setPropertyPx("maxHeight",Window.getClientHeight() - 300);
  m_contentWrapper.getElement().getStyle().setPropertyPx("minHeight",MIN_CONTENT_HEIGHT);
  m_contentWrapper.add(m_fileList);
  m_mainPanel.add(m_contentWrapper);
  m_selectionSummary=new HTML();
  m_selectionSummary.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().summary());
  m_mainPanel.add(m_selectionSummary);
  setMainContent(m_mainPanel);
  createButtons();
}
