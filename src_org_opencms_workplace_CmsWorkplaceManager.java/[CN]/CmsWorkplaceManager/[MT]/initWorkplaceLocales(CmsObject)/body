{
  Set locales=new HashSet();
  List localeFolders;
  try {
    localeFolders=cms.getSubFolders(CmsWorkplace.VFS_PATH_LOCALES);
  }
 catch (  CmsException e) {
    LOG.error(Messages.get().key(Messages.LOG_WORKPLACE_INIT_NO_LOCALES_1,CmsWorkplace.VFS_PATH_LOCALES));
    localeFolders=new ArrayList();
  }
  Iterator i=localeFolders.iterator();
  while (i.hasNext()) {
    CmsFolder folder=(CmsFolder)i.next();
    Locale locale=CmsLocaleManager.getLocale(folder.getName());
    locales.add(locale);
    locales.add(new Locale(locale.getLanguage(),locale.getCountry()));
    locales.add(new Locale(locale.getLanguage()));
  }
  ArrayList result=new ArrayList();
  result.addAll(locales);
  Collections.sort(result,CmsLocaleComparator.getComparator());
  return result;
}
