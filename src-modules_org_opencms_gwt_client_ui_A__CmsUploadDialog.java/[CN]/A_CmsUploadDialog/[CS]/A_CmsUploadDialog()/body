{
  setText(Messages.get().key(Messages.GUI_UPLOAD_DIALOG_TITLE_0));
  setModal(true);
  setGlassEnabled(true);
  catchNotifications();
  setWidth("439px");
  addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().uploadDialogContent());
  m_allFiles=new HashMap<String,CmsFileInfo>();
  m_listItems=new HashMap<String,CmsListItem>();
  m_inputsToUpload=new HashMap<String,CmsFileInput>();
  m_fileList=new CmsList<I_CmsListItem>();
  m_fileList.truncate(TM_FILE_UPLOAD_LIST,MAX_LIST_WIDTH);
  m_filesToUpload=new HashMap<String,CmsFileInfo>();
  FlowPanel mainPanel=new FlowPanel();
  m_dialogInfo=new HTML();
  m_dialogInfo.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().dialogInfo());
  mainPanel.add(m_dialogInfo);
  m_contentWrapper=new FlowPanel();
  m_contentWrapper.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().mainContentWidget());
  m_contentWrapper.addStyleName(I_CmsLayoutBundle.INSTANCE.generalCss().cornerAll());
  m_contentWrapper.getElement().getStyle().setPropertyPx("maxHeight",Window.getClientHeight() - 300);
  mainPanel.add(m_contentWrapper);
  m_selectionSummary=new HTML();
  m_selectionSummary.addStyleName(I_CmsLayoutBundle.INSTANCE.uploadCss().summary());
  mainPanel.add(m_selectionSummary);
  setContent(mainPanel);
  createButtons();
  addUploadButton();
}
