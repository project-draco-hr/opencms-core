{
  m_okButton.enable();
  if (fileInput != null) {
    List<CmsFileInfo> fileObjects=Arrays.asList(fileInput.getFiles());
    for (    CmsFileInfo file : fileObjects) {
      m_allFiles.put(file.getFileName(),file);
      if (!isTooLarge(file)) {
        m_inputsToUpload.put(file.getFileName(),fileInput);
        m_filesToUpload.put(file.getFileName(),file);
      }
      if ((m_listItems.get(file.getFileName()) != null) && (m_listItems.get(file.getFileName()).getCheckBox() != null) && !m_listItems.get(file.getFileName()).getCheckBox().isChecked()) {
        m_filesToUpload.remove(file.getFileName());
      }
    }
    rebuildList(m_allFiles);
  }
  displayDialogInfo(Messages.get().key(Messages.GUI_UPLOAD_INFO_SELECTION_0),false);
  updateSummary();
  m_uploadButton.createFileInput();
  center();
  getDialog().getElement().getStyle().setDisplay(Display.NONE);
  getDialog().getElement().getStyle().setDisplay(Display.BLOCK);
}
