{
  CmsElementView elementView=OpenCms.getADEManager().getElementViews(cms).get(viewId);
  if (elementView == null) {
    LOG.error("Element view is null");
    return Collections.emptyList();
  }
  List<I_CmsResourceType> additionalTypes=Lists.newArrayList();
  if (elementView.getExplorerType() != null) {
    CmsElementView elemView=OpenCms.getADEManager().getElementViews(cms).get(viewId);
    if (elemView != null) {
      List<CmsExplorerTypeSettings> explorerTypes=OpenCms.getWorkplaceManager().getExplorerTypesForView(elemView.getExplorerType().getName());
      for (      CmsExplorerTypeSettings explorerType : explorerTypes) {
        additionalTypes.add(OpenCms.getResourceManager().getResourceType(explorerType.getName()));
      }
    }
  }
  return internalGetResourceTypesFromConfig(cms,folderRootPath,checkViewableReferenceUri,viewId,additionalTypes,checkEnabled);
}
