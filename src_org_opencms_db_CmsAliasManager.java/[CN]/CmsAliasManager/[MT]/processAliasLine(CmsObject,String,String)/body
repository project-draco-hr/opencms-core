{
  line=line.trim();
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(line) || line.startsWith("#")) {
    return null;
  }
  boolean comma=line.contains(",");
  boolean semicolon=line.contains(";");
  String separatorRegex;
  if (comma && !semicolon) {
    separatorRegex=",";
  }
 else   if (semicolon && !comma) {
    separatorRegex=";";
  }
 else {
    return new CmsAliasImportResult(line,CmsAliasImportStatus.aliasError,"No column separator or ambiguous column separator!");
  }
  String[] tokens=line.split(separatorRegex);
  if ((tokens.length == 2) || (tokens.length == 3)) {
    String alias=tokens[0].trim();
    String vfsPath=tokens[1].trim();
    CmsAliasMode mode=CmsAliasMode.permanentRedirect;
    if (tokens.length == 3) {
      try {
        mode=CmsAliasMode.valueOf(tokens[2].trim());
      }
 catch (      Exception e) {
        return new CmsAliasImportResult(line,CmsAliasImportStatus.aliasError,"Invalid format");
      }
    }
    CmsAliasImportResult returnValue=processAliasImport(cms,siteRoot,alias,vfsPath,mode);
    returnValue.setLine(line);
    return returnValue;
  }
 else {
    return new CmsAliasImportResult(line,CmsAliasImportStatus.aliasError,"Invalid format");
  }
}
