{
  CmsUser user=cms.getRequestContext().getCurrentUser();
  StringBuffer infoHtml=new StringBuffer(128);
  infoHtml.append("<b>").append(user.getFullName()).append("</b>").append(LINE_BREAK);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(user.getEmail())) {
    infoHtml.append(user.getEmail()).append(LINE_BREAK);
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(user.getInstitution())) {
    infoHtml.append(user.getInstitution()).append(LINE_BREAK);
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(user.getAddress())) {
    infoHtml.append(user.getAddress()).append(LINE_BREAK);
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(user.getZipcode())) {
    infoHtml.append(user.getZipcode()).append(LINE_BREAK);
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(user.getCity())) {
    infoHtml.append(user.getCity()).append(LINE_BREAK);
  }
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(user.getCountry())) {
    infoHtml.append(user.getCountry()).append(LINE_BREAK);
  }
  infoHtml.append(Messages.get().getBundle(locale).key(Messages.GUI_USER_INFO_ONLINE_SINCE_1,DateFormat.getTimeInstance(DateFormat.DEFAULT,locale).format(new Date(user.getLastlogin())))).append(LINE_BREAK);
  infoHtml.append(org.opencms.workplace.Messages.get().getBundle(locale).key(org.opencms.workplace.Messages.GUI_LABEL_PROJECT_0));
  infoHtml.append(": ");
  infoHtml.append(cms.getRequestContext().getCurrentProject().getName()).append(LINE_BREAK);
  return infoHtml.toString();
}
