{
  CmsVaadinUtils.readAndLocalizeDesign(this,null,null);
  CmsObject cms=A_CmsUI.getCmsObject();
  CmsUser user=cms.getRequestContext().getCurrentUser();
  m_info.setContentMode(ContentMode.HTML);
  m_info.setValue(generateInfoHtml(user));
  m_image.setSource(new ExternalResource(CmsUserIconHelper.getInstance().getBigIconPath(cms,user)));
  m_logout.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      logout();
    }
  }
);
  m_preferences.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      showPreferences();
    }
  }
);
  m_preferences.setVisible(false);
}
