{
  String result=null;
  if (path.startsWith("/")) {
    path=path.substring(1);
  }
  String attributeName;
  if (path.contains("/")) {
    attributeName=path.substring(0,path.indexOf("/"));
    path=path.substring(path.indexOf("/"));
  }
 else {
    attributeName=path;
    path=null;
  }
  int index=ContentDefinition.extractIndex(attributeName);
  if (index > 0) {
    index--;
  }
  attributeName=entity.getTypeName() + "/" + ContentDefinition.removeIndex(attributeName);
  I_EntityAttribute attribute=entity.getAttribute(attributeName);
  if (!((attribute == null) || (attribute.isComplexValue() && (path == null)))) {
    if (attribute.isSimpleValue()) {
      if ((path == null) && (attribute.getValueCount() > 0)) {
        List<String> values=attribute.getSimpleValues();
        result=values.get(index);
      }
    }
 else     if (attribute.getValueCount() > (index)) {
      List<I_Entity> values=attribute.getComplexValues();
      result=getValueForPath(values.get(index),path);
    }
  }
  return result;
}
