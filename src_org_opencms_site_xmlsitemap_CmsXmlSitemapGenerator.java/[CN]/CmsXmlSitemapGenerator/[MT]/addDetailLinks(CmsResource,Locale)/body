{
  List<I_CmsResourceType> types=getDetailTypesForPage(resource);
  for (  I_CmsResourceType type : types) {
    List<CmsResource> resourcesForType=getDetailResources(type);
    for (    CmsResource detailRes : resourcesForType) {
      if (!isValidDetailPageCombination(resource,locale,detailRes)) {
        continue;
      }
      List<CmsProperty> detailProps=m_guestCms.readPropertyObjects(detailRes,true);
      String detailLink=getDetailLink(resource,detailRes,locale);
      detailLink=CmsFileUtil.removeTrailingSeparator(detailLink);
      CmsXmlSitemapUrlBean detailUrlBean=new CmsXmlSitemapUrlBean(detailLink,detailRes.getDateLastModified(),getChangeFrequency(detailProps),getPriority(detailProps));
      addResult(detailUrlBean,2);
    }
  }
}
