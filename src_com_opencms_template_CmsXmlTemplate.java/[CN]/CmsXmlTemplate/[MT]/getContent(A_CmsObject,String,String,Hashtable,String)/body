{
  A_OpenCms.log(C_OPENCMS_DEBUG,"[CmsXmlTemplate] getting content of element " + elementName);
  A_OpenCms.log(C_OPENCMS_DEBUG,"[CmsXmlTemplate] template file is: " + templateFile);
  A_OpenCms.log(C_OPENCMS_DEBUG,"[CmsXmlTemplate] selected template section is: " + templateSelector);
  String s=null;
  CmsXmlTemplateFile xmlTemplateDocument=new CmsXmlTemplateFile();
  xmlTemplateDocument.init(cms,templateFile);
  String templateDatablockName=xmlTemplateDocument.getTemplateDatablockName(templateSelector);
  try {
    Element eee=xmlTemplateDocument.getProcessedData(templateDatablockName,this,parameters);
    s=xmlTemplateDocument.getTagValue(eee);
  }
 catch (  Throwable e) {
    xmlTemplateDocument.clearFileCache(xmlTemplateDocument);
    if (isCacheable(cms,templateFile,parameters)) {
      m_cache.clearCache(getKey(cms,templateFile,parameters));
    }
    if (e instanceof CmsException) {
      throw (CmsException)e;
    }
 else {
      String errorMessage="Exception while getting content for (sub)template " + elementName + ". "+ e;
      if (A_OpenCms.isLogging()) {
        A_OpenCms.log(C_OPENCMS_CRITICAL,"[CmsXmlTemplate] " + errorMessage);
      }
      throw new CmsException(errorMessage);
    }
  }
  return s.getBytes();
}
