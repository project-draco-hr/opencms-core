{
  List result=new ArrayList();
  List targetClone=new ArrayList(target);
  Iterator i=source.iterator();
  while (i.hasNext()) {
    boolean found=false;
    CmsProperty sourceProperty=(CmsProperty)i.next();
    Iterator j=targetClone.iterator();
    CmsProperty targetProperty=null;
    while (j.hasNext()) {
      targetProperty=(CmsProperty)j.next();
      if (sourceProperty.isIdentical(targetProperty)) {
        found=true;
        break;
      }
    }
    if (!found) {
      result.add(sourceProperty);
    }
 else {
      targetClone.remove(targetProperty);
    }
  }
  if (exclude != null) {
    Iterator l=exclude.iterator();
    while (l.hasNext()) {
      CmsProperty excludeProperty=(CmsProperty)l.next();
      if (result.contains(excludeProperty)) {
        result.remove(excludeProperty);
      }
    }
  }
  return result;
}
