{
  if ((m_currentTarget != null) && (m_currentTarget.getWidgetIndex(m_placeholder) != m_srcPos)) {
    elementDropAction();
    m_currentTarget=null;
  }
 else {
    elementCancelAction();
    ((CmsDnDListItem)m_placeholder).onDragStop();
  }
  restoreElementAfterDrag();
  Document.get().getBody().removeClassName(I_CmsLayoutBundle.INSTANCE.dragdropCss().dragStarted());
  m_dragElement=null;
  m_placeholder=null;
  m_currentTarget=null;
  m_srcId=null;
  m_srcList=null;
}
