{
  if (resources.isEmpty()) {
    return Collections.<List<CmsResource>>emptyList();
  }
  List<List<CmsResource>> result=new ArrayList<List<CmsResource>>();
  List<CmsResource> currentGroup=new ArrayList<CmsResource>();
  result.add(currentGroup);
  long lastDate=resources.get(0).getDateLastModified();
  for (  CmsResource res : resources) {
    LOG.debug("Processing young resource " + res.getRootPath());
    long resDate=res.getDateLastModified();
    if (lastDate - resDate > GROUP_SESSIONS_GAP) {
      LOG.debug("=== new group ===");
      currentGroup=new ArrayList<CmsResource>();
      result.add(currentGroup);
    }
    lastDate=resDate;
    currentGroup.add(res);
  }
  return result;
}
