{
  List<CmsResource> youngRes=new ArrayList<CmsResource>();
  List<CmsResource> mediumRes=new ArrayList<CmsResource>();
  List<CmsResource> oldRes=new ArrayList<CmsResource>();
  for (  CmsResource res : resources) {
    int day=days.get(new Long(res.getDateLastModified())).intValue();
    List<CmsResource> listToAddTo=null;
    if (day < 7) {
      listToAddTo=youngRes;
      LOG.debug("Classifying publish resource " + res.getRootPath() + " as young");
    }
 else     if (day < 28) {
      listToAddTo=mediumRes;
      LOG.debug("Classifying publish resource " + res.getRootPath() + " as medium-aged");
    }
 else {
      listToAddTo=oldRes;
      LOG.debug("Classifying publish resource " + res.getRootPath() + " as old");
    }
    listToAddTo.add(res);
  }
  Map<GroupAge,List<CmsResource>> result=new HashMap<GroupAge,List<CmsResource>>();
  result.put(GroupAge.young,youngRes);
  result.put(GroupAge.medium,mediumRes);
  result.put(GroupAge.old,oldRes);
  return result;
}
