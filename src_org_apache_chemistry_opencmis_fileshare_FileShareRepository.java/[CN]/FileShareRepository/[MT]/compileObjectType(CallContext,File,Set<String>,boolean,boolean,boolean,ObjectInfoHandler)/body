{
  ObjectDataImpl result=new ObjectDataImpl();
  ObjectInfoImpl objectInfo=new ObjectInfoImpl();
  result.setProperties(compileProperties(file,filter,objectInfo));
  if (includeAllowableActions) {
    result.setAllowableActions(compileAllowableActions(file,userReadOnly));
  }
  if (includeAcl) {
    result.setAcl(compileAcl(file));
    result.setIsExactAcl(true);
  }
  if (context.isObjectInfoRequired()) {
    objectInfo.setObject(result);
    objectInfos.addObjectInfo(objectInfo);
  }
  return result;
}
