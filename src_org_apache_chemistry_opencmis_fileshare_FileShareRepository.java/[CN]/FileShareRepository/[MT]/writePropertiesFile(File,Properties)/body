{
  File propFile=getPropertiesFile(file);
  if ((properties == null) || (properties.getProperties() == null) || (properties.getProperties().size() == 0)) {
    propFile.delete();
    return;
  }
  CmisObjectType object=new CmisObjectType();
  object.setProperties(Converter.convert(properties));
  try {
    JaxBHelper.CMIS_EXTRA_OBJECT_FACTORY.createObject(object);
    JAXBElement<CmisObjectType> objElement=JaxBHelper.CMIS_EXTRA_OBJECT_FACTORY.createObject(object);
    Marshaller m=JaxBHelper.createMarshaller();
    m.setProperty("jaxb.formatted.output",true);
    m.marshal(objElement,propFile);
  }
 catch (  Exception e) {
    throw new CmisStorageException("Couldn't store properties!",e);
  }
}
