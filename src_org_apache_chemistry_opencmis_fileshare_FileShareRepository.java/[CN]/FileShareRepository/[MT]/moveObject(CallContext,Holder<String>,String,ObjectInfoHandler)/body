{
  debug("moveObject");
  boolean userReadOnly=checkUser(context,true);
  if (objectId == null) {
    throw new CmisInvalidArgumentException("Id is not valid!");
  }
  File file=getFile(objectId.getValue());
  File parent=getFile(targetFolderId);
  File newFile=new File(parent,file.getName());
  if (newFile.exists()) {
    throw new CmisStorageException("Object already exists!");
  }
  if (!file.renameTo(newFile)) {
    throw new CmisStorageException("Move failed!");
  }
 else {
    objectId.setValue(getId(newFile));
    if (newFile.isFile()) {
      File propFile=getPropertiesFile(file);
      if (propFile.exists()) {
        File newPropFile=new File(parent,propFile.getName());
        propFile.renameTo(newPropFile);
      }
    }
  }
  return compileObjectType(context,newFile,null,false,false,userReadOnly,objectInfos);
}
