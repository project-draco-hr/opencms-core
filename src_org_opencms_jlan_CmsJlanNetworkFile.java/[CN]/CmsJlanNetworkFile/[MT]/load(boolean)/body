{
  try {
    if (m_resource.isFolder() && needContent) {
      throw new AccessDeniedException("Operation not supported for directories!");
    }
    if (m_resource.isFile() && needContent && (!(m_resource instanceof CmsFile))) {
      m_resource=m_cms.readFile(m_cms.getSitePath(m_resource),CmsJlanDiskInterface.STANDARD_FILTER);
      m_buffer.init(getFile().getContents());
    }
  }
 catch (  CmsException e) {
    throw e;
  }
}
