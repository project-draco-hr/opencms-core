{
  CmsVfsImageWidgetConfiguration config=getWidgetConfiguration(cms,widgetDialog,param);
  JSONObject result=new JSONObject();
  result.put(ImageWidgetInfo.useFormats.name(),config.isShowFormat());
  result.put(ImageWidgetInfo.imageFormats.name(),new JSONArray(config.getFormatValues()));
  String temp=config.getSelectFormatString();
  String[] formatNames=new String[0];
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(temp)) {
    formatNames=config.getSelectFormatString().split("\\|");
  }
  result.put(ImageWidgetInfo.imageFormatNames.name(),new JSONArray(formatNames));
  return result;
}
