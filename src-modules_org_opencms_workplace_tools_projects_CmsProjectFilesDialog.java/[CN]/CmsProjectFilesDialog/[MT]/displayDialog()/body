{
  if (getAction() == ACTION_CANCEL) {
    return;
  }
  getSettings().setExplorerMode(CmsExplorer.C_VIEW_PROJECT);
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(getParamProjectid())) {
    getSettings().setExplorerProjectId(new Integer(getParamProjectid()).intValue());
  }
  try {
    String filter=new CmsUserSettings(getCms().getRequestContext().currentUser()).getProjectSettings().getProjectFilesMode().toString();
    getSettings().setExplorerProjectFilter(filter);
  }
 catch (  Exception e) {
  }
  getJsp().getResponse().sendRedirect(getJsp().link(C_FILE_EXPLORER_FILELIST));
}
