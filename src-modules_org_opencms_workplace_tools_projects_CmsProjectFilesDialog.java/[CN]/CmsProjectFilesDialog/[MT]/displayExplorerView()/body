{
  getSettings().setExplorerMode(CmsExplorer.C_VIEW_PROJECT);
  try {
    getSettings().setExplorerProjectId(new Integer(getParamProjectid()).intValue());
  }
 catch (  Exception e) {
  }
  boolean modeSet=false;
  try {
    CmsUserSettings settings=new CmsUserSettings(getCms());
    CmsUserProjectSettings prjSettings=settings.getProjectSettings();
    if (prjSettings != null) {
      CmsProjectResourcesDisplayMode filter=prjSettings.getProjectFilesMode();
      if (filter != null) {
        getSettings().setExplorerProjectFilter(filter.toString());
        modeSet=true;
      }
    }
  }
 catch (  Exception e) {
  }
  if (!modeSet) {
    getSettings().setExplorerProjectFilter(CmsProjectResourcesDisplayMode.ALL_CHANGES.toString());
  }
  Map params=new HashMap();
  params.put(CmsExplorer.C_PARAMETER_PROJECTFILTER,getSettings().getExplorerProjectFilter());
  params.put(CmsExplorer.C_PARAMETER_PROJECTID,new Integer(getSettings().getExplorerProjectId()));
  getToolManager().jspForwardPage(this,C_FILE_EXPLORER_FILELIST,params);
}
