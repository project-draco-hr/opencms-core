{
  if (d.canRead() && d.isDirectory()) {
    File[] files=d.listFiles();
    if (DEBUG > 0) {
      System.err.println("FlexCache.purgeDirectory() Deleting directory = " + d.getAbsolutePath());
      System.err.println("FlexCache.purgeDirectory() Files in directory = " + files.length);
    }
    for (int i=0; i < files.length; i++) {
      File f=files[i];
      if (f.isDirectory()) {
        purgeDirectory(f);
      }
      if (f.canWrite()) {
        f.delete();
      }
 else       if (DEBUG > 0) {
        System.err.println("FlexCache.purgeDirectory() could not delete file = " + f);
      }
    }
  }
 else   if (DEBUG > 0) {
    System.err.println("FlexCache.purgeDirectory() could not access directory: " + d);
    System.err.println("FlexCache.purgeDirectory() d.canWrite() = " + d.canWrite());
    System.err.println("FlexCache.purgeDirectory() d.canWrite() = " + d.canWrite());
    System.err.println("FlexCache.purgeDirectory() d.isDirectory() = " + d.isDirectory());
  }
}
