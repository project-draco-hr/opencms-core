{
  CmsXmlContentProperty propDef=m_propertyDefs.get(propName);
  CmsClientProperty fileProp=defaultFileProps.get(propName);
  CmsClientProperty ownProp=ownProps.get(propName);
  CmsPathValue pathValue;
  if (fileProp != null) {
    pathValue=fileProp.getPathValue().prepend(defaultFileId + "/" + propName);
  }
 else   if (ownProp != null) {
    pathValue=ownProp.getPathValue().prepend(entryId + "/" + propName);
  }
 else {
    String targetId=null;
    if (propDef.isPreferFolder() || (entry.getDefaultFileId() == null)) {
      targetId=entryId;
    }
 else {
      targetId=entry.getDefaultFileId().toString();
    }
    pathValue=new CmsPathValue("",targetId + "/" + propName+ "/"+ CmsClientProperty.PATH_STRUCTURE_VALUE);
  }
  boolean alwaysAllowEmpty=!propName.equals(CmsClientProperty.PROPERTY_NAVTEXT);
  CmsBasicFormField field=CmsBasicFormField.createField(propDef,pathValue.getPath(),m_widgetFactory,new HashMap<String,String>(),alwaysAllowEmpty);
  String inherited=CmsSitemapView.getInstance().getController().getInheritedProperty(entry,propName);
  I_CmsFormWidget w=field.getWidget();
  if (w instanceof I_CmsHasGhostValue) {
    ((I_CmsHasGhostValue)w).setGhostValue(inherited,CmsStringUtil.isEmptyOrWhitespaceOnly(pathValue.getValue()));
  }
  m_form.addField(CmsSitemapEntryEditor.TAB_1,field,pathValue.getValue());
}
