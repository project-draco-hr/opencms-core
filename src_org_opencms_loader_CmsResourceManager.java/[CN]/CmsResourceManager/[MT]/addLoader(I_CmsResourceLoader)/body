{
  if (m_frozen) {
    throw new CmsConfigurationException("Resource manager configuration only possibule during system startup!");
  }
  int pos=loader.getLoaderId();
  if (pos > m_loaders.length) {
    I_CmsResourceLoader[] buffer=new I_CmsResourceLoader[pos * 2];
    System.arraycopy(m_loaders,0,buffer,0,m_loaders.length);
    m_loaders=buffer;
  }
  m_loaders[pos]=loader;
  if (loader instanceof I_CmsLoaderIncludeExtension) {
    m_includeExtensions.add(loader);
  }
  m_loaderList.add(loader);
  if (OpenCms.getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
    OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". Loader init          : Adding " + loader.getClass().getName() + " with id "+ pos);
  }
}
