{
  Map<String,CmsDefaultSet<String>> result=new HashMap<String,CmsDefaultSet<String>>();
  for (  I_CmsResourceType resType : getResourceTypes()) {
    if (resType instanceof CmsResourceTypeXmlContent) {
      String schema=((CmsResourceTypeXmlContent)resType).getSchema();
      if (schema != null) {
        CmsXmlContentDefinition contentDefinition=CmsXmlContentDefinition.unmarshal(cms,schema);
        CmsDefaultSet<String> allowedContexts=contentDefinition.getContentHandler().getAllowedTemplates();
        result.put(resType.getTypeName(),allowedContexts);
      }
 else {
        LOG.info("No schema for XML type " + resType.getTypeName() + " / "+ resType.getClass().getName());
      }
    }
  }
  return result;
}
