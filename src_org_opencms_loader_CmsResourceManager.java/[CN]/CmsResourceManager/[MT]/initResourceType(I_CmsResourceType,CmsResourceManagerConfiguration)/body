{
  int pos=resourceType.getTypeId();
  if (pos > configuration.m_resourceTypes.length) {
    I_CmsResourceType[] types=new I_CmsResourceType[pos * 2];
    System.arraycopy(configuration.m_resourceTypes,0,types,0,configuration.m_resourceTypes.length);
    configuration.m_resourceTypes=types;
  }
  configuration.m_resourceTypes[pos]=resourceType;
  configuration.getResourceTypeList().add(resourceType);
  configuration.getResourceTypeMap().put(resourceType.getTypeName(),resourceType);
  if (CmsLog.INIT.isInfoEnabled()) {
    CmsLog.INIT.info(Messages.get().getBundle().key(Messages.INIT_ADD_RESTYPE_3,resourceType.getTypeName(),new Integer(resourceType.getTypeId()),resourceType.getClass().getName()));
  }
  List mappings=resourceType.getConfiguredMappings();
  Iterator i=mappings.iterator();
  while (i.hasNext()) {
    String mapping=(String)i.next();
    if (!configuration.getMappings().containsKey(mapping)) {
      configuration.getMappings().put(mapping,resourceType.getTypeName());
      if (CmsLog.INIT.isInfoEnabled()) {
        CmsLog.INIT.info(Messages.get().getBundle().key(Messages.INIT_MAP_RESTYPE_2,mapping,resourceType.getTypeName()));
      }
    }
  }
}
