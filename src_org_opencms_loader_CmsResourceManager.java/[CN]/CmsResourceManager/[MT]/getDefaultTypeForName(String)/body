{
  String typeName=null;
  String suffix=null;
  if (!CmsStringSubstitution.isEmpty(resourcename)) {
    int pos=resourcename.lastIndexOf('.');
    if (pos >= 0) {
      suffix=resourcename.substring(pos);
      if (!CmsStringSubstitution.isEmpty(suffix)) {
        suffix=suffix.toLowerCase();
        typeName=(String)m_mappings.get(suffix);
      }
    }
  }
  if (typeName == null) {
    typeName=CmsResourceTypePlain.C_RESOURCE_TYPE_NAME;
  }
  if (OpenCms.getLog(CmsLog.CHANNEL_INIT).isDebugEnabled()) {
    OpenCms.getLog(CmsLog.CHANNEL_INIT).debug("getting resource type " + typeName + " for suffix "+ suffix);
  }
  return getResourceType(typeName);
}
