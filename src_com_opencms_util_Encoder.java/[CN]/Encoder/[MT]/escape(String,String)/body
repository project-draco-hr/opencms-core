{
  StringBuffer ret=new StringBuffer();
  String enc;
  try {
    enc=URLEncoder.encode(source,encoding);
  }
 catch (  UnsupportedEncodingException uee) {
    enc=URLEncoder.encode(source);
  }
  StringTokenizer t=new StringTokenizer(enc,"+");
  while (t.hasMoreTokens()) {
    ret.append(t.nextToken());
    if (t.hasMoreTokens()) {
      ret.append("%20");
    }
  }
  return ret.toString();
}
