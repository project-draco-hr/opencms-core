{
  if (getLock().getSystemLock().isPublish()) {
    return STATE_LOCKED_FOR_PUBLISHING;
  }
  if (!getLock().isUnlocked() && !getResource().getState().isUnchanged()) {
    if (getLockedInProjectId().equals(getReferenceProject().getUuid())) {
      return STATE_LOCKED_IN_CURRENT_PROJECT;
    }
 else     if (!getLockedInProjectId().equals(getReferenceProject().getUuid())) {
      return STATE_LOCKED_IN_OTHER_PROJECT;
    }
  }
  return STATE_UNLOCKED;
}
