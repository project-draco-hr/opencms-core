{
  CmsObject cms=getCmsObject();
  echo("Testing import resource");
  String resourcename="/folder1/test1.html";
  String contentStr="Hello this is my content";
  byte[] content=contentStr.getBytes();
  long timestamp=System.currentTimeMillis() - 87654321;
  CmsResource resource=new CmsResource(CmsUUID.getNullUUID(),CmsUUID.getNullUUID(),CmsUUID.getNullUUID(),resourcename,CmsResourceTypePlain.C_RESOURCE_TYPE_ID,0,cms.getRequestContext().currentProject().getId(),I_CmsConstants.C_STATE_NEW,timestamp,cms.getRequestContext().currentUser().getId(),timestamp,cms.getRequestContext().currentUser().getId(),CmsResource.DATE_RELEASED_DEFAULT,CmsResource.DATE_EXPIRED_DEFAULT,1,content.length);
  cms.importResource(resourcename,resource,content,null);
  assertResourceType(cms,resourcename,CmsResourceTypePlain.C_RESOURCE_TYPE_ID);
  assertProject(cms,resourcename,cms.getRequestContext().currentProject());
  assertState(cms,resourcename,I_CmsConstants.C_STATE_NEW);
  assertDateLastModified(cms,resourcename,timestamp);
  assertDateCreated(cms,resourcename,timestamp);
  assertUserLastModified(cms,resourcename,cms.getRequestContext().currentUser());
  assertContent(cms,resourcename,content);
  cms.unlockProject(cms.getRequestContext().currentProject().getId());
  cms.publishProject();
  assertState(cms,resourcename,I_CmsConstants.C_STATE_UNCHANGED);
}
