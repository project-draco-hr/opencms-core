{
  CmsObject cms=getCmsObject();
  echo("Testing to create an existing resource again");
  String resourcename="/folder1/test2.html";
  storeResources(cms,resourcename);
  long timestamp=System.currentTimeMillis();
  String contentStr="Hello this is my NEW AND ALSO CHANGED other content";
  byte[] content=contentStr.getBytes();
  cms.lockResource(resourcename);
  cms.createResource(resourcename,CmsResourceTypePlain.C_RESOURCE_TYPE_ID,content,null);
  assertProject(cms,resourcename,cms.getRequestContext().currentProject());
  assertState(cms,resourcename,I_CmsConstants.C_STATE_CHANGED);
  assertDateLastModifiedAfter(cms,resourcename,timestamp);
  assertUserLastModified(cms,resourcename,cms.getRequestContext().currentUser());
  assertContent(cms,resourcename,content);
  assertFilter(cms,resourcename,OpenCmsTestResourceFilter.FILTER_CREATE_RESOURCE);
  cms.unlockProject(cms.getRequestContext().currentProject().getId());
  cms.publishProject();
  assertState(cms,resourcename,I_CmsConstants.C_STATE_UNCHANGED);
}
