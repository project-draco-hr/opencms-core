{
  StringBuffer result=new StringBuffer();
  String resId=Integer.toString(id);
  int index=0;
  String myToken="resource_id";
  int foundAt=data.indexOf(myToken,index);
  while (foundAt != -1) {
    result.append(data.substring(index,foundAt) + resId);
    index=foundAt + myToken.length();
    foundAt=data.indexOf(myToken,index);
  }
  result.append(data.substring(index));
  data=result.toString();
  result=new StringBuffer();
  myToken="language_key";
  index=0;
  foundAt=data.indexOf(myToken,index);
  while (foundAt != -1) {
    int endIndex=data.indexOf(")",foundAt);
    String langKey=data.substring(data.indexOf("(",foundAt) + 1,endIndex);
    try {
      langKey=lang.getDataValue(langKey);
    }
 catch (    CmsException e) {
    }
    result.append(data.substring(index,foundAt) + langKey);
    index=endIndex + 1;
    foundAt=data.indexOf(myToken,index);
  }
  result.append(data.substring(index));
  return result.toString();
}
