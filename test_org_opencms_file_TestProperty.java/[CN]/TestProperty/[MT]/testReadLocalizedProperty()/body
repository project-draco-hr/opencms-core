{
  CmsObject cms=getCmsObject();
  echo("Test reading local specific properties");
  CmsProperty property1=new CmsProperty("all","all","all");
  CmsProperty property1de=new CmsProperty("all_de","all de","all de");
  CmsProperty property1deDE=new CmsProperty("all_de_DE","all de DE","all de DE");
  CmsProperty property2=new CmsProperty("onlyde_de","onlyde de","onlyde de");
  List<CmsProperty> propertyList=new ArrayList<CmsProperty>();
  propertyList.add(property1);
  propertyList.add(property1de);
  propertyList.add(property1deDE);
  propertyList.add(property2);
  String resource="/index.html";
  cms.lockResource(resource);
  cms.writePropertyObjects(resource,propertyList);
  cms.unlockResource(resource);
  CmsProperty prop=cms.readPropertyObject(resource,"all",false,new Locale("de","DE"));
  assertEquals("all de DE",prop.getStructureValue());
  prop=cms.readPropertyObject(resource,"all",false,new Locale("de"));
  assertEquals("all de",prop.getStructureValue());
  prop=cms.readPropertyObject(resource,"all",false,null);
  assertEquals("all",prop.getStructureValue());
  prop=cms.readPropertyObject(resource,"all",false,new Locale("en","GB"));
  assertEquals("all",prop.getStructureValue());
  prop=cms.readPropertyObject(resource,"onlyde",false,new Locale("de","DE"));
  assertEquals("onlyde de",prop.getStructureValue());
  prop=cms.readPropertyObject(resource,"onlyde",false,new Locale("de"));
  assertEquals("onlyde de",prop.getStructureValue());
  prop=cms.readPropertyObject(resource,"onlyde",false,null);
  assertEquals(CmsProperty.getNullProperty(),prop);
  prop=cms.readPropertyObject(resource,"onlyde",false,new Locale("en","GB"));
  assertEquals(CmsProperty.getNullProperty(),prop);
}
