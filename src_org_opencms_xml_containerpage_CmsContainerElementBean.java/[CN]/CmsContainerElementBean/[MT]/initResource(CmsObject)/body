{
  if (m_resource == null) {
    if (cms.getRequestContext().getCurrentProject().isOnlineProject()) {
      m_resource=cms.readResource(getId());
      m_releasedAndNotExpired=true;
    }
 else {
      m_resource=cms.readResource(getId(),CmsResourceFilter.IGNORE_EXPIRATION);
      m_releasedAndNotExpired=m_resource.isReleasedAndNotExpired(cms.getRequestContext().getRequestTime());
    }
  }
 else   if (!isInMemoryOnly()) {
    CmsUUID id=m_resource.getStructureId();
    if (id == null) {
      id=getId();
    }
    if (cms.getRequestContext().getCurrentProject().isOnlineProject()) {
      m_resource=cms.readResource(getId());
      m_releasedAndNotExpired=true;
    }
 else {
      m_resource=cms.readResource(getId(),CmsResourceFilter.IGNORE_EXPIRATION);
      m_releasedAndNotExpired=m_resource.isReleasedAndNotExpired(cms.getRequestContext().getRequestTime());
    }
  }
  if (m_settings == null) {
    m_settings=CmsXmlContentPropertyHelper.mergeDefaults(cms,m_resource,m_individualSettings);
  }
  m_sitePath=cms.getSitePath(m_resource);
}
