{
  Node node=document.selectSingleNode(xpath);
  if (node == null) {
    if (xpath.equals(getXPathsToUpdate().get(0))) {
      createDocType(document,xpath,"xmlcontent-galleries",CmsGalleryDocumentXmlContent.class,new String[]{},new String[]{"xmlcontent-galleries"});
    }
 else     if (xpath.equals(getXPathsToUpdate().get(1))) {
      createDocType(document,xpath,"xmlpage-galleries",CmsGalleryDocumentXmlPage.class,new String[]{"text/html"},new String[]{"xmlpage-galleries"});
    }
 else     if (xpath.equals(getXPathsToUpdate().get(2))) {
      createAnalyzer(document,xpath,CmsGallerySearchAnalyzer.class,"all");
    }
 else     if (xpath.equals(getXPathsToUpdate().get(3))) {
      createIndex(document,xpath,CmsGallerySearchIndex.class,CmsGallerySearchIndex.GALLERY_INDEX_NAME,"offline","Offline","all","ADE_gallery_fields",new String[]{"ADE_gallery_source"});
    }
 else     if (xpath.equals(getXPathsToUpdate().get(4))) {
      createIndexSource(document,xpath,"ADE_gallery_source",CmsVfsIndexer.class,new String[]{"/sites/"},new String[]{"xmlpage-galleries","xmlcontent-galleries","page","text","pdf","rtf","html","msword","msexcel","mspowerpoint","image","generic","openoffice"});
    }
 else     if (xpath.equals(getXPathsToUpdate().get(5))) {
      CmsSearchFieldConfiguration fieldConf=new CmsSearchFieldConfiguration();
      fieldConf.setName("ADE_gallery_fields");
      fieldConf.setDescription("The standard OpenCms search index field configuration.");
      CmsSearchField field=new CmsSearchField();
      field.setName("content");
      field.setStored("compress");
      field.setIndexed("true");
      field.setInExcerpt("true");
      CmsSearchFieldMapping mapping=new CmsSearchFieldMapping();
      mapping.setType("content");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("title-key");
      field.setStored("true");
      field.setIndexed("untokenized");
      field.setBoost("0.0");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("property");
      mapping.setParam("Title");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("title");
      field.setStored("false");
      field.setIndexed("true");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("property");
      mapping.setParam("Title");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("description");
      field.setStored("true");
      field.setIndexed("true");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("property");
      mapping.setParam("Description");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("meta");
      field.setStored("false");
      field.setIndexed("true");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("property");
      mapping.setParam("Title");
      field.addMapping(mapping);
      mapping=new CmsSearchFieldMapping();
      mapping.setType("property");
      mapping.setParam("Description");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_dateExpired");
      field.setStored("true");
      field.setIndexed("untokenized");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("dateExpired");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_dateReleased");
      field.setStored("true");
      field.setIndexed("untokenized");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("dateReleased");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_length");
      field.setStored("true");
      field.setIndexed("untokenized");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("length");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_state");
      field.setStored("true");
      field.setIndexed("untokenized");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("state");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_structureId");
      field.setStored("true");
      field.setIndexed("false");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("structureId");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_userCreated");
      field.setStored("true");
      field.setIndexed("untokenized");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("userCreated");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_userLastModified");
      field.setStored("true");
      field.setIndexed("untokenized");
      mapping=new CmsSearchFieldMapping();
      mapping.setType("attribute");
      mapping.setParam("userLastModified");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("res_locales");
      field.setStored("true");
      field.setIndexed("true");
      try {
        field.setAnalyzer("WhitespaceAnalyzer");
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      mapping=new CmsGallerySearchFieldMapping();
      mapping.setType("dynamic");
      mapping.setParam("res_locales");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("additional_info");
      field.setStored("true");
      field.setIndexed("false");
      mapping=new CmsGallerySearchFieldMapping();
      mapping.setType("dynamic");
      mapping.setParam("additional_info");
      field.addMapping(mapping);
      fieldConf.addField(field);
      field=new CmsSearchField();
      field.setName("container_types");
      field.setStored("true");
      field.setIndexed("true");
      try {
        field.setAnalyzer("WhitespaceAnalyzer");
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      mapping=new CmsGallerySearchFieldMapping();
      mapping.setType("dynamic");
      mapping.setParam("container_types");
      field.addMapping(mapping);
      fieldConf.addField(field);
      createFieldConfig(document,xpath,fieldConf,CmsGallerySearchFieldConfiguration.class);
    }
 else     if (xpath.equals(getXPathsToUpdate().get(6))) {
      createDocType(document,xpath,"containerpage",CmsDocumentContainerPage.class,new String[]{"text/html"},new String[]{"containerpage"});
    }
    return true;
  }
  return false;
}
