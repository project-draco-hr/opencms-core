{
  Element node=(Element)doc.selectSingleNode("/opencms/search/indexsources");
  if (!node.selectNodes("indexsource[name='gallery_modules_source']").isEmpty()) {
    return false;
  }
  String galleryModulesSource="            <indexsource>\n" + "                <name>gallery_modules_source</name>\n" + "                <indexer class=\"org.opencms.search.CmsVfsIndexer\" />\n"+ "                <resources>\n"+ "                    <resource>/system/modules/</resource>\n"+ "                </resources>\n"+ "                <documenttypes-indexed>\n"+ "                    <name>xmlcontent-galleries</name>\n"+ "                </documenttypes-indexed>                \n"+ "            </indexsource>              \n";
  try {
    Element sourceElem=createElementFromXml(galleryModulesSource);
    node.add(sourceElem);
    return true;
  }
 catch (  DocumentException e) {
    System.err.println("Failed to add gallery_modules_source");
    return false;
  }
}
