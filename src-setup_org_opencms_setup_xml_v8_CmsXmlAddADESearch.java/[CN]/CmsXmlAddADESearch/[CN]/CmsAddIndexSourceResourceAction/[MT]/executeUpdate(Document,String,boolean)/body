{
  if (!forReal) {
    CmsSetupXmlHelper.setValue(doc,"/opencms/search/indexsources/indexsource[name='gallery_source']/resources/resource[text()='/system/galleries/']","/system/galleries/");
    return true;
  }
  Element indexSourceResources=(Element)doc.selectSingleNode("/opencms/search/indexsources/indexsource[name='gallery_source']/resources");
  if (indexSourceResources == null) {
    return false;
  }
  Element source=(Element)indexSourceResources.selectSingleNode("resource[text()='/system/galleries/']");
  if (source != null) {
    return false;
  }
  Element resourceElement=indexSourceResources.addElement("resource");
  resourceElement.addText("/system/galleries/");
  return true;
}
