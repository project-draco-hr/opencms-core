{
  ElementState state;
  if (_elementStateCount == _elementStates.length) {
    ElementState[] newStates;
    int i;
    newStates=new ElementState[_elementStates.length + 5];
    System.arraycopy(_elementStates,0,newStates,0,_elementStates.length);
    _elementStates=newStates;
    for (i=_elementStateCount; i < _elementStates.length; ++i)     _elementStates[i]=new ElementState();
  }
  state=_elementStates[_elementStateCount];
  state.tagName=tagName;
  state.preserveSpace=preserveSpace;
  state.empty=true;
  state.afterElement=false;
  ++_elementStateCount;
  return state;
}
