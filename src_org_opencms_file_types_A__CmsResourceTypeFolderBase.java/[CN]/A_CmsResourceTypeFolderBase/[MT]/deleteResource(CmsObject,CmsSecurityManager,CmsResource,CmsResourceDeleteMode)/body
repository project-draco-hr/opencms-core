{
  super.deleteResource(cms,securityManager,resource,siblingMode);
  List projects=OpenCms.getOrgUnitManager().getAllManageableProjects(cms,"",true);
  CmsProject project;
  List projectResources;
  Iterator itProjectResources;
  String projectResourceRootPath;
  String deletedResourceRootPath=resource.getRootPath();
  Iterator itProjects=projects.iterator();
  while (itProjects.hasNext()) {
    project=(CmsProject)itProjects.next();
    projectResources=cms.readProjectResources(project);
    itProjectResources=projectResources.iterator();
    while (itProjectResources.hasNext()) {
      projectResourceRootPath=(String)itProjectResources.next();
      if (deletedResourceRootPath.equals(projectResourceRootPath)) {
        CmsObject projectCms=OpenCms.initCmsObject(cms);
        CmsRequestContext context=projectCms.getRequestContext();
        context.setCurrentProject(project);
        securityManager.removeResourceFromProject(context,resource);
      }
    }
  }
}
