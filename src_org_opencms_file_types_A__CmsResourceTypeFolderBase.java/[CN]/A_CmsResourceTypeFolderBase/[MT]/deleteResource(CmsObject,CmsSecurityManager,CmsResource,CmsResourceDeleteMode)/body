{
  super.deleteResource(cms,securityManager,resource,siblingMode);
  List<CmsProject> projects=OpenCms.getOrgUnitManager().getAllManageableProjects(cms,"",true);
  CmsProject project;
  List<String> projectResources;
  Iterator<String> itProjectResources;
  String projectResourceRootPath;
  String deletedResourceRootPath=resource.getRootPath();
  Iterator<CmsProject> itProjects=projects.iterator();
  while (itProjects.hasNext()) {
    project=itProjects.next();
    projectResources=cms.readProjectResources(project);
    itProjectResources=projectResources.iterator();
    while (itProjectResources.hasNext()) {
      projectResourceRootPath=itProjectResources.next();
      if (projectResourceRootPath.startsWith(deletedResourceRootPath)) {
        CmsObject projectCms=OpenCms.initCmsObject(cms);
        CmsRequestContext context=projectCms.getRequestContext();
        context.setCurrentProject(project);
        securityManager.removeResourceFromProject(context,resource);
      }
    }
  }
}
