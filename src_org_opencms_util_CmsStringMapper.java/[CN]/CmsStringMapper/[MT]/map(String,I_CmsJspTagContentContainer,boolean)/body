{
  if (str == null) {
    return null;
  }
  if (contentContainer != null && contentContainer.getResourceName() != null) {
    m_resourceName=contentContainer.getResourceName();
  }
 else   if (m_cms != null) {
    m_resourceName=m_cms.getRequestContext().getUri();
  }
 else {
    m_resourceName=null;
  }
  return CmsStringUtil.substituteMacros(str,this,keepUnreplacedMacros);
}
