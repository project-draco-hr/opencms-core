{
  m_groupContainer.clear();
  CmsAdminMenuGroup helpMenu=new CmsAdminMenuGroup("help",Messages.get().key(getLocale(),Messages.GUI_ADMIN_MENU_HELP_GROUP_0,null));
  helpMenu.addMenuItem(new CmsAdminContextHelpMenuItem());
  addGroup(helpMenu);
  Iterator itElems=getToolManager().getToolHandlers().iterator();
  while (itElems.hasNext()) {
    CmsTool tool=(CmsTool)itElems.next();
    if (!getCms().existsResource(tool.getHandler().getLink()) || !tool.getHandler().isVisible(getCms())) {
      continue;
    }
    String root=getToolManager().getRootToolPath(this);
    if (!tool.getHandler().getPath().startsWith(root)) {
      continue;
    }
    String path=tool.getHandler().getPath().substring(getToolManager().getRootToolPath(this).length());
    if (CmsStringUtil.isEmpty(path)) {
      continue;
    }
    int pos=tool.getHandler().getPath().indexOf(CmsToolManager.C_TOOLPATH_SEPARATOR);
    if (path.indexOf(CmsToolManager.C_TOOLPATH_SEPARATOR,pos + 1) < 0) {
      addItem(tool.getHandler().getGroup(),tool.getHandler().getShortName(),tool.getHandler().getSmallIconPath(),getToolManager().linkForPath(getJsp(),tool.getHandler().getPath(),null),tool.getHandler().isEnabled(getCms()) ? tool.getHandler().getHelpText() : tool.getHandler().getDisabledHelpText(),tool.getHandler().isEnabled(getCms()),tool.getHandler().getPosition(),CmsAdminMenu.DEFAULT_TARGET);
    }
  }
}
