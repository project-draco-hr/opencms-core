{
  String label=Messages.get().container(Messages.GUI_COMPARE_VIEW_VERSION_1,version).key(getLocale());
  String iconPath=null;
  try {
    String typeName=OpenCms.getResourceManager().getResourceType(getFile1().getTypeId()).getTypeName();
    iconPath="filetypes/" + OpenCms.getWorkplaceManager().getExplorerTypeSetting(typeName).getIcon();
  }
 catch (  CmsException e) {
    iconPath="filetypes/" + OpenCms.getWorkplaceManager().getExplorerTypeSetting(CmsResourceTypePlain.getStaticTypeName()).getIcon();
  }
  StringBuffer result=new StringBuffer(1024);
  result.append("<span class='link' onClick=\"");
  result.append("window.open('");
  StringBuffer link=new StringBuffer(1024);
  if ("-1".equals(tagId)) {
    link.append(getParamResource());
  }
 else {
    link.append(CmsBackupResourceHandler.BACKUP_HANDLER);
    link.append(path);
    link.append('?');
    link.append(CmsBackupResourceHandler.PARAM_VERSIONID);
    link.append('=');
    link.append(tagId);
  }
  result.append(getJsp().link(link.toString()));
  result.append("','version','scrollbars=yes', 'resizable=yes', 'width=800', 'height=600')\">");
  result.append("<img style='width: 16px; height: 16px;' src='");
  result.append(CmsWorkplace.getSkinUri());
  result.append(iconPath);
  result.append("' alt='");
  result.append(label);
  result.append("' title='");
  result.append(label);
  result.append("'>&nbsp;<a href='#'>");
  result.append(label);
  result.append("</a></span>");
  return result.toString();
}
