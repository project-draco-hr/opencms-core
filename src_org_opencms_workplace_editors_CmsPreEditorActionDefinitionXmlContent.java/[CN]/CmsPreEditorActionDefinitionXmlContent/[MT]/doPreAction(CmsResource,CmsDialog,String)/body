{
  String newlink=dialog.getJsp().getRequest().getParameter(CmsXmlContentEditor.PARAM_NEWLINK);
  if (CmsStringUtil.isNotEmpty(newlink)) {
    I_CmsResourceType type=OpenCms.getResourceManager().getResourceType(resource.getTypeId());
    String folderPath=dialog.getSettings().getExplorerResource();
    String resName=dialog.getJsp().getRequest().getParameter(CmsDialog.PARAM_RESOURCE);
    if (CmsStringUtil.isNotEmpty(resName)) {
      folderPath=CmsResource.getFolderPath(resName);
    }
    if (CmsNewResourceXmlContent.getModelFiles(dialog.getCms(),folderPath,type.getTypeName()).size() > 0) {
      Map params=new HashMap(4);
      params.put(CmsDialog.PARAM_ORIGINALPARAMS,originalParams);
      params.put(CmsDialog.PARAM_ACTION,CmsNewResourceXmlContent.DIALOG_CHOOSEMODEL);
      params.put(CmsDialog.PARAM_TITLE,dialog.getJsp().getRequest().getParameter("editortitle"));
      params.put(CmsNewResource.PARAM_NEWRESOURCETYPE,type.getTypeName());
      String paramBackLink=dialog.getJsp().getRequest().getParameter(CmsEditor.PARAM_BACKLINK);
      if (CmsStringUtil.isNotEmpty(paramBackLink)) {
        params.put(CmsEditor.PARAM_BACKLINK,paramBackLink);
      }
      if (CmsStringUtil.isNotEmpty(resName)) {
        params.put(CmsDialog.PARAM_RESOURCE,resName);
      }
      dialog.sendForward(CmsNewResourceXmlContentModel.VFS_PATH_MODELDIALOG,params);
      return true;
    }
  }
  return false;
}
