{
  List<I_CmsContextMenuEntry> menuEntries=new ArrayList<I_CmsContextMenuEntry>();
  for (  CmsContextMenuEntryBean bean : menuBeans) {
    final CmsContextMenuEntry entry=new CmsContextMenuEntry();
    entry.setBean(bean);
    if (bean.hasSubMenu()) {
      entry.setSubMenu(transformEntries(bean.getSubMenu(),uri));
    }
    Command cmd=null;
    String name=entry.getName();
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(name)) {
      if (name.equals(CmsAvailabilityDialog.class.getName())) {
        entry.setImageClass(org.opencms.gwt.client.ui.css.I_CmsImageBundle.INSTANCE.contextMenuIcons().availabilitySmall());
        cmd=new Command(){
          /** 
 * @see com.google.gwt.user.client.Command#execute()
 */
          public void execute(){
            new CmsAvailabilityDialog(m_controller.getData().getContainerpageUri()).loadAndShow();
          }
        }
;
      }
 else       if (name.equals(CmsUploadDialog.class.getName())) {
        cmd=new Command(){
          /** 
 * @see com.google.gwt.user.client.Command#execute()
 */
          public void execute(){
            CmsPopupDialog dialog=new CmsPopupDialog();
            CmsUploadButton upload=new CmsUploadButton();
            dialog.setContent(upload);
            dialog.center();
          }
        }
;
      }
    }
 else {
      cmd=new Command(){
        public void execute(){
          Window.alert(entry.getJspPath());
        }
      }
;
    }
    entry.setCommand(cmd);
    menuEntries.add(entry);
  }
  return menuEntries;
}
