{
  final String id=elementWidget.getClientId();
  m_controller.getElement(id,new I_CmsSimpleCallback<CmsContainerElementData>(){
    public void execute(    final CmsContainerElementData elementBean){
      Map<String,String> properties=elementBean.getProperties();
      Map<String,CmsXmlContentProperty> propertyConfig=elementBean.getPropertyConfig();
      if (propertyConfig.size() == 0) {
        String message=Messages.get().key(Messages.GUI_NO_PROPERTIES_0);
        String title=Messages.get().key(Messages.GUI_NO_PROPERTIES_TITLE_0);
        (new CmsAlertDialog(title,message)).center();
        return;
      }
      I_CmsFormHandler formHandler=new I_CmsFormHandler(){
        /** 
 * @see org.opencms.gwt.client.ui.input.form.I_CmsFormHandler#onSubmitForm(java.util.Map)
 */
        public void onSubmitForm(        Map<String,String> fieldValues){
          m_controller.reloadElementWithProperties(elementWidget,elementBean.getClientId(),CmsCollectionUtil.removeNullEntries(fieldValues));
        }
      }
;
      String title=Messages.get().key(Messages.GUI_PROPERTY_DIALOG_TITLE_0);
      CmsFormDialog dialog=new CmsFormDialog(title);
      CmsForm form=dialog.getForm();
      form.addLabel(Messages.get().key(Messages.GUI_PROPERTY_DIALOG_TEXT_0),false);
      Map<String,I_CmsFormField> formFields=CmsBasicFormField.createFields(propertyConfig.values());
      for (      I_CmsFormField field : formFields.values()) {
        form.addField(field,properties.get(field.getId()));
      }
      dialog.setFormHandler(formHandler);
      dialog.center();
    }
    public void onError(    String message){
    }
  }
);
}
