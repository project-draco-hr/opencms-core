{
  if (!m_controller.hasPageChanged()) {
    m_controller.leaveUnsaved(target);
    return;
  }
  CmsAcceptDeclineCancelDialog leavingDialog=new CmsAcceptDeclineCancelDialog(Messages.get().key(Messages.GUI_DIALOG_PAGE_NOT_SAVED_TITLE_0),Messages.get().key(Messages.GUI_DIALOG_PAGE_NOT_SAVED_0));
  leavingDialog.setHandler(new I_CmsAcceptDeclineCancelHandler(){
    /** 
 * @see org.opencms.gwt.client.ui.I_CmsAcceptDeclineCancelHandler#onAccept()
 */
    public void onAccept(){
      m_controller.saveAndLeave(target);
    }
    /** 
 * @see org.opencms.gwt.client.ui.I_CmsCloseDialogHandler#onClose()
 */
    public void onClose(){
      deactivateCurrentButton();
      activateSelection();
    }
    /** 
 * @see org.opencms.gwt.client.ui.I_CmsAcceptDeclineCancelHandler#onDecline()
 */
    public void onDecline(){
      m_controller.leaveUnsaved(target);
    }
  }
);
  leavingDialog.setAcceptText(Messages.get().key(Messages.GUI_BUTTON_SAVE_TEXT_0));
  leavingDialog.setDeclineText(Messages.get().key(Messages.GUI_BUTTON_LEAVEPAGE_TEXT_0));
  leavingDialog.setCloseText(Messages.get().key(Messages.GUI_BUTTON_CANCEL_TEXT_0));
  leavingDialog.center();
}
