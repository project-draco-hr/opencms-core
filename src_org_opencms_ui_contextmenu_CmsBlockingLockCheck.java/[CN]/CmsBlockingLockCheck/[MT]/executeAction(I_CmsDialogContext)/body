{
  CmsObject cms=context.getCms();
  List<CmsResource> resources=context.getResources();
  List<CmsResource> blocked=Lists.newArrayList();
  for (  CmsResource resource : resources) {
    try {
      blocked.addAll(cms.getBlockingLockedResources(resource));
    }
 catch (    CmsException e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
  if (blocked.isEmpty()) {
    m_nextAction.executeAction(context);
  }
 else {
    CmsLockedResourcesList lockedResourcesList=new CmsLockedResourcesList(cms,blocked);
    CmsBasicDialog dialog=new CmsBasicDialog();
    dialog.setContent(lockedResourcesList);
    context.start(CmsVaadinUtils.getMessageText(org.opencms.workplace.explorer.Messages.GUI_EXPLORER_CONTEXT_LOCKS_0),lockedResourcesList);
  }
}
