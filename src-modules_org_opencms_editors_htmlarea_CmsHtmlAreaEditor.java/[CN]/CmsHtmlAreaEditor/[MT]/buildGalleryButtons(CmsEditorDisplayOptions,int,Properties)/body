{
  StringBuffer result=new StringBuffer();
  Iterator i=OpenCms.getWorkplaceManager().getGalleries().keySet().iterator();
  while (i.hasNext()) {
    String galleryType=(String)i.next();
    String galleryName=CmsStringUtil.substitute(galleryType,"gallery","");
    if (options.showElement("gallery." + galleryName,displayOptions)) {
      result.append("config.registerButton(\"");
      result.append(galleryType);
      result.append("\", \"");
      result.append(key(org.opencms.workplace.editors.Messages.getGalleryKey(galleryName)));
      result.append("\", __editor.imgURL(\"../../editors/htmlarea/images/opencms/");
      result.append(galleryType);
      result.append(".gif\"), false, function(e) { openGallery(\'");
      result.append(galleryType);
      result.append("\'); });\n");
    }
  }
  return result.toString();
}
