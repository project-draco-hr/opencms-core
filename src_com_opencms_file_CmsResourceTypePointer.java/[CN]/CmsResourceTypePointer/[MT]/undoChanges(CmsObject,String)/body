{
  String oldTargetResourceName=new String(cms.readFile(theResourceName).getContents());
  super.undoChanges(cms,theResourceName);
  String newTargetResourceName=new String(cms.readFile(theResourceName).getContents());
  if (!oldTargetResourceName.equals(newTargetResourceName)) {
    cms.doDecrementLinkCountForResource(oldTargetResourceName);
    cms.doIncrementLinkCountForResource(newTargetResourceName);
    cms.linkResourceToTarget(theResourceName,newTargetResourceName);
  }
}
