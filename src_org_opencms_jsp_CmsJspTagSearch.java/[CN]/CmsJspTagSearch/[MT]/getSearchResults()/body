{
  m_searchController.updateFromRequestParameters(pageContext.getRequest().getParameterMap(),false);
  I_CmsSearchControllerCommon common=m_searchController.getCommon();
  if (common.getState().getQuery().isEmpty() && !common.getConfig().getSearchForEmptyQueryParam()) {
    return new CmsSearchResultWrapper(m_searchController,null,null,m_cms,null);
  }
  CmsSolrQuery query=new CmsSolrQuery();
  m_searchController.addQueryParts(query);
  try {
    CmsSolrResultList solrResultList=m_index.search(m_cms,query,true);
    return new CmsSearchResultWrapper(m_searchController,solrResultList,query,m_cms,null);
  }
 catch (  CmsSearchException e) {
    LOG.warn(Messages.get().getBundle().key(Messages.LOG_TAG_SEARCH_SEARCH_FAILED_0),e);
    return new CmsSearchResultWrapper(m_searchController,null,query,m_cms,e);
  }
}
