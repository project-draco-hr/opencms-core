{
  if (relativePath == null || "".equals(relativePath)) {
    return basePath;
  }
  if (relativePath.startsWith("/") || basePath == null) {
    return relativePath;
  }
  basePath=basePath.substring(0,basePath.lastIndexOf('/') + 1);
  String result=null;
  if (relativePath.startsWith("./")) {
    relativePath=relativePath.substring(2);
  }
  if (relativePath.startsWith("../")) {
    int lastIndexOfSlash=relativePath.lastIndexOf("../");
    int count=(lastIndexOfSlash / 3) + 1;
    int baseCount=basePath.lastIndexOf('/') - 1;
    for (int i=0; i < count; i++) {
      baseCount=basePath.lastIndexOf('/',baseCount) - 1;
    }
    result=basePath.substring(0,baseCount + 2) + relativePath.substring(lastIndexOfSlash + 3);
  }
 else {
    result=basePath + relativePath;
  }
  return result;
}
