{
  Vector allFiles=null;
  try {
    allFiles=cms.getFilesInFolder(folder);
  }
 catch (  Exception e) {
    if (A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_CRITICAL,"[CmsXmlNewsContentDefinition] " + e);
    }
    allFiles=null;
  }
  if (allFiles == null) {
    String errorMessage="Could not read news article files in folder " + folder;
    if (A_OpenCms.isLogging()) {
      A_OpenCms.log(C_OPENCMS_CRITICAL,"[CmsXmlNewsContentDefinition] " + errorMessage);
    }
    throw new CmsException(errorMessage);
  }
  Vector listFiles=new Vector();
  int numFiles=allFiles.size();
  for (int i=0; i < numFiles; i++) {
    CmsXmlNewsContentDefinition newsDoc=new CmsXmlNewsContentDefinition();
    CmsFile fileHeader=(CmsFile)allFiles.elementAt(i);
    CmsFile file=cms.readFile(fileHeader.getAbsolutePath());
    newsDoc.init(cms,file);
    listFiles.addElement(newsDoc);
  }
  return listFiles.elements();
}
