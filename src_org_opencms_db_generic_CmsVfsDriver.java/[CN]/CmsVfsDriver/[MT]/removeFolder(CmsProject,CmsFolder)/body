{
  List files=getSubResources(currentProject,folder,false);
  files=getUndeletedResources(files);
  if (files.size() == 0) {
    List folders=getSubResources(currentProject,folder,true);
    folders=getUndeletedResources(folders);
    if (folders.size() == 0) {
      removeFolder(currentProject,folder.getId());
    }
 else {
      throw new CmsException("[" + this.getClass().getName() + "] "+ folder.getResourceName(),CmsException.C_NOT_EMPTY);
    }
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ folder.getResourceName(),CmsException.C_NOT_EMPTY);
  }
}
