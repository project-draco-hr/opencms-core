{
  String paramVersions=request.getParameter("versions");
  String paramDay=request.getParameter("day");
  String paramMonth=request.getParameter("month");
  String paramYear=request.getParameter("year");
  int versions=0;
  long timeStamp=0;
  boolean useVersions=false;
  try {
    versions=Integer.parseInt(paramVersions);
    useVersions=true;
  }
 catch (  NumberFormatException e) {
    try {
      int day=Integer.parseInt(paramDay);
      int month=Integer.parseInt(paramMonth) - 1;
      int year=Integer.parseInt(paramYear);
      Calendar cal=new GregorianCalendar();
      cal.set(year,month,day);
      timeStamp=cal.getTimeInMillis();
    }
 catch (    NumberFormatException ex) {
      throw new CmsException("Invalid arguments. Check the input fields of the dialog",CmsException.C_BAD_NAME,ex);
    }
  }
  if (!useVersions) {
    versions=getCms().getRegistry().getMaximumBackupVersions();
  }
  getCms().deleteBackups(timeStamp,versions);
  return true;
}
