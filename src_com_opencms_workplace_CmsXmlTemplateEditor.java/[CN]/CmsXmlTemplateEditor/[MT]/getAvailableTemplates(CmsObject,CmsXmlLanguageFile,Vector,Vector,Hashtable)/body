{
  String currentFile=(String)parameters.get("filename_for_relative_template");
  String filetype=(String)parameters.get("root.pagetype");
  if ("gemadipage".equals(filetype)) {
    return CmsNewResourceGemadipage.getRelativeTemplates(cms,names,values,(String)parameters.get("template"),currentFile);
  }
 else {
    Integer retValue=CmsHelperMastertemplates.getTemplates(cms,names,values,(String)parameters.get("template"),-1);
    if (retValue.intValue() != -1) {
      return retValue;
    }
 else {
      names.removeAllElements();
      values.removeAllElements();
      String name=(String)parameters.get("template");
      try {
        name=cms.readProperty(name,C_PROPERTY_TITLE);
      }
 catch (      CmsException exc) {
      }
      names.add(name);
      values.add((String)parameters.get("template"));
      return new Integer(0);
    }
  }
}
