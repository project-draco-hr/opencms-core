{
  cms.getRequestContext().setCurrentProject(cms.readProject(tempProject));
  CmsFile tempFile=cms.readFile(temporaryFilename);
  Map minfos=cms.readProperties(temporaryFilename);
  cms.getRequestContext().setCurrentProject(cms.readProject(curProject));
  CmsFile orgFile=cms.readFile(originalFilename);
  orgFile.setContents(tempFile.getContents());
  cms.writeFile(orgFile);
  Iterator keys=minfos.keySet().iterator();
  while (keys.hasNext()) {
    String keyName=(String)keys.next();
    cms.writeProperty(originalFilename,keyName,(String)minfos.get(keyName));
  }
  A_CmsXmlContent.clearFileCache(cms.getRequestContext().currentProject().getName() + ":" + cms.getRequestContext().addSiteRoot(originalFilename));
}
