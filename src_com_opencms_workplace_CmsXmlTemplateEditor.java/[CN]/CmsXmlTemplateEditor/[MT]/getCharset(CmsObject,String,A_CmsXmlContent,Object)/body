{
  String prop=null;
  try {
    I_CmsSession session=cms.getRequestContext().getSession(true);
    String file=(String)session.getValue("te_file");
    prop=cms.readProperty(file,"charset");
    while ((prop == null) && (!"".equals(file))) {
      file=file.substring(0,file.lastIndexOf("/"));
      prop=cms.readProperty(file + "/","charset");
    }
  }
 catch (  Exception e) {
  }
  if (prop == null)   prop="ISO-8859-1";
  return prop;
}
