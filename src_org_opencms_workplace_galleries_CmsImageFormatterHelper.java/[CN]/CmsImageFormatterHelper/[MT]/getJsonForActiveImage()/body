{
  JSONObject jsonObj=new JSONObject();
  JSONObject activeImageObj=new JSONObject();
  try {
    CmsImageScaler scaler=new CmsImageScaler(getCmsObject(),getResource());
    if (scaler.isValid()) {
      activeImageObj.put(JsonKeys.WIDTH.getName(),scaler.getWidth());
    }
 else {
      activeImageObj.put(JsonKeys.WIDTH.getName(),-1);
    }
    if (scaler.isValid()) {
      activeImageObj.put(JsonKeys.HEIGHT.getName(),scaler.getHeight());
    }
 else {
      activeImageObj.put(JsonKeys.HEIGHT.getName(),-1);
    }
    activeImageObj.put(JsonKeys.LINKPATH.getName(),getLinkPath());
    String copyright=property(JsonKeys.COPYRIGHT.getName(),getCmsObject().getSitePath(getResource()),"");
    activeImageObj.put(JsonKeys.COPYRIGHT.getName().toLowerCase(),CmsStringUtil.escapeJavaScript(copyright));
    String title=property(JsonKeys.TITLE.getName(),getCmsObject().getSitePath(getResource()),"");
    activeImageObj.put(JsonKeys.TITLE.getName().toLowerCase(),CmsStringUtil.escapeJavaScript(title));
    String description=property(JsonKeys.TITLE.getName(),getCmsObject().getSitePath(getResource()),"");
    activeImageObj.put(JsonKeys.Description.getName().toLowerCase(),CmsStringUtil.escapeJavaScript(description));
    activeImageObj.put(JsonKeys.HASH.getName(),getResource().getStructureId().hashCode());
    jsonObj.put(JsonKeys.ACTIVEIMAGE.getName(),activeImageObj);
  }
 catch (  JSONException e) {
  }
catch (  CmsException e) {
  }
  return jsonObj;
}
