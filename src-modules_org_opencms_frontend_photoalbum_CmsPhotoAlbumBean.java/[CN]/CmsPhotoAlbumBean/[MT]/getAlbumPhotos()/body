{
  if (m_albumPhotos == null) {
    int imageId;
    try {
      imageId=OpenCms.getResourceManager().getResourceType(CmsResourceTypeImage.getStaticTypeName()).getTypeId();
    }
 catch (    CmsLoaderException e1) {
      LOG.warn(e1.getLocalizedMessage(),e1);
      imageId=CmsResourceTypeImage.getStaticTypeId();
    }
    CmsResourceFilter filter=CmsResourceFilter.DEFAULT.addRequireType(imageId);
    try {
      m_albumPhotos=getCmsObject().readResources(getConfiguration().getVfsPathGallery(),filter,false);
    }
 catch (    CmsException e) {
      m_albumPhotos=new ArrayList(0);
      if (LOG.isErrorEnabled()) {
        LOG.error(Messages.get().getBundle().key(Messages.LOG_ERR_IMAGEFOLDER_NOT_FOUND_1,getConfiguration().getVfsPathGallery()));
      }
      addConfigError(m_messages.key(Messages.LOG_ERR_IMAGEFOLDER_NOT_FOUND_1,getConfiguration().getVfsPathGallery()));
    }
  }
  return m_albumPhotos;
}
