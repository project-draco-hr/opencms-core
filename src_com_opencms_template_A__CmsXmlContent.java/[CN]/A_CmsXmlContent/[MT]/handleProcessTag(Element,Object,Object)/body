{
  String blockname=getTagValue(n).toLowerCase();
  Element datablock=null;
  if (OpenCms.isLogging(CmsLog.C_OPENCMS_DEBUG,CmsLog.LEVEL_WARN) && C_DEBUG) {
    OpenCms.log(CmsLog.C_OPENCMS_DEBUG,CmsLog.LEVEL_WARN,getClassName() + "handleProcessTag() started. Request for datablock \"" + blockname+ "\".");
  }
  datablock=((Element)m_blocks.get(blockname));
  if (datablock == null) {
    if (OpenCms.isLogging(CmsLog.C_OPENCMS_CRITICAL,CmsLog.LEVEL_WARN)) {
      String logUri="";
      try {
        logUri=" RequestUri is " + m_cms.getRequestContext().getFolderUri() + m_cms.getRequestContext().getFileUri()+ ".";
      }
 catch (      Exception e) {
      }
      OpenCms.log(CmsLog.C_OPENCMS_CRITICAL,CmsLog.LEVEL_WARN,getClassName() + "Requested datablock  \"" + blockname+ "\" not found in "+ m_filename+ "!"+ logUri);
    }
    return C_ERR_NODATABLOCK + blockname;
  }
 else {
    return datablock.getChildNodes();
  }
}
