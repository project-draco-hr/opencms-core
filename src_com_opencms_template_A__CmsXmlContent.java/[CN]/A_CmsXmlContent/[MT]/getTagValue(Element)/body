{
  StringBuffer result=new StringBuffer();
  if (n != null) {
    NodeList childNodes=n.getChildNodes();
    Node child=null;
    int numchilds=childNodes.getLength();
    if (childNodes != null) {
      for (int i=0; i < numchilds; i++) {
        child=childNodes.item(i);
        if (child.getNodeType() == n.CDATA_SECTION_NODE) {
          result.append(child.getNodeValue());
        }
 else         if (child.getNodeType() == n.TEXT_NODE) {
          String s=child.getNodeValue().trim();
          if (!"".equals(s)) {
            result.append(child.getNodeValue());
          }
        }
      }
    }
  }
  return result.toString();
}
