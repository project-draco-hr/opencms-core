{
  String[] projectIds=CmsStringUtil.splitAsArray(getParamProjectids(),CmsHtmlList.C_ITEM_SEPARATOR);
  CmsPublishList list;
  try {
    CmsProject currentProject=getCms().getRequestContext().currentProject();
    getCms().getRequestContext().setCurrentProject(getCms().readProject(new Integer(projectIds[0]).intValue()));
    list=getCms().getPublishList();
    getCms().getRequestContext().setCurrentProject(currentProject);
  }
 catch (  CmsException e) {
    throw new CmsRuntimeException(e.getMessageContainer(),e);
  }
  CmsPublishThread publishProjectThread=new CmsPublishThread(getCms(),list,getSettings());
  return publishProjectThread;
}
