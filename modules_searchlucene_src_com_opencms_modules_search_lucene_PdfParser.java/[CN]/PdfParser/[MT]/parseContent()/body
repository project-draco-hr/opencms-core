{
  Thread curThread=Thread.currentThread();
  while (true) {
    if (curThread.isInterrupted()) {
      curThread.interrupt();
      break;
    }
    char[] token;
    while (true) {
      token=findToken();
      if (token != null) {
        if (token == AUTHOR) {
          author=parseData();
        }
 else         if (token == CREATIONDATE) {
          published=parseDate();
        }
 else         if (token == KEYWORDS) {
          keywords=parseData();
        }
 else         if (token == SUBJECT) {
          description=parseData();
        }
 else         if (token == TITLE) {
          title=parseData();
        }
 else         if (token == PARAMSTART) {
          in.mark(10000);
        }
 else         if (token == STREAM) {
          if (!streamHit) {
            in.reset();
            streamHit=true;
            parseDataParams();
          }
 else {
            if (parseNextStream) {
              contents.append(parseDataStream());
              parseNextStream=false;
            }
            streamHit=false;
          }
        }
      }
      if (!nextLine()) {
        break;
      }
    }
    break;
  }
}
