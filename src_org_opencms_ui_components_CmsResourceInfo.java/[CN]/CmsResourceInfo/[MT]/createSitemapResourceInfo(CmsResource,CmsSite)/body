{
  CmsResourceInfo info=new CmsResourceInfo();
  Locale locale=A_CmsUI.get().getLocale();
  CmsResourceUtil resUtil=new CmsResourceUtil(A_CmsUI.getCmsObject(),resource);
  resUtil.setAbbrevLength(100);
  I_CmsResourceType type=OpenCms.getResourceManager().getResourceType(resource);
  CmsExplorerTypeSettings settings=OpenCms.getWorkplaceManager().getExplorerTypeSetting(type.getTypeName());
  info.getTopLine().setValue(resUtil.getGalleryTitle(locale));
  String path=resource.getRootPath();
  if (baseSite != null) {
    String siteRoot=baseSite.getSiteRoot();
    if (path.startsWith(siteRoot)) {
      path=path.substring(siteRoot.length());
      path=CmsStringUtil.joinPaths("/",path);
    }
  }
  info.getBottomLine().setValue(path);
  String icon=CmsSitemapTreeContainer.getSitemapResourceIcon(A_CmsUI.getCmsObject(),resUtil.getResource());
  info.getResourceIcon().initContent(resUtil,icon,null);
  return info;
}
