{
  if (encoding.intern() != OpenCms.getSystemInfo().getDefaultEncoding()) {
    encoding=lookupEncoding(encoding,null);
  }
  if (encoding != null) {
    try {
      return new String(bytes,encoding);
    }
 catch (    UnsupportedEncodingException e) {
    }
  }
 else {
    if (OpenCms.getLog(CmsEncoder.class).isWarnEnabled()) {
      OpenCms.getLog(CmsEncoder.class).warn("Invalid encoding scheme '" + encoding + "' used, falling back to default");
    }
    encoding=OpenCms.getSystemInfo().getDefaultEncoding();
    try {
      return new String(bytes,encoding);
    }
 catch (    UnsupportedEncodingException e) {
    }
  }
  OpenCms.getLog(CmsEncoder.class).error("Issues with encoding using scheme '" + encoding + "'");
  return null;
}
