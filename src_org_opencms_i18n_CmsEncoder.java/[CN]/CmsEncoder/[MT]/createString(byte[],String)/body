{
  if (encoding.intern() != OpenCms.getSystemInfo().getDefaultEncoding()) {
    encoding=lookupEncoding(encoding,null);
  }
  if (encoding != null) {
    try {
      return new String(bytes,encoding);
    }
 catch (    UnsupportedEncodingException e) {
    }
  }
 else {
    if (LOG.isWarnEnabled()) {
      LOG.warn(Messages.get().getBundle().key(Messages.ERR_UNSUPPORTED_VM_ENCODING_1,encoding));
    }
    encoding=OpenCms.getSystemInfo().getDefaultEncoding();
    try {
      return new String(bytes,encoding);
    }
 catch (    UnsupportedEncodingException e) {
    }
  }
  LOG.error(Messages.get().getBundle().key(Messages.ERR_ENCODING_ISSUES_1,encoding));
  return null;
}
