{
  CmsSessionManager sessionManager=OpenCms.getSessionManager();
  List userSessions=sessionManager.getSessionInfos();
  Iterator i=userSessions.iterator();
  while (i.hasNext()) {
    CmsSessionInfo sessionInfo=(CmsSessionInfo)i.next();
    Integer projectId=sessionInfo.getProject();
    try {
      m_cms.readProject(projectId.intValue());
    }
 catch (    CmsException e) {
      sessionInfo.setProject(new Integer(I_CmsConstants.C_PROJECT_ONLINE_ID));
      m_settings.setProject(I_CmsConstants.C_PROJECT_ONLINE_ID);
      getReport().println(getReport().key("report.publish_resource_switch_project") + m_cms.getRequestContext().currentProject().getName(),I_CmsReport.C_FORMAT_DEFAULT);
    }
  }
}
