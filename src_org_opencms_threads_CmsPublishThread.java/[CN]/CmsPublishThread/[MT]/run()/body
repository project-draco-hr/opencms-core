{
  try {
    if (m_resourceName != null) {
      getReport().println(getReport().key("report.publish_resource_begin"),I_CmsReport.C_FORMAT_HEADLINE);
      getCms().publishResource(m_resourceName,false,getReport());
      getReport().println(getReport().key("report.publish_resource_end"),I_CmsReport.C_FORMAT_HEADLINE);
    }
 else {
      getReport().println(getReport().key("report.publish_project_begin"),I_CmsReport.C_FORMAT_HEADLINE);
      getCms().publishProject(getReport());
      getReport().println(getReport().key("report.publish_project_end"),I_CmsReport.C_FORMAT_HEADLINE);
    }
  }
 catch (  CmsException e) {
    getReport().println(e);
    if (OpenCms.getLog(CmsLog.CHANNEL_MAIN).isErrorEnabled()) {
      OpenCms.getLog(CmsLog.CHANNEL_MAIN).error("Error publishing project",e);
    }
  }
}
