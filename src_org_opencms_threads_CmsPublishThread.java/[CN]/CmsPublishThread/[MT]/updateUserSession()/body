{
  CmsSessionInfoManager manager=OpenCms.getSessionInfoManager();
  List userSessions=manager.getUserSessions(m_cms.getRequestContext().currentUser().getId());
  Iterator i=userSessions.iterator();
  while (i.hasNext()) {
    CmsSessionInfo sessionInfo=(CmsSessionInfo)i.next();
    Integer projectId=sessionInfo.getProject();
    try {
      m_cms.readProject(projectId.intValue());
    }
 catch (    CmsException e) {
      sessionInfo.update(m_cms.getRequestContext());
      m_settings.setProject(m_cms.getRequestContext().currentProject().getId());
      getReport().println(getReport().key("report.publish_resource_switch_project") + m_cms.getRequestContext().currentProject().getName(),I_CmsReport.C_FORMAT_DEFAULT);
    }
  }
}
