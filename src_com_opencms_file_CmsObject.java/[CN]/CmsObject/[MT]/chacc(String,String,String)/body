{
  CmsResource res=readFileHeader(resourceName);
  I_CmsPrincipal principal=m_driverManager.lookupPrincipal(m_context.currentUser(),m_context.currentProject(),principalName);
  if ("".equals(permissionString)) {
    m_driverManager.removeAccessControlEntry(m_context.currentUser(),m_context.currentProject(),res,principal.getId());
  }
 else {
    int permissions[]={0,0};
    int flags=CmsAccessControlEntry.readPermissionString(permissionString,permissions);
    CmsAccessControlEntry acEntry=new CmsAccessControlEntry(res.getResourceId(),principal.getId(),permissions[0],permissions[1],flags);
    m_driverManager.writeAccessControlEntry(m_context.currentUser(),m_context.currentProject(),res,acEntry);
  }
}
