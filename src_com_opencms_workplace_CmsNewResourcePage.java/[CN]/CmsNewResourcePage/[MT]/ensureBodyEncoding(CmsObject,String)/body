{
  CmsFile bodyFile=cms.readFile(bodyFilename);
  byte[] result=bodyFile.getContents();
  String bodyEncoding=cms.readProperty(bodyFilename,C_PROPERTY_CONTENT_ENCODING);
  if (bodyEncoding == null) {
    Document doc=null;
    try {
      InputStream in=new ByteArrayInputStream(result);
      try {
        doc=A_CmsXmlContent.getXmlParser().parse(in);
      }
  finally {
        try {
          in.close();
        }
 catch (        Exception e1) {
        }
      }
    }
 catch (    Exception e2) {
      throw new CmsException(this.getClass().getName() + " Error parsing default body file '" + bodyFilename+ "'",CmsException.C_XML_PARSING_ERROR,e2);
    }
    if (doc == null)     return result;
    ByteArrayOutputStream out=new ByteArrayOutputStream(result.length + 32);
    A_CmsXmlContent.getXmlParser().getXmlText(doc,out,A_OpenCms.getDefaultEncoding());
    result=out.toByteArray();
  }
  return result;
}
