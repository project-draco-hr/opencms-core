{
  CmsObject cms=getCmsObject();
  echo("Testing searching without a query only using a filter");
  CmsSearchIndex index=OpenCms.getSearchManager().getIndex(INDEX_OFFLINE);
  index.addConfigurationParameter(CmsSearchIndex.TIME_RANGE,"false");
  assertFalse("Index '" + INDEX_OFFLINE + "' checking time range but should not",index.isCheckingTimeRange());
  CmsSearch searchBean=new CmsSearch();
  List<CmsSearchResult> searchResult;
  searchBean.init(cms);
  searchBean.setIndex(INDEX_OFFLINE);
  searchBean.setMatchesPerPage(1000);
  searchBean.getParameters().setIgnoreQuery(true);
  Date stamp=new Date();
  searchBean.getParameters().setMinDateCreated(stamp.getTime() - (1000 * 60 * 60* 24));
  searchResult=searchBean.getSearchResult();
  assertEquals(2,searchResult.size());
  searchBean.getParameters().setMinDateCreated(Long.MIN_VALUE);
  searchBean.setResourceType(CmsResourceTypePlain.getStaticTypeName());
  searchBean.init(cms);
  searchResult=searchBean.getSearchResult();
  assertEquals(7,searchResult.size());
  searchBean.setResourceType(CmsResourceTypePlain.getStaticTypeName());
  searchBean.getParameters().setMinDateCreated(stamp.getTime() - (1000 * 60 * 60* 24));
  searchBean.init(cms);
  searchResult=searchBean.getSearchResult();
  assertEquals(2,searchResult.size());
  searchBean.setResourceType(CmsResourceTypeBinary.getStaticTypeName());
  searchBean.getParameters().setMinDateCreated(stamp.getTime() - (1000 * 60 * 60* 24));
  searchBean.init(cms);
  searchResult=searchBean.getSearchResult();
  assertEquals(0,searchResult.size());
  searchBean.getParameters().setMinDateCreated(Long.MIN_VALUE);
  searchBean.setResourceTypes(null);
  searchBean.init(cms);
  searchResult=searchBean.getSearchResult();
  assertEquals(48,searchResult.size());
}
