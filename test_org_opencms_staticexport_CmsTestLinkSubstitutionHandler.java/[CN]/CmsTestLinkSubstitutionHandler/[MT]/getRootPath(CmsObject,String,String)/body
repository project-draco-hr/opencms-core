{
  String result=super.getRootPath(cms,targetUri,basePath);
  if (result != null) {
    String siteRoot=OpenCms.getSiteManager().getSiteRoot(result);
    String path=(siteRoot != null) ? result.substring(siteRoot.length()) : result;
    String replace=replaceSystemUri(path);
    if (!path.equals(replace)) {
      result=replace;
    }
  }
  return result;
}
