{
  Set languages=m_page.getLanguages();
  List options=new ArrayList(languages.size());
  List selectList=new ArrayList(languages.size());
  Iterator i=languages.iterator();
  int currentIndex=-1;
  int counter=0;
  while (i.hasNext()) {
    String curLang=(String)i.next();
    selectList.add(curLang);
    Locale curLocale=new Locale(curLang);
    options.add(curLocale.getDisplayLanguage(new Locale(getSettings().getLanguage())));
    if (curLang.equals(getParamBodylanguage())) {
      currentIndex=counter;
    }
    counter++;
  }
  if (currentIndex == -1) {
    if (selectList != null && selectList.size() > 0) {
      currentIndex=0;
      setParamBodylanguage((String)selectList.get(0));
    }
  }
  return buildSelect(attributes,options,selectList,currentIndex,false);
}
