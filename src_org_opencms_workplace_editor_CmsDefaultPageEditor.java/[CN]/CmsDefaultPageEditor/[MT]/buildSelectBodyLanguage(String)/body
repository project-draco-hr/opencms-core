{
  List localeNames=OpenCms.getLocaleManager().getAvailableLocaleNames(getCms(),getParamTempfile());
  List options=new ArrayList(localeNames.size());
  List selectList=new ArrayList(localeNames.size());
  int currentIndex=-1;
  for (int counter=0; counter < localeNames.size(); counter++) {
    Locale curLocale=OpenCms.getLocaleManager().getLocale((String)localeNames.get(counter));
    selectList.add(curLocale.toString());
    options.add(curLocale.getDisplayName(new Locale(getSettings().getLanguage())));
    if (curLocale.toString().equals(getParamBodylanguage())) {
      currentIndex=counter;
    }
  }
  if (currentIndex == -1) {
    if (selectList != null && selectList.size() > 0) {
      currentIndex=0;
      setParamBodylanguage((String)selectList.get(0));
    }
  }
  return buildSelect(attributes,options,selectList,currentIndex,false);
}
