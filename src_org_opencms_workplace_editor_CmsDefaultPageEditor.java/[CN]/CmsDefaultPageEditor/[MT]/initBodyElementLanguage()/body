{
  Set languages=m_page.getLanguages();
  String defaultLocaleName=OpenCms.getLocaleManager().getDefaultLocaleNames(getCms(),getCms().readAbsolutePath(m_file))[0];
  if (languages.size() == 0) {
    if (!m_page.hasElement(I_CmsConstants.C_XML_BODY_ELEMENT,defaultLocaleName)) {
      m_page.addElement(I_CmsConstants.C_XML_BODY_ELEMENT,defaultLocaleName);
    }
    try {
      getCms().writeFile(m_page.write(m_file));
    }
 catch (    CmsException e) {
      try {
        showErrorPage(this,e,"save");
      }
 catch (      JspException exc) {
      }
    }
    setParamBodylanguage(defaultLocaleName);
  }
 else {
    if (languages.contains(defaultLocaleName)) {
      setParamBodylanguage(defaultLocaleName);
    }
 else {
      setParamBodylanguage((String)languages.toArray()[0]);
    }
  }
}
