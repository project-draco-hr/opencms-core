{
  Map resProps=null;
  try {
    resProps=readAllProperties(resourcename);
  }
 catch (  CmsException e) {
    resProps=new HashMap();
  }
  if (properties != null) {
    resProps.putAll(properties);
  }
  getResourceType(readFileHeader(resourcename,CmsResourceFilter.IGNORE_EXPIRATION).getType()).replaceResource(this,resourcename,resProps,content,type);
}
