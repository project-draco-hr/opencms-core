{
  getRequestContext().saveSiteRoot();
  try {
    setContextToCos();
    Hashtable properties=new Hashtable();
    int newChannelId=org.opencms.db.CmsDbUtil.nextId(I_CmsConstants.C_TABLE_CHANNELID);
    properties.put(I_CmsConstants.C_PROPERTY_CHANNELID,newChannelId + "");
    return (CmsFolder)createResource(parentChannel,newChannelName,CmsResourceTypeFolder.C_RESOURCE_TYPE_ID,CmsProperty.toList(properties));
  }
  finally {
    getRequestContext().restoreSiteRoot();
  }
}
