{
  setQueryType(QUERY_TYPE);
  addField(SCORE_FIELD);
  setRows(new Integer(CmsSolrQuery.DEFAULT_ROWS));
  setFacetDateGab(FACET_DATE_GAP);
  addTextFields("text");
  if (query != null) {
    setQuery(query);
  }
 else {
    setQuery(DEFAULT_QUERY);
  }
  List<Locale> localesToUse=new ArrayList<Locale>();
  if ((locales == null) && (cms != null)) {
    localesToUse.add(cms.getRequestContext().getLocale());
  }
  setLocales(localesToUse);
  List<String> searchRootsToUse=new ArrayList<String>();
  if ((searchRoots == null) && (cms != null)) {
    searchRootsToUse.add(cms.getRequestContext().getSiteRoot() + "/");
  }
  setSearchRoots(searchRootsToUse.toArray(new String[0]));
  if ((parameters != null) && !parameters.isEmpty()) {
    m_parameters=parameters;
    addParameterMap(parameters);
  }
  ensureReturnFields();
}
