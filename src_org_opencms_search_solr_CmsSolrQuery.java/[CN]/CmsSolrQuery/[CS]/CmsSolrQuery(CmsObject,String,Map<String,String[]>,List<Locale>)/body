{
  setFacetDateGab(FACET_DATE_GAB);
  setQueryType(QUERY_TYPE);
  addField(SCORE_FIELD);
  setRows(new Integer(CmsSolrQuery.RESULT_COUNT));
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(query)) {
    setQuery(query);
  }
 else {
    setQuery(DEFAULT_QUERY);
  }
  List<Locale> localesToUse=new ArrayList<Locale>();
  if ((locales != null) && !locales.isEmpty()) {
    localesToUse=locales;
  }
 else   if (cms != null) {
    localesToUse.add(cms.getRequestContext().getLocale());
  }
 else {
    localesToUse.add(CmsLocaleManager.getDefaultLocale());
  }
  setLocales(localesToUse);
  if (cms != null) {
    setSearchRoots(cms.getRequestContext().getSiteRoot() + "/");
  }
  if ((parameters != null) && !parameters.isEmpty()) {
    addParameterMap(parameters);
  }
  ensureReturnFields();
}
