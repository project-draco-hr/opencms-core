{
  Element workplaceElement=parent.addElement(N_WORKPLACE);
  Iterator i;
  workplaceElement.addElement(N_DEFAULTLOCALE).setText(m_workplaceManager.getDefaultLocale().toString());
  Element dialogElement=workplaceElement.addElement(N_DIALOGHANDLERS);
  Map dialogs=m_workplaceManager.getDialogHandler();
  i=dialogs.keySet().iterator();
  while (i.hasNext()) {
    String name=(String)i.next();
    dialogElement.addElement(N_DIALOGHANDLER).addAttribute(A_CLASS,dialogs.get(name).getClass().getName());
  }
  workplaceElement.addElement(N_EDITORHANDLER).addAttribute(A_CLASS,m_workplaceManager.getEditorHandler().getClass().getName());
  workplaceElement.addElement(N_EDITORACTION).addAttribute(A_CLASS,m_workplaceManager.getEditorActionHandler().getClass().getName());
  Element viewsElement=workplaceElement.addElement(N_VIEWS);
  i=m_workplaceManager.getViews().iterator();
  while (i.hasNext()) {
    CmsWorkplaceView view=(CmsWorkplaceView)i.next();
    viewsElement.addElement(N_VIEW).addAttribute(A_KEY,view.getKey()).addAttribute(A_URI,view.getUri()).addAttribute(A_ORDER,view.getOrder().toString());
  }
  Element resourceloadersElement=workplaceElement.addElement(N_EXPORTPOINTS);
  Set points=m_workplaceManager.getExportPoints();
  i=points.iterator();
  while (i.hasNext()) {
    CmsExportPoint point=(CmsExportPoint)i.next();
    resourceloadersElement.addElement(N_EXPORTPOINT).addAttribute(A_URI,point.getUri()).addAttribute(A_DESTINATION,point.getDestination());
  }
  workplaceElement.addElement(N_AUTOLOCK).setText(new Boolean(m_workplaceManager.autoLockResources()).toString());
  workplaceElement.addElement(N_ENABLEUSERMGMT).setText(new Boolean(m_workplaceManager.showUserGroupIcon()).toString());
  workplaceElement.addElement(N_MAXUPLOADSIZE).setText(new Integer(m_workplaceManager.getFileMaxUploadSize()).toString());
  Element labledElement=workplaceElement.addElement(N_LABLEDFOLDERS);
  i=m_workplaceManager.getLabelSiteFolders().iterator();
  while (i.hasNext()) {
    labledElement.addElement(N_RESOURCE).addAttribute(A_URI,(String)i.next());
  }
  return workplaceElement;
}
