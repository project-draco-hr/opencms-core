{
  StringBuffer result=new StringBuffer(128);
  Iterator iterator=results.iterator();
  while (iterator.hasNext()) {
    CmsSearchResult entry=(CmsSearchResult)iterator.next();
    result.append("<div class=\"searchresult\">");
    String path=entry.getPath();
    path=getRequestContext().removeSiteRoot(path);
    String fileIcon=getFileIcon(path);
    if (CmsStringUtil.isNotEmpty(fileIcon)) {
      result.append("<a href=\"");
      result.append(link(path));
      result.append("\">");
      result.append(fileIcon);
      result.append("</a>&nbsp;");
    }
    result.append("<a href=\"");
    result.append(link(path));
    result.append("\">");
    String title=entry.getField(CmsSearchField.FIELD_TITLE);
    if (CmsStringUtil.isEmpty(title)) {
      title=CmsResource.getName(path);
    }
    result.append(title);
    result.append("</a>&nbsp;(");
    result.append(entry.getScore());
    result.append("%)<br>");
    if (entry.getExcerpt() != null) {
      result.append(entry.getExcerpt());
    }
    if (entry.getField(CmsSearchField.FIELD_KEYWORDS) != null) {
      result.append("<br>");
      result.append(key("search.keywords"));
      result.append(": ");
      result.append(entry.getField(CmsSearchField.FIELD_KEYWORDS));
    }
    if (entry.getField(CmsSearchField.FIELD_DESCRIPTION) != null) {
      result.append("<br>");
      result.append(key("search.description"));
      result.append(": ");
      result.append(entry.getField(CmsSearchField.FIELD_DESCRIPTION));
    }
    result.append("<br>");
    result.append(messages().getDateTime(entry.getDateLastModified().getTime()));
    result.append("</div>\n");
  }
  return result.toString();
}
