{
  String servletPath=CmsXmlTemplateLoader.getRequest(cms.getRequestContext()).getServletUrl();
  String downloadPath=servletPath + cms.getSitePath(res);
  filelistTemplate.setData("fullpath",downloadPath);
  filelistTemplate.setData("name_value",res.getName());
  filelistTemplate.setData("filepath",cms.getSitePath(res));
  if ((cms.getPermissions(cms.getSitePath(res)).getPermissions() & com.opencms.core.I_CmsConstants.C_ACCESS_WRITE) > 0) {
    filelistTemplate.setData("delete",filelistTemplate.getProcessedDataValue("deleteentry",this));
  }
 else {
    filelistTemplate.setData("delete","&nbsp;");
  }
  String title="";
  try {
    title=cms.readProperty(cms.getSitePath(res),CmsPropertyDefinition.PROPERTY_TITLE);
  }
 catch (  CmsException e) {
  }
  if (title == null) {
    title="";
  }
  filelistTemplate.setData("title_value",title);
}
