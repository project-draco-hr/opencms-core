{
  try {
    getReport().println(getReport().key("report.export_db_begin"),I_CmsReport.C_FORMAT_HEADLINE);
    if (m_moduledataExport) {
      getCms().exportModuledata(m_fileName,m_exportPaths,m_exportModules,getReport());
    }
 else {
      getCms().exportResources(m_fileName,m_exportPaths,m_excludeSystem,m_excludeUnchanged,m_exportUserdata,m_contentAge,getReport());
    }
    getReport().println(getReport().key("report.export_db_end"),I_CmsReport.C_FORMAT_HEADLINE);
  }
 catch (  CmsException e) {
    getReport().println(e);
    if (OpenCms.isLogging(CmsLog.CHANNEL_MAIN,CmsLog.LEVEL_ERROR)) {
      OpenCms.log(CmsLog.CHANNEL_MAIN,CmsLog.LEVEL_ERROR,e.getMessage());
    }
  }
}
