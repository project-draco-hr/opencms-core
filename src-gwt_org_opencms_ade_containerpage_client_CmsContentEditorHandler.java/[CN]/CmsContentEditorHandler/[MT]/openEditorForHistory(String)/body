{
  m_handler.m_controller.setContentEditing(true);
  if (historyHash.startsWith(EDITOR_HASH_KEY)) {
    String id=historyHash.substring(EDITOR_HASH_KEY.length(),historyHash.indexOf(";"));
    if (id.contains(",")) {
      String[] ids=id.split(",");
      m_currentElementId=ids[0];
      m_dependingElementId=ids[1];
    }
 else {
      m_currentElementId=id;
    }
    Command onClose=new Command(){
      public void execute(){
        addClosedEditorHistoryItem();
        onClose(null,false);
      }
    }
;
    String editorLocale=CmsCoreProvider.get().getLocale();
    CmsContentEditor.getInstance().openFormEditor(getEditorContext(),editorLocale,m_currentElementId,null,null,null,null,onClose);
  }
 else {
    closeContentEditor();
  }
}
