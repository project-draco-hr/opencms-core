{
  m_handler.disableToolbarButtons();
  m_handler.deactivateCurrentButton();
  if (editableData.getStructureId() != null) {
    m_currentElementId=editableData.getStructureId().toString();
  }
 else {
    m_currentElementId=null;
  }
  m_dependingElementId=dependingElementId;
  if (m_handler.m_controller.getData().isUseClassicEditor()) {
    CmsContentEditorDialog.get().openEditDialog(editableData,isNew,this);
  }
 else {
    String newLink=null;
    if (isNew) {
      newLink=editableData.getNewLink();
      newLink=URL.decodeQueryString(newLink);
      newLink=URL.decodeQueryString(newLink);
    }
    CmsContentEditor.getInstance().openFormEditor(CmsCoreProvider.get().getLocale(),CmsContainerpageController.getServerId(getCurrentElementId()),newLink,null,new Command(){
      public void execute(){
        onClose(editableData.getSitePath(),isNew);
      }
    }
);
  }
}
