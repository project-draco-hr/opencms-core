{
  byte[] buffer=null;
  FileInputStream fileStream=null;
  int charsRead;
  int size;
  try {
    fileStream=new FileInputStream(file);
    charsRead=0;
    size=new Long(file.length()).intValue();
    buffer=new byte[size];
    while (charsRead < size) {
      charsRead+=fileStream.read(buffer,charsRead,size - charsRead);
    }
    return buffer;
  }
 catch (  IOException e) {
    throw e;
  }
 finally {
    try {
      if (fileStream != null) {
        fileStream.close();
      }
    }
 catch (    IOException e) {
    }
  }
}
