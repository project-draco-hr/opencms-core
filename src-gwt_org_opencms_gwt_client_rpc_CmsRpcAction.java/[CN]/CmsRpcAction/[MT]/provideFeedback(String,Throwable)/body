{
  String message;
  String cause=null;
  String className;
  StackTraceElement[] trace;
  if (throwable instanceof CmsRpcException) {
    CmsRpcException ex=(CmsRpcException)throwable;
    message=ex.getOriginalMessage();
    cause=ex.getOriginalCauseMessage();
    className=ex.getOriginalClassName();
    trace=ex.getOriginalStackTrace();
  }
 else {
    message=CmsClientStringUtil.getMessage(throwable);
    if (throwable.getCause() != null) {
      cause=CmsClientStringUtil.getMessage(throwable.getCause());
    }
    className=throwable.getClass().getName();
    trace=throwable.getStackTrace();
  }
  String lineBreak="<br />\n";
  String errorMessage=message == null ? className + ": " + Messages.get().key(Messages.GUI_NO_DESCIPTION_0) : message;
  if (cause != null) {
    errorMessage+=lineBreak + Messages.get().key(Messages.GUI_REASON_0) + ":"+ cause;
  }
  String details=Messages.get().key(Messages.GUI_TICKET_MESSAGE_3,ticket,className,message) + CmsClientStringUtil.getStackTraceAsString(trace,lineBreak);
  new CmsErrorDialog(errorMessage,details).center();
}
