{
  String message;
  StackTraceElement[] trace;
  if (t instanceof CmsRpcException) {
    CmsRpcException ex=(CmsRpcException)t;
    message=ex.getOriginalMessage();
    trace=ex.getOriginalStackTrace();
  }
 else {
    message=CmsClientStringUtil.getMessage(t);
    trace=t.getStackTrace();
  }
  String ticket=CmsLog.log(message + "\n" + CmsClientStringUtil.getStackTraceAsString(trace,"\n"));
  stop(false);
  provideFeedback(ticket,t);
}
