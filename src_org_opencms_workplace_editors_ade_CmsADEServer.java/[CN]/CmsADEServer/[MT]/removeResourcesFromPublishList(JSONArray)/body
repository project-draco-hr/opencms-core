{
  CmsObject cms=getCmsObject();
  CmsUser user=cms.readUser(cms.getRequestContext().currentUser().getId());
  String info=(String)user.getAdditionalInfo(INFO_PUBLISH_LIST);
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(info)) {
    return;
  }
  JSONArray userPubList=new JSONArray(info);
  JSONArray newPubList=new JSONArray();
  for (int i=0; i < userPubList.length(); i++) {
    String id=userPubList.optString(i);
    if (!ids.containsString(id)) {
      newPubList.put(id);
    }
  }
  cms.getRequestContext().currentUser().setAdditionalInfo(INFO_PUBLISH_LIST,newPubList.toString());
  cms.writeUser(user);
}
