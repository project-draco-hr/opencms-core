{
  CmsObject cms=getCmsObject();
  cms.lockResourceTemporary(uri);
  CmsFile containerPage=cms.readFile(uri);
  CmsXmlContent xmlCnt=CmsXmlContentFactory.unmarshal(cms,containerPage);
  Locale locale=CmsLocaleManager.getLocale(cntPage.getString(P_LOCALE));
  if (xmlCnt.hasLocale(locale)) {
    xmlCnt.removeLocale(locale);
  }
  xmlCnt.addLocale(cms,locale);
  JSONObject cnts=cntPage.getJSONObject(P_CONTAINERS);
  int cntCount=0;
  Iterator<String> itCnt=cnts.keys();
  while (itCnt.hasNext()) {
    String cntKey=itCnt.next();
    JSONObject cnt=cnts.getJSONObject(cntKey);
    I_CmsXmlContentValue cntValue=xmlCnt.getValue(CmsContainerPageLoader.N_CONTAINER,locale,cntCount);
    if (cntValue == null) {
      cntValue=xmlCnt.addValue(cms,CmsContainerPageLoader.N_CONTAINER,locale,cntCount);
    }
    String name=cnt.getString(P_NAME);
    xmlCnt.getValue(CmsXmlUtils.concatXpath(cntValue.getPath(),CmsContainerPageLoader.N_NAME),locale,0).setStringValue(cms,name);
    String type=cnt.getString(P_TYPE);
    xmlCnt.getValue(CmsXmlUtils.concatXpath(cntValue.getPath(),CmsContainerPageLoader.N_TYPE),locale,0).setStringValue(cms,type);
    JSONArray elems=cnt.getJSONArray(P_ELEMENTS);
    for (int i=0; i < elems.length(); i++) {
      JSONObject elem=cnt.getJSONArray(P_ELEMENTS).getJSONObject(i);
      String formatter=elem.getString(P_FORMATTER);
      String elemUri=elem.getString(P_URI);
      I_CmsXmlContentValue elemValue=xmlCnt.addValue(cms,CmsXmlUtils.concatXpath(cntValue.getPath(),CmsContainerPageLoader.N_ELEMENT),locale,i);
      xmlCnt.getValue(CmsXmlUtils.concatXpath(elemValue.getPath(),CmsContainerPageLoader.N_URI),locale,0).setStringValue(cms,elemUri);
      xmlCnt.getValue(CmsXmlUtils.concatXpath(elemValue.getPath(),CmsContainerPageLoader.N_FORMATTER),locale,0).setStringValue(cms,formatter);
    }
    cntCount++;
  }
  containerPage.setContents(xmlCnt.marshal());
  cms.writeFile(containerPage);
}
