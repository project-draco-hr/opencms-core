{
  JSONArray result=new JSONArray();
  CmsObject cms=getCmsObject();
  CmsElementUtil elemUtil=new CmsElementUtil(cms,getRequest().getParameter(ReqParam.URI.getName()),getRequest(),getResponse());
  List<CmsContainerElementBean> recentList=m_sessionCache.getRecentList();
  for (  CmsContainerElementBean element : recentList) {
    if (cms.existsResource(element.getElementId(),CmsResourceFilter.ONLY_VISIBLE_NO_DELETED)) {
      String id=element.getClientId();
      if ((resElements != null) && !resElements.has(id)) {
        try {
          resElements.put(id,elemUtil.getElementData(element,types));
          result.put(id);
        }
 catch (        Exception e) {
          if (!LOG.isDebugEnabled()) {
            LOG.warn(e.getLocalizedMessage());
          }
          LOG.debug(e.getLocalizedMessage(),e);
        }
      }
 else {
        result.put(id);
      }
    }
  }
  return result;
}
