{
  JSONArray result=new JSONArray();
  CmsElementUtil elemUtil=new CmsElementUtil(getCmsObject(),getRequest().getParameter(PARAMETER_URI),getRequest(),getResponse());
  List<CmsContainerElement> favList=m_manager.getFavoriteList();
  for (  CmsContainerElement elem : favList) {
    CmsContainerElementBean element=m_manager.createElementBean(elem);
    String id=element.getClientId();
    m_manager.setCachedElement(id,element);
    if ((resElements != null) && !resElements.has(id)) {
      try {
        resElements.put(id,elemUtil.getElementData(element,types));
        result.put(id);
      }
 catch (      Exception e) {
        if (!LOG.isDebugEnabled()) {
          LOG.warn(e.getLocalizedMessage());
        }
        LOG.debug(e.getLocalizedMessage(),e);
      }
    }
 else {
      result.put(id);
    }
  }
  return result;
}
