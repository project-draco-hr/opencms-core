{
  StringBuffer result=new StringBuffer(8);
  result.append("function initStringFields() {\n");
  Locale locale=widgetDialog.getElementLocale();
  List typeSequence=document.getContentDefinition().getTypeSequence();
  Iterator i=typeSequence.iterator();
  while (i.hasNext()) {
    I_CmsXmlSchemaType type=(I_CmsXmlSchemaType)i.next();
    String name=type.getElementName();
    int count=document.getIndexCount(name,locale);
    for (int j=0; j < count; j++) {
      I_CmsXmlContentValue value2=document.getValue(name,locale,j);
      I_CmsXmlWidget widget=document.getContentDefinition().getContentHandler().getWidget(value2);
      if (this.equals(widget)) {
        try {
          I_CmsXmlContentValue contentValue=document.getValue(name,locale,j);
          String id=getParameterName(contentValue);
          String currValue=contentValue.getStringValue(cms);
          currValue=CmsStringUtil.escapeJavaScript(currValue.trim());
          result.append("\tdocument.forms[\"EDITOR\"].elements[\"");
          result.append(id);
          result.append("\"].value = \"");
          result.append(currValue);
          result.append("\";\n");
        }
 catch (        CmsXmlException e) {
          if (OpenCms.getLog(this).isErrorEnabled()) {
            OpenCms.getLog(this).error("Error accessing XML content node '" + name + "'",e);
          }
        }
      }
    }
  }
  result.append("\tstringsInserted = true;\n");
  result.append("}\n");
  return result.toString();
}
