{
  boolean runOnce=(m_runnable != null);
  while (m_run) {
    setPriority(m_pool.getThreadPriority());
    try {
      if (m_runnable == null) {
        m_runnable=m_pool.getNextRunnable();
      }
      if (m_runnable != null) {
        m_runnable.run();
      }
    }
 catch (    InterruptedException e) {
      OpenCms.getLog(this).error("Scheduler thread '" + getName() + "' interrupted",e);
    }
catch (    Throwable t) {
      OpenCms.getLog(this).error("Scheduler error in thread '" + getName() + "' while executing",t);
    }
 finally {
      if (runOnce) {
        m_run=false;
      }
      m_runnable=null;
    }
  }
  if (OpenCms.getLog(this).isInfoEnabled()) {
    OpenCms.getLog(this).info("Scheduler thread '" + getName() + "'shutting down");
  }
}
