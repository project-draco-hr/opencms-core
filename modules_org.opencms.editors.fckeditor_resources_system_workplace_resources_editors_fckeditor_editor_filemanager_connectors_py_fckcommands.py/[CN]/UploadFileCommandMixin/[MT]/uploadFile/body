def uploadFile(self, resourceType, currentFolder):
    '\n\t\tPurpose: command to upload files to server (same as FileUpload)\n\t\t'
    errorNo = 0
    if self.request.has_key('NewFile'):
        newFile = self.request.get('NewFile', '')
        newFileName = newFile.filename
        newFileName = sanitizeFileName(newFileName)
        newFileNameOnly = removeExtension(newFileName)
        newFileExtension = getExtension(newFileName).lower()
        allowedExtensions = Config.AllowedExtensions[resourceType]
        deniedExtensions = Config.DeniedExtensions[resourceType]
        if allowedExtensions:
            isAllowed = False
            if (newFileExtension in allowedExtensions):
                isAllowed = True
        elif deniedExtensions:
            isAllowed = True
            if (newFileExtension in deniedExtensions):
                isAllowed = False
        else:
            isAllowed = True
        if isAllowed:
            currentFolderPath = mapServerFolder(self.userFilesFolder, currentFolder)
            i = 0
            while True:
                newFilePath = os.path.join(currentFolderPath, newFileName)
                if os.path.exists(newFilePath):
                    i += 1
                    newFileName = ('%s(%04d).%s' % (newFileNameOnly, i, newFileExtension))
                    errorNo = 201
                else:
                    fout = file(newFilePath, 'wb')
                    while True:
                        chunk = newFile.file.read(100000)
                        if (not chunk):
                            break
                        fout.write(chunk)
                    fout.close()
                    if os.path.exists(newFilePath):
                        oldumask = os.umask(0)
                        os.chmod(newFilePath, 493)
                        os.umask(oldumask)
                    newFileUrl = ((self.webUserFilesFolder + currentFolder) + newFileName)
                    return self.sendUploadResults(errorNo, newFileUrl, newFileName)
        else:
            return self.sendUploadResults(errorNo=203, customMsg='Extension not allowed')
    else:
        return self.sendUploadResults(errorNo=202, customMsg='No File')
