{
  System.setProperty("OpenCmsLog","opencms_test.log");
  CmsConfigurationManager manager=new CmsConfigurationManager();
  URL inputUrl=ClassLoader.getSystemResource("org/opencms/configuration/");
  manager.loadXmlConfiguration(inputUrl);
  List allConfigurations=new ArrayList();
  allConfigurations.add(manager);
  allConfigurations.addAll(manager.getConfigurations());
  Iterator i=allConfigurations.iterator();
  while (i.hasNext()) {
    I_CmsXmlConfiguration config=(I_CmsXmlConfiguration)i.next();
    System.out.println("\n\nConfiguration instance: " + config + ":\n");
    Document doc=manager.generateXml(config);
    XMLWriter writer;
    OutputFormat format=OutputFormat.createPrettyPrint();
    format.setIndentSize(4);
    format.setTrimText(false);
    format.setEncoding("UTF-8");
    writer=new XMLWriter(System.out,format);
    writer.write(doc);
  }
}
