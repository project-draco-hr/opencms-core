{
  CmsSessionManager sessionManager=OpenCms.getSessionManager();
  List userSessions=sessionManager.getSessionInfos();
  Iterator i=userSessions.iterator();
  while (i.hasNext()) {
    CmsSessionInfo sessionInfo=(CmsSessionInfo)i.next();
    int projectId=sessionInfo.getProject();
    try {
      m_cms.readProject(projectId);
    }
 catch (    CmsException e) {
      sessionInfo.setProject(I_CmsConstants.C_PROJECT_ONLINE_ID);
      m_settings.setProject(I_CmsConstants.C_PROJECT_ONLINE_ID);
      getReport().println(Messages.get().container(Messages.RPT_PUBLISH_RESOURCE_SWITCH_PROJECT_1,m_cms.getRequestContext().currentProject().getName()),I_CmsReport.C_FORMAT_DEFAULT);
    }
  }
}
