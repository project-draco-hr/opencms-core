{
  CmsSearchManager searchManager=OpenCms.getSearchManager();
  CmsListItem listItem=getSelectedItem();
  String action=getParamListAction();
  if (action.equals(LIST_MACTION_REMOVESOURCE)) {
    Iterator itItems=getSelectedItems().iterator();
    CmsSearchIndex idx=searchManager.getIndex(getParamIndexName());
    while (itItems.hasNext()) {
      listItem=(CmsListItem)itItems.next();
      if (idx.getSourceNames().size() > 1) {
        idx.removeSourceName((String)listItem.get(LIST_COLUMN_NAME));
        getList().removeItem(listItem.getId(),getLocale());
      }
 else {
        break;
      }
    }
    try {
      idx.initialize();
    }
 catch (    CmsSearchException e) {
      if (LOG.isErrorEnabled()) {
        LOG.error(e);
      }
    }
    refreshList();
    writeConfiguration(false);
  }
  listSave();
}
