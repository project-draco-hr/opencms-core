{
  StringBuffer result=new StringBuffer(256);
  boolean added=false;
  if (!option.getEditorHeight().equals(EDITOR_DEFAULTHEIGHT)) {
    result.append(OPTION_HEIGHT);
    result.append(option.getEditorHeight());
    added=true;
  }
  if (option.showAnchorDialog()) {
    if (added) {
      result.append(OPTION_DELIMITER);
    }
    result.append(OPTION_ANCHOR);
    added=true;
  }
  if (option.showLinkDialog()) {
    if (added) {
      result.append(OPTION_DELIMITER);
    }
    result.append(OPTION_LINK);
    added=true;
  }
  if (option.showFormatSelect()) {
    if (added) {
      result.append(OPTION_DELIMITER);
    }
    result.append(OPTION_FORMATSELECT);
    added=true;
  }
  if (option.showSourceEditor()) {
    if (added) {
      result.append(OPTION_DELIMITER);
    }
    result.append(OPTION_SOURCE);
    added=true;
  }
  boolean isFirst=true;
  for (int i=0; i < option.getDisplayGalleries().size(); i++) {
    String gallery=(String)option.getDisplayGalleries().get(i);
    if (added || !isFirst) {
      result.append(OPTION_DELIMITER);
    }
    result.append(gallery);
    isFirst=false;
  }
  return result.toString();
}
