{
  String pageId=m_params.get(CmsPublishOptions.PARAM_CONTAINERPAGE);
  String elementId=m_params.get(CmsPublishOptions.PARAM_CONTENT);
  String title=Messages.get().getBundle(OpenCms.getWorkplaceManager().getWorkplaceLocale(m_cms)).key(Messages.GUI_CURRENTPAGE_PROJECT_0);
  if ((pageId != null) || (elementId != null)) {
    CmsProjectBean bean=new CmsProjectBean(ID,0,title,title);
    bean.setRank(100);
    bean.setDefaultGroupName("");
    if (pageId != null) {
      try {
        CmsResource page=m_cms.readResource(new CmsUUID(pageId),CmsResourceFilter.IGNORE_EXPIRATION);
        CmsProperty titleProp=m_cms.readPropertyObject(page,CmsPropertyDefinition.PROPERTY_TITLE,true);
        if (titleProp.isNullProperty()) {
          bean.setDefaultGroupName(m_cms.getSitePath(page));
        }
 else {
          bean.setDefaultGroupName(titleProp.getValue());
        }
      }
 catch (      Exception e) {
        LOG.error(e.getLocalizedMessage(),e);
      }
    }
    return bean;
  }
 else {
    return null;
  }
}
