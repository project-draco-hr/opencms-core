{
  CmsListInfoBean info=new CmsListInfoBean();
  info.setTitle(vfsEntry.getDisplayName());
  CmsListItemWidget liWidget=new CmsListItemWidget(info);
  liWidget.setIcon(CmsIconUtil.getResourceIconClasses("folder",false));
  if (vfsEntry.isEditable()) {
    CmsUploadButton uploadButton=new CmsUploadButton();
    uploadButton.setTargetFolder(vfsEntry.getSitePath());
    uploadButton.setTitle(Messages.get().key(Messages.GUI_GALLERY_UPLOAD_TITLE_0));
    uploadButton.setText(null);
    uploadButton.setShowBorder(false);
    uploadButton.setImageClass(I_CmsImageBundle.INSTANCE.style().uploadIcon());
    liWidget.addButton(uploadButton);
  }
  final CmsCheckBox checkbox=new CmsCheckBox();
  CmsLazyTreeItem result=new CmsLazyTreeItem(checkbox,liWidget,true);
  checkbox.addClickHandler(new ClickHandler(){
    /** 
 * @see com.google.gwt.event.dom.client.ClickHandler#onClick(com.google.gwt.event.dom.client.ClickEvent)
 */
    public void onClick(    ClickEvent event){
      m_tabHandler.onSelectFolder(vfsEntry.getSitePath(),checkbox.isChecked());
    }
  }
);
  m_entryMap.put(result,vfsEntry);
  m_itemsByPath.put(vfsEntry.getSitePath(),result);
  result.setLeafStyle(false);
  return result;
}
