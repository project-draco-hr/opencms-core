{
  if (m_readAccessGroup == null || "".equals(m_readAccessGroup)) {
    return;
  }
  CmsGroup currentGroup=cms.getRequestContext().currentGroup();
  if (m_readAccessGroup.equals(currentGroup.getName())) {
    return;
  }
  if (currentGroup.getName().equals(I_CmsConstants.C_GROUP_ADMIN)) {
    return;
  }
  CmsGroup group1=currentGroup;
  CmsGroup group2=cms.readGroup(m_readAccessGroup);
  do {
    group1=cms.getParent(group1.getName());
    if (group1 != null && group1.getId() == group2.getId()) {
      return;
    }
  }
 while (group1 != null);
  boolean readError=false;
  try {
    cms.readFileHeader(m_templateName);
  }
 catch (  CmsException e) {
    readError=true;
  }
  if (!readError) {
    return;
  }
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_ELEMENTCACHE,toString() + " no read access. ");
  }
  throw new CmsException(currentGroup.getName() + " has no read access to " + m_templateName+ ". ",CmsException.C_ACCESS_DENIED);
}
