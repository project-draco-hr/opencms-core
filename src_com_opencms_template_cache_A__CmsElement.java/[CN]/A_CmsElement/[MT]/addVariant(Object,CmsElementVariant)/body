{
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_ELEMENTCACHE,toString() + " adding variant \"" + key+ "\" to cache. ");
  }
  if (key != null) {
    CmsElementVariant old=(CmsElementVariant)m_variants.get(key);
    if ((old != null) && (old.size() == 0)) {
      variant.addDependencies(old.getDependencies());
      variant.mergeNextTimeout(old.getNextTimeout());
    }
    return m_variants.put(key,variant);
  }
  return null;
}
