{
  if (OpenCms.isLogging(CmsLog.CHANNEL_XMLTEMPLATE,CmsLog.LEVEL_WARN)) {
    OpenCms.log(CmsLog.CHANNEL_XMLTEMPLATE,CmsLog.LEVEL_WARN,toString() + " adding variant \"" + key+ "\" to cache. ");
  }
  if (key != null) {
    CmsElementVariant old=(CmsElementVariant)m_variants.get(key);
    if ((old != null) && (old.size() == 0)) {
      variant.addDependencies(old.getDependencies());
      variant.mergeNextTimeout(old.getNextTimeout());
    }
    return m_variants.put(key,variant);
  }
  return null;
}
