{
  if (OpenCms.getLog(CmsLog.CHANNEL_TEMPLATE_XML).isWarnEnabled()) {
    OpenCms.getLog(CmsLog.CHANNEL_TEMPLATE_XML).warn(toString() + " adding variant \"" + key+ "\" to cache. ");
  }
  if (key != null) {
    CmsElementVariant old=(CmsElementVariant)m_variants.get(key);
    if ((old != null) && (old.size() == 0)) {
      variant.addDependencies(old.getDependencies());
      variant.mergeNextTimeout(old.getNextTimeout());
    }
    return m_variants.put(key,variant);
  }
  return null;
}
