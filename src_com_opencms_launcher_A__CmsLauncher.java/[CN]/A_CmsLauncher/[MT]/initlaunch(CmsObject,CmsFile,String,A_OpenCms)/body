{
  if (C_DEBUG && (A_OpenCms.isLogging() && I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING)) {
    A_OpenCms.log(C_OPENCMS_CRITICAL,getClassName() + "Launcher started for " + file.getName());
  }
  String errorMessage=null;
  if (file == null) {
    errorMessage="Got \"null\" CmsFile object. :-(";
  }
  if (cms == null) {
    errorMessage="Actual cms object missing";
  }
  if (errorMessage != null) {
    if ((A_OpenCms.isLogging() && I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING)) {
      A_OpenCms.log(C_OPENCMS_CRITICAL,getClassName() + errorMessage);
    }
    throw new CmsException(errorMessage,CmsException.C_LAUNCH_ERROR);
  }
  String clearcache=cms.getRequestContext().getRequest().getParameter("_clearcache");
  long currentFsCounter=cms.getFileSystemChanges();
  if ((clearcache != null) && ("all".equals(clearcache) || "class".equals(clearcache))) {
    CmsTemplateClassManager.clearCache();
  }
  if (((clearcache != null) && ("all".equals(clearcache) || "file".equals(clearcache))) || (currentFsCounter > m_lastFsCounterFile)) {
    A_CmsXmlContent.clearFileCache();
    m_lastFsCounterFile=currentFsCounter;
  }
  if (((clearcache != null) && ("all".equals(clearcache) || "template".equals(clearcache))) || (currentFsCounter > m_lastFsCounterTemplate)) {
    m_templateCache.clearCache();
    m_lastFsCounterTemplate=currentFsCounter;
  }
  launch(cms,file,startTemplateClass,openCms);
}
