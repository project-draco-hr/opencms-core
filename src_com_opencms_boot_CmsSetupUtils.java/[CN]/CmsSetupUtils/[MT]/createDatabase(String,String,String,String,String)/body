{
  Connection con;
  boolean includedFile=false;
  try {
    Class.forName(DbDriver);
    con=DriverManager.getConnection(DbConStr,DbUser,DbPwd);
    try {
      String file=getSetupScript(resourceBroker);
      LineNumberReader reader=new LineNumberReader(new FileReader(m_ocsetupFolder + file));
      String line=null;
      String statement="";
      while (true) {
        line=reader.readLine();
        if (line == null)         break;
        StringTokenizer st=new StringTokenizer(line);
        while (st.hasMoreTokens()) {
          String currentToken=st.nextToken();
          if (currentToken.startsWith("#")) {
            break;
          }
          if (currentToken.startsWith("prompt")) {
            break;
          }
          if (currentToken.startsWith("@")) {
            currentToken=currentToken.substring(1);
            includedFile=true;
          }
          statement+=" " + currentToken;
          if (currentToken.endsWith(";")) {
            statement=statement.substring(0,(statement.length() - 1));
            if (includedFile) {
              ExecuteStatement(con,getIncludedFile(statement));
              includedFile=false;
            }
 else {
              ExecuteStatement(con,statement);
            }
            statement="";
          }
        }
      }
      reader.close();
    }
 catch (    Exception e) {
      CmsSetup.setErrors(e.toString() + "\n");
      e.printStackTrace();
    }
  }
 catch (  Exception e) {
    CmsSetup.setErrors(e.toString() + "\n");
    e.printStackTrace();
  }
}
