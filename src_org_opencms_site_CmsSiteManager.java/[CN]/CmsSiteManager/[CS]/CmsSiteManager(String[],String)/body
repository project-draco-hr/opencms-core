{
  if (A_OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Site roots configured: " + (siteRoots.length + ((siteDefault != null) ? 1 : 0)));
  }
  m_sites=new HashMap(siteRoots.length);
  for (int i=0; i < siteRoots.length; i++) {
    int pos=siteRoots[i].indexOf('|');
    if (pos < 0) {
      if (A_OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_CRITICAL)) {
        A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_CRITICAL,". Site root init error : malformed entry " + siteRoots[i]);
      }
      continue;
    }
    String matcherStr=siteRoots[i].substring(0,pos);
    String rootStr=siteRoots[i].substring(pos + 1);
    if ((matcherStr.length() == 0) || (rootStr.length() == 0)) {
      if (A_OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_CRITICAL)) {
        A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_CRITICAL,". Site root init error : malformed entry " + siteRoots[i]);
      }
      continue;
    }
    CmsSiteMatcher matcher=new CmsSiteMatcher(matcherStr);
    CmsSite site=new CmsSite(rootStr,matcher);
    m_sites.put(matcher,site);
    if (A_OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
      A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Site root added      : " + site.toString());
    }
  }
  if ((siteDefault == null) || "".equals(siteDefault.trim())) {
    m_defaultSite=null;
  }
 else {
    m_defaultSite=new CmsSite(siteDefault,CmsSiteMatcher.C_DEFAULT_MATCHER);
  }
  if (A_OpenCms.isLogging(I_CmsLogChannels.C_OPENCMS_INIT)) {
    A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_INIT,". Site root default    : " + m_defaultSite);
  }
}
