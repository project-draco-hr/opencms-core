{
  if ((m_driverManager == null) || (m_dbContextFactory == null)) {
    throw new CmsPublishException(Messages.get().container(Messages.ERR_PUBLISH_ENGINE_NOT_INITIALIZED_0));
  }
  if (m_shuttingDown || (!isEnabled() && !OpenCms.getRoleManager().hasRole(cms,CmsRole.ROOT_ADMIN))) {
    throw new CmsPublishException(Messages.get().container(Messages.ERR_PUBLISH_ENGINE_DISABLED_0));
  }
  boolean isRunning=isRunning();
  CmsPublishJobInfoBean publishJob=new CmsPublishJobInfoBean(cms,publishList,report);
  m_publishQueue.add(publishJob);
  m_listeners.fireEnqueued(new CmsPublishJobBase(publishJob));
  if (!isRunning) {
    run();
  }
}
