{
  CmsPublishList publishList=publishJob.getPublishList();
  CmsDbContext dbc=getDbContextFactory().getDbContext(publishJob.getCmsObject().getRequestContext());
  try {
    Iterator itResources=publishList.getAllResources().iterator();
    while (itResources.hasNext()) {
      CmsResource resource=(CmsResource)itResources.next();
      m_driverManager.lockResource(dbc,resource,CmsLockType.PUBLISH);
    }
  }
  finally {
    dbc.clear();
  }
}
