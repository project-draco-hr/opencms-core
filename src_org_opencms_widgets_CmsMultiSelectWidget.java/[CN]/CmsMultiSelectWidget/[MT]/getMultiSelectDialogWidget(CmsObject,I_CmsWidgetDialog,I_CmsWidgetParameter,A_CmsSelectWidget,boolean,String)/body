{
  String id=param.getId();
  StringBuffer result=new StringBuffer(16);
  List options=widget.parseSelectOptions(cms,widgetDialog,param);
  result.append("<td class=\"xmlTd\">");
  if (asCheckBoxes && CmsStringUtil.isNotEmptyOrWhitespaceOnly(height)) {
    result.append("<div style=\"height: " + height + "; overflow: auto;\">");
  }
  if (!asCheckBoxes) {
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(height)) {
      result.append("<select style=\"height: " + height + ";\" multiple size='");
    }
 else {
      result.append("<select multiple size='");
    }
    result.append(options.size());
    result.append("' class=\"xmlInput");
    if (param.hasError()) {
      result.append(" xmlInputError");
    }
    result.append("\" name=\"");
    result.append(id);
    result.append("\" id=\"");
    result.append(id);
    result.append("\">");
  }
  List selected=widget.getSelectedValues(cms,param);
  Iterator i=options.iterator();
  while (i.hasNext()) {
    CmsSelectWidgetOption option=(CmsSelectWidgetOption)i.next();
    if (!asCheckBoxes) {
      result.append("<option value=\"");
      result.append(option.getValue());
      result.append("\"");
      if (selected.contains(option.getValue())) {
        result.append(" selected=\"selected\"");
      }
      result.append(">");
      result.append(option.getOption());
      result.append("</option>");
    }
 else {
      result.append("<input type='checkbox' name='");
      result.append(id);
      result.append("' value='");
      result.append(option.getValue());
      result.append("'");
      if (selected.contains(option.getValue())) {
        result.append(" checked");
      }
      result.append(">");
      result.append(option.getOption());
      result.append("<br>");
    }
  }
  if (!asCheckBoxes) {
    result.append("</select>");
  }
  if (asCheckBoxes && CmsStringUtil.isNotEmptyOrWhitespaceOnly(height)) {
    result.append("</div>");
  }
  result.append("</td>");
  return result.toString();
}
