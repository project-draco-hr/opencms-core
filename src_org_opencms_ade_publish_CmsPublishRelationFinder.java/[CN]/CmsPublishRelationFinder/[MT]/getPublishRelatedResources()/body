{
  ResourceMap related=computeRelatedResources();
  ResourceMap reachable=computeReachability(related);
  ResourceMap publishRelatedResources=getChangedResourcesReachableFromOriginalResources(reachable);
  removeNestedItemsFromTopLevel(publishRelatedResources);
  addParentFolders(publishRelatedResources);
  removeUnchangedTopLevelResources(publishRelatedResources);
  return publishRelatedResources;
}
