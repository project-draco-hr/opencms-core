{
  String orderBy="";
  String groupBy="";
  HttpSession session=((HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest()).getSession(true);
  Object allProjects=session.getValue(C_SESSION_TASK_ALLPROJECTS);
  int project=cms.getRequestContext().currentProject().getId();
  String filter=(String)session.getValue(C_SESSION_TASK_FILTER);
  Vector retValue;
  if ((allProjects != null) && (((Boolean)allProjects).booleanValue())) {
    project=C_UNKNOWN_ID;
  }
  if (filter == null) {
    filter="a1";
  }
  int filterNum=Integer.parseInt(filter,16);
  String userName=cms.getRequestContext().currentUser().getName();
switch (filterNum) {
case 0xa1:
    retValue=cms.readTasksForUser(project,userName,C_TASKS_NEW,orderBy,groupBy);
  break;
case 0xa2:
retValue=cms.readTasksForUser(project,userName,C_TASKS_ACTIVE,orderBy,groupBy);
break;
case 0xa3:
retValue=cms.readTasksForUser(project,userName,C_TASKS_DONE,orderBy,groupBy);
break;
case 0xb1:
retValue=readTasksForRole(cms,project,C_TASKS_NEW,orderBy,groupBy);
break;
case 0xb2:
retValue=readTasksForRole(cms,project,C_TASKS_ACTIVE,orderBy,groupBy);
break;
case 0xb3:
retValue=readTasksForRole(cms,project,C_TASKS_DONE,orderBy,groupBy);
break;
case 0xc1:
retValue=cms.readTasksForProject(project,C_TASKS_NEW,orderBy,groupBy);
break;
case 0xc2:
retValue=cms.readTasksForProject(project,C_TASKS_ACTIVE,orderBy,groupBy);
break;
case 0xc3:
retValue=cms.readTasksForProject(project,C_TASKS_DONE,orderBy,groupBy);
break;
case 0xd1:
retValue=cms.readGivenTasks(project,userName,C_TASKS_NEW,orderBy,groupBy);
break;
case 0xd2:
retValue=cms.readGivenTasks(project,userName,C_TASKS_ACTIVE,orderBy,groupBy);
break;
case 0xd3:
retValue=cms.readGivenTasks(project,userName,C_TASKS_DONE,orderBy,groupBy);
break;
default :
retValue=cms.readTasksForUser(project,userName,C_TASKS_ALL,orderBy,groupBy);
break;
}
if (retValue == null) {
return new Vector();
}
 else {
return retValue;
}
}
