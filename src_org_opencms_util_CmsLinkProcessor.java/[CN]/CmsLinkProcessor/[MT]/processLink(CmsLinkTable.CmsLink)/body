{
  String serverURL=link.getServerURL();
  if (link.isInternal() && (serverURL == null || OpenCms.getSiteManager().isMatchingCurrentSite(m_cms,new CmsSiteMatcher(serverURL)))) {
    return OpenCms.getLinkManager().substituteLink(m_cms,link.getVfsTarget());
  }
 else {
    return link.getTarget();
  }
}
