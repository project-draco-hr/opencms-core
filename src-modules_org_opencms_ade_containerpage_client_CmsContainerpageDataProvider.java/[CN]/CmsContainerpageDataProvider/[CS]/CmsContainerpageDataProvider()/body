{
  m_elements=new HashMap<String,CmsContainerElement>();
  m_containerTypes=new HashSet<String>();
  m_containers=new HashMap<String,CmsContainerJso>();
  m_targetContainers=new HashMap<String,CmsDragTargetContainer>();
  JsArray<CmsContainerJso> containers=CmsContainerJso.getContainers();
  List<CmsDragContainerElement> elements=new ArrayList<CmsDragContainerElement>();
  for (int i=0; i < containers.length(); i++) {
    CmsContainerJso container=containers.get(i);
    m_containerTypes.add(container.getType());
    m_containers.put(container.getName(),container);
    CmsDragTargetContainer target=new CmsDragTargetContainer(container);
    elements.addAll(target.consumeChildren());
    m_targetContainers.put(container.getName(),target);
  }
  Iterator<CmsDragContainerElement> it=elements.iterator();
  while (it.hasNext()) {
    CmsDragContainerElement element=it.next();
    CmsElementOptionBar optionBar=CmsElementOptionBar.createOptionBarForElement(element,CmsContainerpageEditor.INSTANCE.getToolbarButtons());
    element.setElementOptionBar(optionBar);
  }
}
