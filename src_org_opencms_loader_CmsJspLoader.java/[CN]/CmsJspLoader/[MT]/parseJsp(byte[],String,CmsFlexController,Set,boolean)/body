{
  String content;
  try {
    content=new String(byteContent,encoding);
  }
 catch (  UnsupportedEncodingException e) {
    OpenCms.getLog(this).error("Encoding not set correctly for JSP '" + controller.getCurrentRequest().getElementUri() + "' (using default)",e);
    try {
      content=new String(byteContent,C_DEFAULT_JSP_ENCODING);
      encoding=C_DEFAULT_JSP_ENCODING;
    }
 catch (    UnsupportedEncodingException e2) {
      content=new String(byteContent);
    }
  }
  content=parseJspCmsTag(content,controller,includes);
  content=parseJspIncludes(content,controller,includes);
  content=parseJspEncoding(content,encoding,isHardInclude);
  try {
    return content.getBytes(encoding);
  }
 catch (  UnsupportedEncodingException e) {
    return content.getBytes();
  }
}
