{
  try {
    CmsFlexController controller=(CmsFlexController)req.getAttribute(CmsFlexController.ATTRIBUTE_NAME);
    String target=updateJsp(cms,file,req,controller,new HashSet(11));
    controller.getCurrentResponse().setOnlyBuffering(true);
    controller.getCurrentRequest().getRequestDispatcherToExternal(cms.readAbsolutePath(file),target).include(req,res);
  }
 catch (  ServletException e) {
    String msg=e.getMessage();
    if (DEBUG > 1)     System.err.println("JspLauncher: Caught ServletException " + e);
    if ((msg != null) && msg.startsWith(C_LOADER_EXCEPTION_PREFIX))     throw e;
    throw new ServletException(C_LOADER_EXCEPTION_PREFIX + " '" + cms.readAbsolutePath(file)+ "'\n\nRoot cause:\n"+ Utils.getStackTrace(e)+ "\n--------------- End of root cause.\n",e);
  }
catch (  Exception e) {
    throw new ServletException(C_LOADER_EXCEPTION_PREFIX + " '" + cms.readAbsolutePath(file)+ "'\n\nRoot cause:\n"+ Utils.getStackTrace(e)+ "\n--------------- End of root cause.\n",e);
  }
}
