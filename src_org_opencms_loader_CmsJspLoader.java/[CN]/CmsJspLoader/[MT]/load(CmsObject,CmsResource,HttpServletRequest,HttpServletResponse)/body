{
  boolean streaming=false;
  boolean bypass=false;
  String cacheProperty=cms.readPropertyObject(cms.getSitePath(file),I_CmsResourceLoader.C_LOADER_CACHEPROPERTY,false).getValue();
  if (cacheProperty != null) {
    cacheProperty=cacheProperty.trim();
    if (CACHE_PROPERTY_STREAM.equals(cacheProperty)) {
      streaming=true;
    }
 else     if (CACHE_PROPERTY_BYPASS.equals(cacheProperty)) {
      streaming=true;
      bypass=true;
    }
  }
  CmsFlexController controller=getController(cms,file,req,res,streaming,true);
  if (bypass || controller.isForwardMode()) {
    controller.setForwardMode(true);
    String target=updateJsp(file,controller,new HashSet());
    req.getRequestDispatcher(target).forward(controller.getCurrentRequest(),res);
  }
 else {
    dispatchJsp(controller);
  }
  CmsFlexController.removeController(req);
}
