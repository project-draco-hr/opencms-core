{
  String jspVfsName=CmsLinkManager.getAbsoluteUri(vfsName,controller.getCurrentRequest().getElementRootPath());
  if (LOG.isDebugEnabled()) {
    LOG.debug(Messages.get().key(Messages.LOG_UPDATE_JSP_1,jspVfsName));
  }
  String jspRfsName=null;
  try {
    CmsObject cms=OpenCms.initCmsObject(controller.getCmsObject());
    cms.getRequestContext().setSiteRoot("");
    CmsResource includeResource=cms.readResource(jspVfsName);
    jspRfsName=updateJsp(includeResource,controller,includes);
    if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().key(Messages.LOG_NAME_REAL_FS_1,jspRfsName));
    }
  }
 catch (  Exception e) {
    jspRfsName=null;
    if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().key(Messages.LOG_ERR_UPDATE_1,jspVfsName),e);
    }
  }
  return jspRfsName;
}
