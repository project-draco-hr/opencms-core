{
  List options=new ArrayList();
  List values=new ArrayList();
  int selectedIndex=0;
  Iterator i=OpenCms.getWorkplaceManager().getViews().iterator();
  int count=-1;
  String currentView=getSettings().getViewUri();
  if (CmsStringUtil.isNotEmpty(currentView)) {
    int pos=currentView.indexOf('?');
    if (pos >= 0) {
      currentView=currentView.substring(0,pos);
    }
  }
  while (i.hasNext()) {
    count++;
    CmsWorkplaceView view=(CmsWorkplaceView)i.next();
    String viewKey=view.getKey();
    String viewUri=view.getUri();
    if (getCms().existsResource(viewUri,CmsResourceFilter.ONLY_VISIBLE_NO_DELETED)) {
      String loopLink=getJsp().link(viewUri);
      String localizedKey=key(viewKey,viewKey);
      options.add(localizedKey);
      values.add(loopLink);
      if (loopLink.equals(currentView)) {
        selectedIndex=count;
      }
    }
  }
  return buildSelect(htmlAttributes,options,values,selectedIndex);
}
