{
  if (projectView) {
    I_CmsSession session=cms.getRequestContext().getSession(true);
    String filter=new String();
    filter=(String)session.getValue("filter");
    String projectId=(String)session.getValue("projectid");
    int currentProjectId;
    if (projectId == null || "".equals(projectId)) {
      currentProjectId=cms.getRequestContext().currentProject().getId();
    }
 else {
      currentProjectId=Integer.parseInt(projectId);
    }
    session.removeValue("filter");
    return cms.readProjectView(currentProjectId,filter);
  }
 else {
    return cms.getResourcesInFolder(param);
  }
}
