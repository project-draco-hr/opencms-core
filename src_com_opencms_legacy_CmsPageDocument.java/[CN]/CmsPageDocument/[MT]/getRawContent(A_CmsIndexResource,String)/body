{
  CmsResource resource=(CmsResource)indexResource.getData();
  String rawContent=null;
  try {
    CmsXmlTemplateFile file=new CmsXmlTemplateFile(m_cms,m_cms.getRequestContext().removeSiteRoot(resource.getRootPath()));
    String content=file.getProcessedTemplateContent(null,null);
    StringExtractor extractor=new StringExtractor(content);
    rawContent=extractor.extractStrings(true);
  }
 catch (  Exception exc) {
    throw new CmsIndexException("Reading resource " + resource.getRootPath() + " failed",exc);
  }
  return rawContent;
}
