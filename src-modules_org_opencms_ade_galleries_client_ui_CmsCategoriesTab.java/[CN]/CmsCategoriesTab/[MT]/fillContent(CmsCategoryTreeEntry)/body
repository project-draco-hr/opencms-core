{
  setInitOpen(true);
  if (categoryRoot.getChildren() != null) {
    for (    CmsCategoryTreeEntry category : categoryRoot.getChildren()) {
      CmsCategoryInfoBean categoryBean=new CmsCategoryInfoBean(category.getTitle(),category.getPath(),null,category.getPath(),category.getIconResource());
      CmsListItemWidget listItemWidget=new CmsListItemWidget(categoryBean);
      Image icon=new Image(categoryBean.getIconResource());
      icon.setStyleName(DIALOG_CSS.listIcon());
      listItemWidget.setIcon(icon);
      CmsCheckBox checkBox=new CmsCheckBox();
      checkBox.addClickHandler(new CheckboxHandler(categoryBean.getId(),checkBox));
      CmsCategoryTreeItem treeItem=new CmsCategoryTreeItem(true,checkBox,listItemWidget);
      treeItem.init(categoryBean.getId(),categoryBean.getTitle(),categoryBean.getSubTitle());
      addChildren(treeItem,category.getChildren());
      addWidgetToList(treeItem);
    }
  }
}
