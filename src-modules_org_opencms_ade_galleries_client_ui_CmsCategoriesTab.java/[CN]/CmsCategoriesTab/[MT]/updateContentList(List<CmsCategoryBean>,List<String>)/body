{
  clearList();
  if (m_categories == null) {
    m_categories=new HashMap<String,CmsCategoryBean>();
  }
  for (  CmsCategoryBean categoryBean : categoriesBeans) {
    m_categories.put(categoryBean.getPath(),categoryBean);
    CmsListItemWidget listItemWidget=new CmsListItemWidget(new CmsListInfoBean(categoryBean.getTitle(),CmsStringUtil.isNotEmptyOrWhitespaceOnly(categoryBean.getDescription()) ? categoryBean.getDescription() : categoryBean.getPath(),null));
    listItemWidget.setIcon(CATEGORY_ICON_CLASSES);
    CmsCheckBox checkBox=new CmsCheckBox();
    if ((selectedCategories != null) && selectedCategories.contains(categoryBean.getPath())) {
      checkBox.setChecked(true);
    }
    SelectionHandler selectionHandler=new SelectionHandler(categoryBean.getPath(),checkBox);
    checkBox.addClickHandler(selectionHandler);
    listItemWidget.addDoubleClickHandler(selectionHandler);
    CmsTreeItem listItem=new CmsTreeItem(false,checkBox,listItemWidget);
    listItem.setId(categoryBean.getPath());
    addWidgetToList(listItem);
  }
}
