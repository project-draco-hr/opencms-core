{
  Vector siteinfo=new Vector();
  String shortname=null;
  PreparedStatement statement=null;
  try {
    statement=m_pool.getPreparedStatement(m_cq.C_GET_SITEMATRIXINFO_KEY);
    ResultSet res=statement.executeQuery();
    while (res.next()) {
      Hashtable a=new Hashtable();
      a.put("siteid",new Integer(res.getInt("SITE_ID")));
      a.put("sitename",res.getString("SITE_NAME"));
      a.put("categoryid",new Integer(res.getInt("CATEGORY_ID")));
      a.put("langid",new Integer(res.getInt("LANGUAGE_ID")));
      a.put("countryid",new Integer(res.getInt("COUNTRY_ID")));
      shortname=res.getString("LANG_SNAME");
      if (shortname != null)       a.put("lang_sname",shortname);
      a.put("lang_name",res.getString("LANG_NAME"));
      shortname=res.getString("COUNTRY_SNAME");
      if (shortname != null)       a.put("country_sname",shortname);
      a.put("country_name",res.getString("COUNTRY_NAME"));
      siteinfo.addElement(a);
    }
    res.close();
  }
 catch (  SQLException e) {
    throw new CmsException("[" + this.getClass().getName() + "]"+ e.getMessage(),CmsException.C_SQL_ERROR,e);
  }
catch (  Exception e) {
    throw new CmsException("[" + this.getClass().getName() + "]",e);
  }
 finally {
    if (statement != null) {
      m_pool.putPreparedStatement(m_cq.C_GET_SITEMATRIXINFO_KEY,statement);
    }
  }
  return siteinfo;
}
