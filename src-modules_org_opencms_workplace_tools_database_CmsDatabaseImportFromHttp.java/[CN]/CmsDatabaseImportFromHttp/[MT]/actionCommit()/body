{
  try {
    copyFileToServer();
  }
 catch (  CmsException e) {
    setException(e);
    return;
  }
  try {
    Map params=new HashMap();
    params.put(PARAM_FILE,getParamImportfile());
    params.put(PARAM_STYLE,"new");
    params.put(PARAM_CLOSELINK,getToolManager().linkForPath(getJsp(),"/database",null));
    getToolManager().jspRedirectPage(this,CmsDatabaseImportFromServer.IMPORT_ACTION_REPORT,params);
  }
 catch (  IOException e) {
    throw new CmsRuntimeException(Messages.get().container(Messages.ERR_ACTION_FILE_UPLOAD_1,getParamImportfile()),e);
  }
}
