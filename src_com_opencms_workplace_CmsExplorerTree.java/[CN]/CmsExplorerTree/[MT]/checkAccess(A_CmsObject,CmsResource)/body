{
  boolean access=false;
  int accessflags=res.getAccessFlags();
  if (((accessflags & C_ACCESS_PUBLIC_VISIBLE) > 0) || (cms.readOwner(res).equals(cms.getRequestContext().currentUser()) && (accessflags & C_ACCESS_OWNER_VISIBLE) > 0) || (cms.readGroup(res).equals(cms.getRequestContext().currentGroup()) && (accessflags & C_ACCESS_GROUP_VISIBLE) > 0)) {
    access=true;
  }
  if (res.getState() == C_STATE_DELETED) {
    access=false;
  }
  return access;
}
