{
  String galleryPath=getParamResource();
  if ((galleryPath != null) && !galleryPath.endsWith("/")) {
    galleryPath+="/";
  }
  Map<String,String[]> params=new HashMap<String,String[]>();
  Locale locale=OpenCms.getLocaleManager().getDefaultLocale(getCms(),galleryPath);
  params.put("__locale",new String[]{locale.toString()});
  params.put(I_CmsGalleryProviderConstants.ReqParam.dialogmode.name(),new String[]{GalleryMode.view.name()});
  try {
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(galleryPath)) {
      CmsResource galleryFolder=getCms().readResource(galleryPath);
      galleryPath=getCms().getSitePath(galleryFolder);
    }
  }
 catch (  CmsException e) {
  }
  params.put(I_CmsGalleryProviderConstants.ReqParam.gallerypath.name(),new String[]{galleryPath});
  params.put(I_CmsGalleryProviderConstants.ReqParam.types.name(),new String[]{""});
  sendForward(I_CmsGalleryProviderConstants.VFS_OPEN_GALLERY_PATH,params);
}
