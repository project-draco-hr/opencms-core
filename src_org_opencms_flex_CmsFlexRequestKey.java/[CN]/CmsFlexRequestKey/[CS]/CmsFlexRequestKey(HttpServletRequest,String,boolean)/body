{
  m_request=req;
  CmsObject cms=CmsFlexController.getCmsObject(req);
  m_context=cms.getRequestContext();
  m_resource=CmsFlexCacheKey.getKeyName(m_context.addSiteRoot(target),online);
  m_device=CmsFlexController.getController(req).getCmsCache().getDeviceSelector().getDeviceType(req);
  Object obj=OpenCms.getSitemapManager().getRuntimeInfo(req);
  if (obj != null) {
    m_sitemapEntry=obj.toString();
  }
  obj=req.getAttribute(CmsADEManager.ATTR_CURRENT_ELEMENT);
  if (obj != null) {
    m_containerElement=obj.toString();
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug(Messages.get().getBundle().key(Messages.LOG_FLEXREQUESTKEY_CREATED_NEW_KEY_1,m_resource));
  }
}
