{
  m_model=new CmsPublishDataModel(groups,this);
  m_resourceCountLabel.setText(formatResourceCount(m_model.getPublishResources().size()));
  m_currentGroupIndex=0;
  m_currentGroupPanel=null;
  m_problemsPanel.clear();
  if (newData) {
    m_showProblemsOnly=false;
    m_checkboxProblems.setChecked(false);
    m_checkboxProblems.setVisible(false);
    m_problemsPanel.setVisible(false);
  }
  m_groupPanels.clear();
  m_groupPanelContainer.clear();
  m_publishButton.setEnabled(false);
  int numGroups=groups.size();
  setResourcesVisible(numGroups > 0);
  if (numGroups == 0) {
    return;
  }
  m_publishButton.setEnabled(true);
  addMoreListItems();
  showProblemCount(m_model.countProblems());
  onChangePublishSelection();
}
