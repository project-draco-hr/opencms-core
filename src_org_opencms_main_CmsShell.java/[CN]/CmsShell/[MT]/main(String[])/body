{
  boolean wrongUsage=false;
  String webInfPath=null;
  String script=null;
  if (args.length > 2) {
    wrongUsage=true;
  }
 else {
    for (int i=0; i < args.length; i++) {
      String arg=args[i];
      if (arg.startsWith("-base=")) {
        webInfPath=arg.substring(6);
      }
 else       if (arg.startsWith("-script=")) {
        script=arg.substring(8);
      }
 else {
        System.out.println(Messages.get().key(Messages.GUI_SHELL_WRONG_USAGE_0));
        wrongUsage=true;
      }
    }
  }
  if (wrongUsage) {
    System.out.println(Messages.get().key(Messages.GUI_SHELL_USAGE_1,CmsShell.class.getName()));
  }
 else {
    FileInputStream stream=null;
    if (script != null) {
      try {
        stream=new FileInputStream(script);
      }
 catch (      IOException exc) {
        System.out.println(Messages.get().key(Messages.GUI_SHELL_ERR_SCRIPTFILE_1,script));
      }
    }
    if (stream == null) {
      stream=new FileInputStream(FileDescriptor.in);
    }
    CmsShell shell=new CmsShell(webInfPath,"${user}@${project}:${siteroot}|${uri}>",null);
    shell.start(stream);
  }
}
