{
  try {
    this.m_shellCommands=new CmsShellCommands(m_openCms,m_driverManager);
    LineNumberReader lnr=new LineNumberReader(new InputStreamReader(input));
    while (!m_exitCalled) {
      printPrompt();
      String line=lnr.readLine();
      if ((line != null) && line.trim().startsWith(C_COMMENT_CHAR)) {
        System.out.println(line);
        continue;
      }
      StringReader reader=new StringReader(line);
      StreamTokenizer st=new StreamTokenizer(reader);
      st.eolIsSignificant(true);
      Vector args=new Vector();
      while (st.nextToken() != StreamTokenizer.TT_EOF) {
        if (st.ttype == StreamTokenizer.TT_NUMBER) {
          args.addElement(Integer.toString(new Double(st.nval).intValue()));
        }
 else {
          args.addElement(st.sval);
        }
      }
      reader.close();
      call(args);
    }
  }
 catch (  Exception exc) {
    printException(exc);
  }
}
