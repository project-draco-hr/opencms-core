{
  String mimetype=null;
  int lastIndex=filename.lastIndexOf('.');
  if (lastIndex > 0) {
    String extension=filename.substring(lastIndex + 1);
    try {
      mimetype=(String)(cms.readMimeTypes().get(extension));
    }
 catch (    CmsException exc) {
    }
  }
  if (mimetype == null) {
    return C_DEFAULT_MIMETYPE;
  }
 else {
    return mimetype;
  }
}
