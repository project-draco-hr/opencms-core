{
  final CmsGallerySearchResultList resultList=new CmsGallerySearchResultList();
  try {
    final CmsSolrResultList list=search(cms,params.getQuery(cms),false,null);
    if (null == list) {
      return null;
    }
    resultList.setHitCount(Long.valueOf(list.getNumFound()).intValue());
    for (    final CmsSearchResource resource : list) {
      final I_CmsSearchDocument document=resource.getDocument();
      final Locale locale=CmsLocaleManager.getLocale(params.getLocale());
      final CmsGallerySearchResult result=new CmsGallerySearchResult(document,cms,(int)document.getScore(),locale);
      resultList.add(result);
    }
  }
 catch (  CmsSearchException e) {
    e.printStackTrace();
  }
  return resultList;
}
