{
  if (resource.isFolder() || resource.isTemporaryFile()) {
    return true;
  }
  boolean excludeFromIndex=false;
  try {
    String propValue=cms.readPropertyObject(resource,CmsPropertyDefinition.PROPERTY_SEARCH_EXCLUDE,true).getValue();
    excludeFromIndex=Boolean.valueOf(propValue).booleanValue();
    if (!excludeFromIndex && (propValue != null)) {
      excludeFromIndex=PROPERTY_SEARCH_EXCLUDE_VALUE_ALL.equalsIgnoreCase(propValue.trim()) || PROPERTY_SEARCH_EXCLUDE_VALUE_SOLR.equalsIgnoreCase(propValue.trim());
    }
  }
 catch (  CmsException e) {
    LOG.debug(e.getMessage(),e);
  }
  return excludeFromIndex;
}
