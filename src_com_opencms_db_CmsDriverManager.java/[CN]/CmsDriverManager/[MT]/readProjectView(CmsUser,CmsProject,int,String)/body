{
  CmsProject project=readProject(currentUser,currentProject,projectId);
  Vector retValue=new Vector();
  String whereClause=new String();
  if ("new".equalsIgnoreCase(filter)) {
    whereClause=" AND STATE=" + C_STATE_NEW;
  }
 else   if ("changed".equalsIgnoreCase(filter)) {
    whereClause=" AND STATE=" + C_STATE_CHANGED;
  }
 else   if ("deleted".equalsIgnoreCase(filter)) {
    whereClause=" AND STATE=" + C_STATE_DELETED;
  }
 else   if ("locked".equalsIgnoreCase(filter)) {
    whereClause=" AND LOCKED_BY != '" + CmsUUID.getNullUUID() + "'";
  }
 else {
    whereClause=" AND STATE != " + C_STATE_UNCHANGED;
  }
  Vector resources=m_projectDriver.readProjectView(currentProject.getId(),projectId,whereClause);
  CmsAccessGuard accessGuard=getVfsAccessGuard(currentUser,currentProject);
  for (int i=0; i < resources.size(); i++) {
    if (accessGuard.check((CmsResource)resources.elementAt(i),C_READ_ACCESS,false)) {
      retValue.addElement(resources.elementAt(i));
    }
  }
  return retValue;
}
