{
  if (!newFolderName.endsWith(C_FOLDER_SEPARATOR))   newFolderName+=C_FOLDER_SEPARATOR;
  String folderName=newFolderName.substring(0,newFolderName.lastIndexOf(C_FOLDER_SEPARATOR,newFolderName.length() - 2) + 1);
  String resourceName=newFolderName.substring(folderName.length(),newFolderName.length() - 1);
  validFilename(resourceName);
  CmsFolder cmsFolder=readFolder(currentUser,currentProject,folderName);
  getVfsAccessGuard(currentUser,currentProject).check(cmsFolder,C_WRITE_ACCESS);
  CmsFolder newFolder=m_vfsDriver.createFolder(currentUser,currentProject,cmsFolder.getResourceId(),CmsUUID.getNullUUID(),newFolderName,0);
  newFolder.setState(C_STATE_NEW);
  m_vfsDriver.writeFolder(currentProject,newFolder,false);
  this.clearResourceCache(newFolderName,currentProject,currentUser);
  m_vfsDriver.writeProperties(propertyinfos,currentProject.getId(),newFolder,newFolder.getType());
  fileSystemChanged(true);
  return newFolder;
}
