{
  m_warningSendSinceLastStatus=false;
  m_warningLoggedSinceLastStatus=false;
  m_lastEmailWarning=0;
  m_lastEmailStatus=0;
  m_lastLogStatus=0;
  m_lastLogWarning=0;
  m_lastClearCache=0;
  m_configuration=configuration;
  m_intervalWarning=720 * 60000;
  m_maxUsagePercent=90;
  m_intervalEmail=m_configuration.getEmailInterval() * 1000;
  m_intervalLog=m_configuration.getLogInterval() * 1000;
  if (m_configuration.getWarningInterval() > 0) {
    m_intervalWarning=m_configuration.getWarningInterval();
  }
  m_intervalWarning*=1000;
  if (m_configuration.getMaxUsagePercent() > 0) {
    m_maxUsagePercent=m_configuration.getMaxUsagePercent();
  }
  if (OpenCms.getLog(CmsLog.CHANNEL_INIT).isInfoEnabled()) {
    OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM interval log      : " + (m_intervalLog / 1000) + " min");
    OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM interval email    : " + (m_intervalEmail / 1000) + " min");
    OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM interval warning  : " + (m_intervalWarning / 1000) + " min");
    OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM max usage         : " + m_maxUsagePercent + "%");
    if ((m_configuration.getEmailReceiver() == null) || (m_configuration.getEmailSender() == null)) {
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM email             : disabled");
    }
 else {
      OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM email sender      : " + m_configuration.getEmailSender());
      Iterator i=m_configuration.getEmailReceiver().iterator();
      int n=0;
      while (i.hasNext()) {
        OpenCms.getLog(CmsLog.CHANNEL_INIT).info(". MM email receiver    : " + (n + 1) + " - "+ i.next());
        n++;
      }
    }
  }
  if (OpenCms.getLog(this).isDebugEnabled()) {
    OpenCms.getLog(this).debug(" New instance of CmsMemoryMonitor created at " + (new Date(System.currentTimeMillis())));
  }
}
