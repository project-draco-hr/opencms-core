{
  m_memoryAverage=new CmsMemoryStatus();
  m_memoryCurrent=new CmsMemoryStatus();
  m_warningSendSinceLastStatus=false;
  m_warningLoggedSinceLastStatus=false;
  m_lastEmailWarning=0;
  m_lastEmailStatus=0;
  m_lastLogStatus=0;
  m_lastLogWarning=0;
  m_lastClearCache=0;
  m_configuration=configuration;
  m_intervalWarning=720 * 60000;
  m_maxUsagePercent=90;
  m_intervalEmail=m_configuration.getEmailInterval() * 1000;
  m_intervalLog=m_configuration.getLogInterval() * 1000;
  if (m_configuration.getWarningInterval() > 0) {
    m_intervalWarning=m_configuration.getWarningInterval();
  }
  m_intervalWarning*=1000;
  if (m_configuration.getMaxUsagePercent() > 0) {
    m_maxUsagePercent=m_configuration.getMaxUsagePercent();
  }
  if (CmsLog.INIT.isInfoEnabled()) {
    CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_INTERVAL_LOG_1,new Integer(m_intervalLog / 1000)));
    CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_INTERVAL_EMAIL_1,new Integer(m_intervalEmail / 1000)));
    CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_INTERVAL_WARNING_1,new Integer(m_intervalWarning / 1000)));
    CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_INTERVAL_MAX_USAGE_1,new Integer(m_intervalWarning / 1000)));
    if ((m_configuration.getEmailReceiver() == null) || (m_configuration.getEmailSender() == null)) {
      CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_EMAIL_DISABLED_0));
    }
 else {
      CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_EMAIL_SENDER_1,m_configuration.getEmailSender()));
      Iterator i=m_configuration.getEmailReceiver().iterator();
      int n=0;
      while (i.hasNext()) {
        CmsLog.INIT.info(Messages.get().key(Messages.LOG_MM_EMAIL_RECEIVER_2,new Integer(n + 1),i.next()));
        n++;
      }
    }
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug(Messages.get().key(Messages.LOG_MM_CREATED_1,new Date(System.currentTimeMillis())));
  }
}
