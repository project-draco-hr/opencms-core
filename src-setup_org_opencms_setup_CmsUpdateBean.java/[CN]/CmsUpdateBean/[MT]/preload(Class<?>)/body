{
  try {
    File jar=new File(cls.getProtectionDomain().getCodeSource().getLocation().getFile());
    java.util.jar.JarFile jarfile=new JarFile(jar);
    try {
      Enumeration<JarEntry> entries=jarfile.entries();
      while (entries.hasMoreElements()) {
        JarEntry entry=entries.nextElement();
        String name=entry.getName();
        if (name.endsWith(".class")) {
          String className=name.replaceFirst("\\.class$","");
          className=className.replace('/','.');
          try {
            Class.forName(className);
          }
 catch (          VirtualMachineError e) {
            throw e;
          }
catch (          Throwable e) {
            LOG.error(e.getLocalizedMessage(),e);
          }
        }
      }
    }
  finally {
      jarfile.close();
    }
  }
 catch (  VirtualMachineError e) {
    throw e;
  }
catch (  Throwable e) {
    LOG.error(e.getLocalizedMessage(),e);
  }
}
