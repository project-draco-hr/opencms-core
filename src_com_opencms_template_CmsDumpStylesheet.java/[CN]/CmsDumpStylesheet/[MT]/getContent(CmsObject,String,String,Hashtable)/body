{
  HttpServletRequest orgReq=(HttpServletRequest)CmsXmlTemplateLoader.getRequest(cms.getRequestContext()).getOriginalRequest();
  int dotIdx=templateFile.lastIndexOf(".");
  String pre=templateFile.substring(0,dotIdx);
  String post=templateFile.substring(dotIdx);
  String browser=orgReq.getHeader("user-agent");
  if (browser.indexOf("MSIE") > -1) {
    templateFile=pre + "-ie" + post;
  }
 else {
    templateFile=pre + "-ns" + post;
  }
  return super.getContent(cms,templateFile,elementName,parameters);
}
