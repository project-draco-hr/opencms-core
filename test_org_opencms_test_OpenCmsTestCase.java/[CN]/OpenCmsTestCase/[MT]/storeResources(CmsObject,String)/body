{
  String resName="";
  try {
    CmsResource resource=cms.readFileHeader(resourceName,CmsResourceFilter.ALL);
    if (resource.isFile()) {
      m_resourceStrorage.add(resourceName,resource);
    }
 else {
      m_resourceStrorage.add(resourceName,resource);
      List resources=getSubtree(cms,resourceName);
      Iterator i=resources.iterator();
      while (i.hasNext()) {
        CmsResource res=(CmsResource)i.next();
        resName=cms.readAbsolutePath(resource,CmsResourceFilter.ALL) + res.getName();
        m_resourceStrorage.add(resName,res);
      }
    }
  }
 catch (  CmsException e) {
    fail("cannot read resource " + resourceName + " or "+ resName+ " "+ CmsException.getStackTraceAsString(e));
  }
}
