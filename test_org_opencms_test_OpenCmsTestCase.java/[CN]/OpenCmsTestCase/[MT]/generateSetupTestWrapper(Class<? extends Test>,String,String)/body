{
  try {
    TestSuite suite=new TestSuite();
    suite.setName(testClass.getName());
    for (    Method method : testClass.getMethods()) {
      String methodName=method.getName();
      if (methodName.startsWith("test") && (method.getParameterTypes().length == 0)) {
        Constructor<? extends Test> constructor=testClass.getConstructor(String.class);
        Test test=constructor.newInstance(method.getName());
        suite.addTest(test);
      }
    }
    TestSetup wrapper=new TestSetup(suite){
      /** 
 * @see junit.extensions.TestSetup#setUp()
 */
      @Override protected void setUp(){
        setupOpenCms(importFolder,targetFolder);
      }
      /** 
 * @see junit.extensions.TestSetup#tearDown()
 */
      @Override protected void tearDown(){
        removeOpenCms();
      }
    }
;
    return wrapper;
  }
 catch (  Throwable e) {
    throw new RuntimeException(e);
  }
}
