{
  target=CmsLinkManager.getAbsoluteUri(target,CmsResource.getParentFolder(source));
  if (target.equals(source) || (isMultiOperation() && target.startsWith(source))) {
    throw new CmsVfsException(Messages.get().container(Messages.ERR_COPY_ONTO_ITSELF_1,target));
  }
  try {
    CmsResource res=getCms().readResource(target,CmsResourceFilter.ALL);
    if (res.isFolder()) {
      if (!target.endsWith("/")) {
        target+="/";
      }
      target=target + CmsResource.getName(source);
    }
  }
 catch (  CmsVfsResourceNotFoundException e) {
    if (LOG.isInfoEnabled()) {
      LOG.info(e.getLocalizedMessage());
    }
  }
  setParamTarget(target);
  if (overwrite && getCms().existsResource(target)) {
    checkLock(target);
    getCms().deleteResource(target,CmsResource.DELETE_PRESERVE_SIBLINGS);
  }
  getCms().copyResource(sitePrefix + source,target,copyMode);
}
