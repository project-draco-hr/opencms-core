{
  StringBuffer retValue=new StringBuffer(256);
  boolean isFolder=false;
  try {
    CmsResource curRes=getCms().readResource(getParamResource(),CmsResourceFilter.ALL);
    if (curRes.isFolder()) {
      isFolder=true;
    }
  }
 catch (  CmsException e) {
    if (LOG.isInfoEnabled()) {
      LOG.info(e.getLocalizedMessage());
    }
  }
  String checkedAttr=" checked=\"checked\"";
  if (isFolder) {
    int defaultMode=getSettings().getUserSettings().getDialogCopyFolderMode();
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + CmsResource.COPY_AS_SIBLING + "\"");
    if (defaultMode == CmsResource.COPY_AS_SIBLING) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(key(Messages.GUI_COPY_CREATE_SIBLINGS_0) + "<br>\n");
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + CmsResource.COPY_PRESERVE_SIBLING + "\"");
    if (defaultMode == CmsResource.COPY_PRESERVE_SIBLING) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(key(Messages.GUI_COPY_ALL_NO_SIBLINGS_0) + "<br>\n");
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + CmsResource.COPY_AS_NEW + "\"");
    if (defaultMode == CmsResource.COPY_AS_NEW) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(key(Messages.GUI_COPY_ALL_0) + "<br>\n");
  }
 else {
    int defaultMode=getSettings().getUserSettings().getDialogCopyFileMode();
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + CmsResource.COPY_AS_SIBLING + "\"");
    if (defaultMode == CmsResource.COPY_AS_SIBLING) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(key(Messages.GUI_CREATE_SIBLING_0) + "<br>\n");
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + CmsResource.COPY_AS_NEW + "\"");
    if (defaultMode == CmsResource.COPY_AS_NEW) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(key(Messages.GUI_COPY_AS_NEW_0) + "<br>\n");
  }
  return retValue.toString();
}
