{
  CmsObject cms=getCmsObject();
  echo("Testing using different resource bundles in content handler for XML content");
  CmsXmlEntityResolver resolver=new CmsXmlEntityResolver(cms);
  String content;
  CmsXmlContentDefinition definition;
  content=CmsFileUtil.readFile("org/opencms/xml/content/xmlcontent-definition-3.xsd",CmsEncoder.C_UTF8_ENCODING);
  definition=CmsXmlContentDefinition.unmarshal(content,C_SCHEMA_SYSTEM_ID_3,resolver);
  I_CmsXmlContentHandler contentHandler;
  contentHandler=definition.getContentHandler();
  assertSame(definition.getContentHandler().getClass().getName(),TestXmlContentHandler.class.getName());
  assertNull(contentHandler.getMessages(Locale.ENGLISH));
  content=CmsFileUtil.readFile("org/opencms/xml/content/xmlcontent-definition-8.xsd",CmsEncoder.C_UTF8_ENCODING);
  definition=CmsXmlContentDefinition.unmarshal(content,C_SCHEMA_SYSTEM_ID_8,resolver);
  contentHandler=definition.getContentHandler();
  assertSame(definition.getContentHandler().getClass().getName(),CmsDefaultXmlContentHandler.class.getName());
  CmsMessages messages=contentHandler.getMessages(Locale.ENGLISH);
  assertNotNull(messages);
  assertEquals("The following errors occurred when validating the form:",messages.key("editor.xmlcontent.validation.error.title"));
  assertEquals("Invalid value \"",messages.key("editor.xmlcontent.validation.error.1"));
}
