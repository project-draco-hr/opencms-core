{
  if (!this.isCached(theCacheObject))   return false;
  if ((this.m_maxObjectCosts != -1) && (theCacheObject.getLruCacheCosts() > this.m_maxObjectCosts)) {
    if (I_CmsLogChannels.C_LOGGING && A_OpenCms.isLogging(I_CmsLogChannels.C_FLEX_CACHE))     A_OpenCms.log(I_CmsLogChannels.C_FLEX_CACHE,"[FlexLruCache] you are trying to cache objects with cache costs " + theCacheObject.getLruCacheCosts() + " which is bigger than the max. allowed costs "+ this.m_maxObjectCosts);
    this.remove(theCacheObject);
    return false;
  }
  if (theCacheObject.getNextLruObject() == null) {
    return true;
  }
 else   if (theCacheObject.getPreviousLruObject() == null) {
    I_CmsFlexLruCacheObject newTail=theCacheObject.getNextLruObject();
    newTail.setPreviousLruObject(null);
    this.m_listTail=newTail;
  }
 else {
    theCacheObject.getPreviousLruObject().setNextLruObject(theCacheObject.getNextLruObject());
    theCacheObject.getNextLruObject().setPreviousLruObject(theCacheObject.getPreviousLruObject());
  }
  I_CmsFlexLruCacheObject oldHead=this.m_listHead;
  oldHead.setNextLruObject(theCacheObject);
  theCacheObject.setNextLruObject(null);
  theCacheObject.setPreviousLruObject(oldHead);
  this.m_listHead=theCacheObject;
  return true;
}
