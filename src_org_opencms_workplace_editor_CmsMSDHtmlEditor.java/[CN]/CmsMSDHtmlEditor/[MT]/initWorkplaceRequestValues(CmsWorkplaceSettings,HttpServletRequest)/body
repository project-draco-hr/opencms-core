{
  fillParamValues(request);
  setParamDialogtype(EDITOR_TYPE);
  try {
    if (EDITOR_SAVE.equals(getParamAction())) {
      setAction(ACTION_SAVE);
    }
 else     if (EDITOR_SAVEEXIT.equals(getParamAction())) {
      setAction(ACTION_SAVEEXIT);
    }
 else     if (EDITOR_EXIT.equals(getParamAction())) {
      setAction(ACTION_EXIT);
    }
 else     if (EDITOR_CHANGE_BODY.equals(getParamAction())) {
      setAction(ACTION_CHANGE_BODY);
    }
 else     if (EDITOR_CHANGE_TEMPLATE.equals(getParamAction())) {
      setAction(ACTION_SHOW);
      actionChangeTemplate();
    }
 else     if (EDITOR_SHOW.equals(getParamAction())) {
      setAction(ACTION_SHOW);
    }
 else     if (EDITOR_PREVIEW.equals(getParamAction())) {
      setAction(ACTION_PREVIEW);
    }
 else {
      setAction(ACTION_DEFAULT);
      setParamTempfile(createTempFile());
      initContent();
      setParamPagetemplate(getJsp().property(I_CmsConstants.C_PROPERTY_TEMPLATE,getParamTempfile(),""));
      setParamPagetitle(getJsp().property(I_CmsConstants.C_PROPERTY_TITLE,getParamTempfile(),""));
    }
  }
 catch (  CmsException e) {
  }
  prepareContent(false);
  if (!(getAction() == ACTION_SAVE) && !(getAction() == ACTION_SAVEEXIT)) {
    setParamPagetitle(Encoder.escapeXml(getParamPagetitle()));
  }
}
