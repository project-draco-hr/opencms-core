{
  Connection con=null;
  try {
    con=getConnection();
    PreparedStatement statementResourceDelete=con.prepareStatement(C_RESOURCE_DELETE);
    statementResourceDelete.setString(1,absoluteName(filename));
    statementResourceDelete.setInt(2,project.getId());
    statementResourceDelete.executeUpdate();
    putConnection(con);
    con=getConnection();
    PreparedStatement statementFileDelete=con.prepareStatement(C_FILE_DELETE);
    statementFileDelete.setString(1,absoluteName(filename));
    statementFileDelete.setInt(2,project.getId());
    statementFileDelete.executeUpdate();
    putConnection(con);
  }
 catch (  SQLException e) {
    putConnection(con);
    throw new CmsException("[" + this.getClass().getName() + "] "+ e.getMessage(),CmsException.C_SQL_ERROR,e);
  }
}
