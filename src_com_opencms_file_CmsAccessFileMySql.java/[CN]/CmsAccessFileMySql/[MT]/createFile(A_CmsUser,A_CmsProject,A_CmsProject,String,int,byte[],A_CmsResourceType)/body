{
  try {
    PreparedStatement statementResourceWrite=m_Con.prepareStatement(C_RESOURCE_WRITE);
    statementResourceWrite.setString(1,absoluteName(filename));
    statementResourceWrite.setInt(2,resourceType.getResourceType());
    statementResourceWrite.setInt(3,flags);
    statementResourceWrite.setInt(4,user.getId());
    statementResourceWrite.setInt(5,user.getDefaultGroupId());
    statementResourceWrite.setInt(6,project.getId());
    statementResourceWrite.setInt(7,C_ACCESS_DEFAULT_FLAGS);
    statementResourceWrite.setInt(8,C_STATE_NEW);
    statementResourceWrite.setInt(9,C_UNKNOWN_ID);
    statementResourceWrite.setInt(10,resourceType.getLauncherType());
    statementResourceWrite.setString(11,resourceType.getLauncherClass());
    statementResourceWrite.setTimestamp(12,new Timestamp(System.currentTimeMillis()));
    statementResourceWrite.setTimestamp(13,new Timestamp(System.currentTimeMillis()));
    statementResourceWrite.setInt(14,contents.length);
    statementResourceWrite.executeUpdate();
    PreparedStatement statementFileWrite=m_Con.prepareStatement(C_FILE_WRITE);
    statementFileWrite.setString(1,absoluteName(filename));
    statementFileWrite.setInt(2,project.getId());
    statementFileWrite.setBytes(3,contents);
    statementFileWrite.executeUpdate();
  }
 catch (  SQLException e) {
    throw new CmsException("[" + this.getClass().getName() + "] "+ e.getMessage(),CmsException.C_SQL_ERROR,e);
  }
  return readFile(project,onlineProject,filename);
}
