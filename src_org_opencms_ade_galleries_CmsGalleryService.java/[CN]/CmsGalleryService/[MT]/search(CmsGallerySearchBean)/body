{
  CmsGallerySearchBean searchObjBean=new CmsGallerySearchBean(searchObj);
  if (searchObj == null) {
    return searchObjBean;
  }
  CmsGallerySearchParameters params=prepareSearchParams(searchObj);
  org.opencms.search.galleries.CmsGallerySearch searchBean=new org.opencms.search.galleries.CmsGallerySearch();
  searchBean.init(getCmsObject());
  searchBean.setIndex(CmsGallerySearchIndex.GALLERY_INDEX_NAME);
  CmsGallerySearchResultList searchResults=searchBean.getResult(params);
  searchObjBean.setSortOrder(params.getSortOrder().name());
  searchObjBean.setResultCount(searchResults.getHitCount());
  searchObjBean.setPage(params.getResultPage());
  searchObjBean.setResults(buildSearchResultList(searchResults));
  return searchObjBean;
}
