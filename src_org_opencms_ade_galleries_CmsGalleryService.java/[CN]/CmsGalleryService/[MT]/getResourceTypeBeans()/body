{
  List<I_CmsResourceType> resourceTypes=null;
  List<String> creatableTypes=null;
switch (m_galleryMode) {
case editor:
case view:
case widget:
    resourceTypes=readResourceTypesFromRequest();
  creatableTypes=Collections.<String>emptyList();
break;
case ade:
resourceTypes=new ArrayList<I_CmsResourceType>();
creatableTypes=new ArrayList<String>();
try {
CmsContainerPageConfigurationData configData=OpenCms.getADEConfigurationManager().getContainerPageConfiguration(getCmsObject(),getCmsObject().getRequestContext().addSiteRoot(getCmsObject().getRequestContext().getUri()));
Map<String,CmsConfigurationItem> typeConfig=configData.getTypeConfiguration();
for (Entry<String,CmsConfigurationItem> configEntry : typeConfig.entrySet()) {
resourceTypes.add(getResourceManager().getResourceType(configEntry.getKey()));
if (CmsContainerPageConfigurationData.isCreatableType(getCmsObject(),configEntry.getKey(),configEntry.getValue())) {
creatableTypes.add(configEntry.getKey());
}
}
}
 catch (CmsException e) {
error(e);
}
break;
default :
resourceTypes=Collections.<I_CmsResourceType>emptyList();
creatableTypes=Collections.<String>emptyList();
}
return buildTypesList(resourceTypes,creatableTypes);
}
