{
  if ((searchObject.getGalleries() != null) && (searchObject.getGalleries().size() == 1)) {
    String galleryPath=searchObject.getGalleries().get(0);
    CmsWorkplaceSettings settings=getWorkplaceSettings();
    if (searchObject.getGalleryMode() == GalleryMode.adeView) {
      settings.setLastUsedGallery(KEY_LAST_USED_GALLERY_ADEVIEW,galleryPath);
    }
 else {
      for (      String typeName : searchObject.getTypes()) {
        try {
          settings.setLastUsedGallery("" + OpenCms.getResourceManager().getResourceType(typeName).getTypeId(),galleryPath);
        }
 catch (        CmsLoaderException e) {
          this.log(e.getLocalizedMessage(),e);
        }
      }
    }
  }
}
