{
  List<I_CmsResourceType> resourceTypes=null;
  List<String> creatableTypes=null;
switch (galleryMode) {
case editor:
case view:
case adeView:
case widget:
    resourceTypes=convertTypeNamesToTypes(resourceTypesList);
  if (resourceTypes.size() == 0) {
    resourceTypes=Lists.newArrayList(getDefaultTypesForGallery());
  }
creatableTypes=Collections.<String>emptyList();
break;
case ade:
throw new IllegalStateException("This code should never be called");
default :
resourceTypes=Collections.<I_CmsResourceType>emptyList();
creatableTypes=Collections.<String>emptyList();
}
return buildTypesList(resourceTypes,creatableTypes,Collections.<String>emptyList(),typesForTypeTab);
}
