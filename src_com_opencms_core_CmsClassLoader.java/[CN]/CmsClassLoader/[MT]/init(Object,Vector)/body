{
  m_cms=cms;
  if (classRepository == null) {
    classRepository=new Vector();
  }
  Enumeration e=classRepository.elements();
  while (e.hasMoreElements()) {
    Object o=e.nextElement();
    String file;
    try {
      file=(String)o;
    }
 catch (    ClassCastException objectIsNotFile) {
      throw new IllegalArgumentException("Object " + o + " is not a valid \"String\" instance");
    }
  }
  try {
    m_cmsObjectClass=Class.forName("com.opencms.file.CmsObject",true,this);
    m_cmsFileClass=Class.forName("com.opencms.file.CmsFile",true,this);
    m_readFile=m_cmsObjectClass.getMethod("readFile",new Class[]{String.class});
    m_getContent=m_cmsFileClass.getMethod("getContents",new Class[0]);
  }
 catch (  Exception exc) {
    throw new IllegalArgumentException("Error in CmsClassloader.init() " + exc.toString());
  }
  repository=classRepository;
  generation=generationCounter++;
}
