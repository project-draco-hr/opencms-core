{
  Hashtable result=new Hashtable();
  FileInputStream fIn=null;
  byte[] buffer;
  int charsRead;
  int size;
  try {
    File tableInRfs=new File(LINKTABLE_FILENAME);
    if (tableInRfs.exists()) {
      fIn=new FileInputStream(tableInRfs);
      charsRead=0;
      size=new Long(tableInRfs.length()).intValue();
      buffer=new byte[size];
      while (charsRead < size) {
        charsRead+=fIn.read(buffer,charsRead,size - charsRead);
      }
      ByteArrayInputStream bin=new ByteArrayInputStream(buffer);
      ObjectInputStream oin=new ObjectInputStream(bin);
      Serializable s=(Serializable)oin.readObject();
      result=(Hashtable)s;
    }
  }
 catch (  Exception e) {
    throw new CmsLegacyException("Error writing serialized hashtable. " + e);
  }
 finally {
    try {
      if (fIn != null) {
        fIn.close();
      }
    }
 catch (    IOException e) {
    }
  }
  return result;
}
