{
  CmsSite currentSite=CmsSiteManager.getCurrentSite(cms);
  String onlineLink=substituteLink(cms,resourceName,currentSite.getSiteRoot());
  String serverPrefix=currentSite.getServerPrefix(cms,resourceName);
  if (!onlineLink.startsWith(serverPrefix)) {
    onlineLink=serverPrefix + onlineLink;
  }
  return onlineLink;
}
