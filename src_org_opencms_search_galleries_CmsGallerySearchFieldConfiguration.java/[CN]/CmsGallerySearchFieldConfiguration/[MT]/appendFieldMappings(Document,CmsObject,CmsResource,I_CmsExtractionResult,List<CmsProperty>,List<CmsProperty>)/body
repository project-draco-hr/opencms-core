{
  Iterator<CmsSearchField> fieldConfigs=getFields().iterator();
  while (fieldConfigs.hasNext()) {
    CmsSearchField fieldConfig=fieldConfigs.next();
    if (CmsSearchField.FIELD_TITLE.equals(fieldConfig.getName()) || (CmsResourceTypeXmlContent.isXmlContent(resource) && (CmsSearchField.FIELD_CONTENT.equals(fieldConfig.getName()) || CmsSearchField.FIELD_TITLE_UNSTORED.equals(fieldConfig.getName()) || CmsSearchField.FIELD_DESCRIPTION.equals(fieldConfig.getName())|| CmsSearchField.FIELD_META.equals(fieldConfig.getName())))) {
      appendMultipleFieldMapping(document,fieldConfig,cms,resource,extractionResult,properties,propertiesSearched);
    }
 else {
      appendFieldMapping(document,fieldConfig,cms,resource,extractionResult,properties,propertiesSearched);
    }
  }
  return document;
}
