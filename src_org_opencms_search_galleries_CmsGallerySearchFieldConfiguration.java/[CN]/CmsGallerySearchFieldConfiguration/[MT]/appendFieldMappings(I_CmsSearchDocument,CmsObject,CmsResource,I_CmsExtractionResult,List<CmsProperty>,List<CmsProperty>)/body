{
  Iterator<I_CmsSearchField> fieldConfigs=getFields().iterator();
  while (fieldConfigs.hasNext()) {
    I_CmsSearchField fieldConfig=fieldConfigs.next();
    if (I_CmsSearchField.FIELD_TITLE.equals(fieldConfig.getName()) || (CmsResourceTypeXmlContent.isXmlContent(resource) && (I_CmsSearchField.FIELD_CONTENT.equals(fieldConfig.getName()) || I_CmsSearchField.FIELD_TITLE_UNSTORED.equals(fieldConfig.getName()) || I_CmsSearchField.FIELD_DESCRIPTION.equals(fieldConfig.getName())|| I_CmsSearchField.FIELD_META.equals(fieldConfig.getName())))) {
      appendMultipleFieldMapping(document,fieldConfig,cms,resource,extractionResult,properties,propertiesSearched);
    }
 else {
      appendFieldMapping(document,fieldConfig,cms,resource,extractionResult,properties,propertiesSearched);
    }
  }
  return document;
}
