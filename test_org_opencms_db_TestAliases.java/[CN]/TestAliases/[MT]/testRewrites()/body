{
  CmsUUID id=new CmsUUID();
  String siteRoot="/sites/default";
  String patternString="/foo/(.*)";
  String replacementString="/bar/(.*)";
  CmsAliasMode mode=CmsAliasMode.permanentRedirect;
  CmsRewriteAlias alias=new CmsRewriteAlias(id,siteRoot,patternString,replacementString,mode);
  CmsAliasManager aliasManager=OpenCms.getAliasManager();
  aliasManager.saveRewriteAliases(getCmsObject(),siteRoot,Collections.singletonList(alias));
  List<CmsRewriteAlias> aliases=aliasManager.getRewriteAliases("/sites/default");
  boolean found=false;
  for (  CmsRewriteAlias currentAlias : aliases) {
    if (currentAlias.getId().equals(id)) {
      assertEquals(siteRoot,currentAlias.getSiteRoot());
      assertEquals(patternString,currentAlias.getPatternString());
      assertEquals(replacementString,currentAlias.getReplacementString());
      assertEquals(mode,currentAlias.getMode());
      found=true;
    }
  }
  assertTrue(found);
}
