{
  StringBuffer result=new StringBuffer();
  Map galleryMap=OpenCms.getWorkplaceManager().getGalleries();
  List galleries=new ArrayList(galleryMap.size());
  Map typeMap=new HashMap(galleryMap.size());
  Iterator i=galleryMap.keySet().iterator();
  while (i.hasNext()) {
    String key=(String)i.next();
    A_CmsGallery currGallery=(A_CmsGallery)galleryMap.get(key);
    galleries.add(currGallery);
    typeMap.put(currGallery,key);
  }
  Collections.sort(galleries);
  for (int k=0; k < galleries.size(); k++) {
    A_CmsGallery currGallery=(A_CmsGallery)galleries.get(k);
    String galleryType=(String)typeMap.get(currGallery);
    String galleryName=CmsStringUtil.substitute(galleryType,"gallery","");
    if (options.showElement("gallery." + galleryName,displayOptions)) {
      result.append(button("javascript:openGallery(\'" + galleryType + "\');",null,galleryType,"button." + galleryName + "list",buttonStyle));
    }
  }
  return result.toString();
}
