{
  if (context.currentProject().getId() == I_CmsConstants.C_PROJECT_ONLINE_ID) {
    return CmsLock.getNullLock();
  }
 else {
    int lockState=getLockState(driverManager,context,resourcename);
    if (lockState != CmsLock.C_TYPE_UNLOCKED) {
      return new CmsLock(resourcename,context.currentUser().getId(),context.currentProject().getId(),lockState);
    }
  }
  return CmsLock.getNullLock();
}
