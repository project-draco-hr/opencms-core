{
  List siblings=null;
  if (m_exclusiveLocks.containsKey(resourcename)) {
    return CmsLock.C_TYPE_EXCLUSIVE;
  }
  siblings=driverManager.getAllSiblings(context,resourcename);
  if (!parentFolderIsLocked(resourcename)) {
    for (int i=0; i < siblings.size(); i++) {
      CmsResource sibling=(CmsResource)siblings.get(i);
      if (m_exclusiveLocks.containsKey(sibling.getFullResourceName())) {
        return CmsLock.C_TYPE_SHARED_EXCLUSIVE;
      }
    }
    return CmsLock.C_TYPE_UNLOCKED;
  }
 else {
    for (int i=0; i < siblings.size(); i++) {
      CmsResource sibling=(CmsResource)siblings.get(i);
      if (m_exclusiveLocks.containsKey(sibling.getFullResourceName())) {
        return CmsLock.C_TYPE_SHARED_INHERITED;
      }
    }
    return CmsLock.C_TYPE_INHERITED;
  }
}
