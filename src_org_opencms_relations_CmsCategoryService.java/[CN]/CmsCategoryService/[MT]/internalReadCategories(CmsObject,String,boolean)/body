{
  List resources=Collections.EMPTY_LIST;
  try {
    resources=cms.readResources(BASE_PATH + baseCategory,CmsResourceFilter.DEFAULT.addRequireType(CmsResourceTypeFolder.RESOURCE_TYPE_ID),includeSubCats);
  }
 catch (  CmsVfsResourceNotFoundException cvrnfe) {
    if (CmsStringUtil.isEmptyOrWhitespaceOnly(baseCategory)) {
      Locale wpLocale=OpenCms.getWorkplaceManager().getDefaultLocale();
      try {
        cms.createResource(BASE_PATH,CmsResourceTypeFolder.getStaticTypeId());
      }
 catch (      Exception ex) {
        LOG.error(Messages.get().getBundle(wpLocale).key("LOG_ERR_CREATE_CATEGORY_FOLDER_1",new String[]{BASE_PATH}));
      }
    }
  }
  List categories=new ArrayList();
  Iterator it=resources.iterator();
  while (it.hasNext()) {
    CmsResource resource=(CmsResource)it.next();
    CmsProperty title=cms.readPropertyObject(resource,CmsPropertyDefinition.PROPERTY_TITLE,false);
    CmsProperty description=cms.readPropertyObject(resource,CmsPropertyDefinition.PROPERTY_DESCRIPTION,false);
    categories.add(new CmsCategory(resource.getStructureId(),getCategoryPath(resource.getRootPath()),title.getValue(),description.getValue()));
  }
  return categories;
}
