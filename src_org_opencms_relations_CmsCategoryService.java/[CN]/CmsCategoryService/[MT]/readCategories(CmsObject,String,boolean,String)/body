{
  String catPath=parentCategoryPath;
  if (catPath == null) {
    catPath="";
  }
  Set cats=new HashSet();
  List repositories=getCategoryRepositories(cms,referencePath);
  Iterator it=repositories.iterator();
  while (it.hasNext()) {
    String repository=(String)it.next();
    try {
      cats.addAll(internalReadSubCategories(cms,internalCategoryRootPath(repository,catPath),includeSubCats));
    }
 catch (    CmsVfsResourceNotFoundException e) {
    }
  }
  List ret=new ArrayList(cats);
  Collections.sort(ret);
  return ret;
}
