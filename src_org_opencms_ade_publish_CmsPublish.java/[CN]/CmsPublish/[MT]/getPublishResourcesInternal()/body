{
  if (m_resourceList != null) {
    return m_resourceList;
  }
  m_resourceList=new ResourcesAndRelated();
  try {
    List<CmsResource> rawResourceList=getRawPublishResources();
    m_resourceList.getResources().addAll(rawResourceList);
  }
 catch (  CmsException e) {
    if (LOG.isErrorEnabled()) {
      LOG.error(e.getLocalizedMessage(),e);
    }
    return m_resourceList;
  }
  if (m_options.isIncludeSiblings()) {
    addSiblings(m_resourceList);
  }
  if (m_options.isIncludeRelated()) {
    addRelated(m_resourceList);
  }
  return m_resourceList;
}
