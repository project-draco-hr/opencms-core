{
  CmsObject cms=m_cms;
  I_CmsReport report=new CmsHtmlReport(cms.getRequestContext().getLocale(),cms.getRequestContext().getSiteRoot());
  CmsPublishManager publishManager=OpenCms.getPublishManager();
  CmsPublishList publishList=publishManager.getPublishListAll(m_cms,resources,m_options.isIncludeSiblings(),true);
  if (m_options.isIncludeRelated()) {
    CmsPublishList related=publishManager.getRelatedResourcesToPublish(m_cms,publishList);
    LOG.info("merging related resources into publish list.");
    publishList=publishManager.mergePublishLists(m_cms,publishList,related);
  }
  OpenCms.getPublishManager().publishProject(m_cms,report,publishList);
}
