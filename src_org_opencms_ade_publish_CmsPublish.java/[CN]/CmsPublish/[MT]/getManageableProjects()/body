{
  List<CmsProjectBean> manProjs=new ArrayList<CmsProjectBean>();
  List<CmsProject> projects;
  try {
    projects=OpenCms.getOrgUnitManager().getAllManageableProjects(m_cms,"",true);
  }
 catch (  CmsException e) {
    LOG.error(e.getLocalizedMessage(),e);
    return manProjs;
  }
  for (  CmsProject project : projects) {
    CmsProjectBean manProj=createProjectBeanFromProject(m_cms,project);
    manProjs.add(manProj);
  }
  for (  I_CmsVirtualProject handler : virtualProjectHandlers.values()) {
    CmsProjectBean projectBean=handler.createContext(m_cms,m_options.getParameters()).getProjectBean();
    if (projectBean != null) {
      manProjs.add(projectBean);
    }
  }
  return manProjs;
}
