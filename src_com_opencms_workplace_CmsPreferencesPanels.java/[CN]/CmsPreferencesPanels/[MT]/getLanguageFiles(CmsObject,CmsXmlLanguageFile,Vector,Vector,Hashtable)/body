{
  Vector allLangFiles=null;
  Vector allLangFolders=cms.getSubFolders(I_CmsWpConstants.C_VFS_PATH_LOCALES);
  String langName=null;
  Hashtable startSettings=null;
  I_CmsSession session=cms.getRequestContext().getSession(true);
  startSettings=(Hashtable)session.getValue("STARTSETTINGS");
  if (startSettings != null) {
    langName=(String)startSettings.get(C_START_LANGUAGE);
  }
  if ((langName == null) || ("".equals(langName))) {
    langName=CmsXmlLanguageFile.getCurrentUserLanguage(cms);
  }
  int select=0;
  for (int i=0; i < allLangFolders.size(); i++) {
    CmsFolder folder=(CmsFolder)allLangFolders.elementAt(i);
    allLangFiles=cms.getFilesInFolder(folder.getAbsolutePath());
    CmsFile file=(CmsFile)allLangFiles.elementAt(0);
    CmsXmlLanguageFile langFile=new CmsXmlLanguageFile(cms,file.getAbsolutePath());
    names.addElement(langFile.getDataValue("name"));
    values.addElement(folder.getName());
    if (folder.getName().equals(langName)) {
      select=i;
    }
  }
  return new Integer(select);
}
