{
  CmsXmlWpConfigFile conf=new CmsXmlWpConfigFile(cms);
  Vector allLangFiles=null;
  Vector allLangFolders=cms.getSubFoldersRecursively(conf.getLanguagePath());
  String langName=null;
  Hashtable startSettings=null;
  I_CmsSession session=cms.getRequestContext().getSession(true);
  startSettings=(Hashtable)session.getValue("STARTSETTINGS");
  if (startSettings == null) {
    startSettings=(Hashtable)cms.getRequestContext().currentUser().getAdditionalInfo(C_ADDITIONAL_INFO_STARTSETTINGS);
  }
  if (startSettings != null) {
    langName=(String)startSettings.get(C_START_LANGUAGE);
  }
 else {
    langName=C_DEFAULT_LANGUAGE;
  }
  int select=0;
  for (int i=0; i < allLangFolders.size(); i++) {
    CmsFolder folder=(CmsFolder)allLangFolders.elementAt(i);
    allLangFiles=cms.getFilesInFolderRecursively(folder.getAbsolutePath());
    CmsFile file=(CmsFile)allLangFiles.elementAt(0);
    CmsXmlLanguageFile langFile=new CmsXmlLanguageFile(cms,file.getAbsolutePath());
    names.addElement(langFile.getDataValue("name"));
    values.addElement(folder.getName());
    if (folder.getName().equals(langName)) {
      select=i;
    }
  }
  return new Integer(select);
}
