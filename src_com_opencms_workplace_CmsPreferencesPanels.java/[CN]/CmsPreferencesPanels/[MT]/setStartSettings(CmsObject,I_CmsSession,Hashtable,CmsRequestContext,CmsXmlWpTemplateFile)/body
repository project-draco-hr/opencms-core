{
  Hashtable startSettings=null;
  startSettings=(Hashtable)session.getValue(C_PARA_STARTSETTINGS);
  if (startSettings == null) {
    startSettings=(Hashtable)reqCont.currentUser().getAdditionalInfo(C_ADDITIONAL_INFO_STARTSETTINGS);
    if (startSettings != null) {
      startSettings.put(C_START_DEFAULTGROUP,reqCont.currentUser().getDefaultGroup().getName());
    }
  }
  if (startSettings == null) {
    startSettings=new Hashtable();
    startSettings.put(C_START_LANGUAGE,C_DEFAULT_LANGUAGE);
    startSettings.put(C_START_PROJECT,new Integer(reqCont.currentProject().getId()));
    String currentView=(String)session.getValue(C_PARA_VIEW);
    if (currentView == null) {
      currentView="/system/workplace/action/explorer.html";
    }
    startSettings.put(C_START_VIEW,currentView);
    startSettings.put(C_START_DEFAULTGROUP,reqCont.currentUser().getDefaultGroup().getName());
    startSettings.put(C_START_LOCKDIALOG,"");
    startSettings.put(C_START_ACCESSFLAGS,new Integer(C_ACCESS_DEFAULT_FLAGS));
  }
  Vector langValues=new Vector();
  try {
    getLanguageFiles(cms,null,new Vector(),langValues,parameters);
    if (langValues.size() == 1) {
      xmlTemplateDocument.setData("LANG_SELECT","<input type=\"hidden\" name=\"LANGUAGE\" value=\"" + langValues.elementAt(0) + "\">");
    }
  }
 catch (  Exception e) {
  }
  int flags=((Integer)startSettings.get(C_START_ACCESSFLAGS)).intValue();
  if ((flags & C_PERMISSION_READ) > 0) {
    xmlTemplateDocument.setData(C_CHECKUR,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKUR," ");
  }
  String lockD=(String)startSettings.get(C_START_LOCKDIALOG);
  if (lockD != null && "on".equals(lockD)) {
    xmlTemplateDocument.setData(C_LOCKDIALOG,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_LOCKDIALOG," ");
  }
  if ((flags & C_PERMISSION_WRITE) > 0) {
    xmlTemplateDocument.setData(C_CHECKUW,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKUW," ");
  }
  if ((flags & C_PERMISSION_VIEW) > 0) {
    xmlTemplateDocument.setData(C_CHECKUV,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKUV," ");
  }
  if ((flags & C_ACCESS_GROUP_READ) > 0) {
    xmlTemplateDocument.setData(C_CHECKGR,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKGR," ");
  }
  if ((flags & C_ACCESS_GROUP_WRITE) > 0) {
    xmlTemplateDocument.setData(C_CHECKGW,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKGW," ");
  }
  if ((flags & C_ACCESS_GROUP_VISIBLE) > 0) {
    xmlTemplateDocument.setData(C_CHECKGV,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKGV," ");
  }
  if ((flags & C_ACCESS_PUBLIC_READ) > 0) {
    xmlTemplateDocument.setData(C_CHECKPR,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKPR," ");
  }
  if ((flags & C_ACCESS_PUBLIC_WRITE) > 0) {
    xmlTemplateDocument.setData(C_CHECKPW,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKPW," ");
  }
  if ((flags & C_ACCESS_PUBLIC_VISIBLE) > 0) {
    xmlTemplateDocument.setData(C_CHECKPV,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKPV," ");
  }
  if ((flags & C_ACCESS_INTERNAL_READ) > 0) {
    xmlTemplateDocument.setData(C_CHECKIF,C_CHECKED);
  }
 else {
    xmlTemplateDocument.setData(C_CHECKIF," ");
  }
}
