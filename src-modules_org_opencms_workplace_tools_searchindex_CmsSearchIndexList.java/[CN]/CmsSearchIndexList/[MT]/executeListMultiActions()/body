{
  CmsSearchManager searchManager=OpenCms.getSearchManager();
  if (getParamListAction().equals(LIST_MACTION_DELETE)) {
    List removedItems=new ArrayList();
    Iterator itItems=getSelectedItems().iterator();
    while (itItems.hasNext()) {
      CmsListItem listItem=(CmsListItem)itItems.next();
      searchManager.removeSearchIndex(searchManager.getIndex((String)listItem.get(LIST_COLUMN_NAME)));
      removedItems.add(listItem.getId());
      getList().removeItem(listItem.getId(),getLocale());
    }
    writeConfiguration(false);
  }
 else   if (getParamListAction().equals(LIST_MACTION_REBUILD)) {
    StringBuffer items=new StringBuffer();
    Iterator itItems=getSelectedItems().iterator();
    while (itItems.hasNext()) {
      CmsListItem listItem=(CmsListItem)itItems.next();
      items.append(listItem.getId());
      if (itItems.hasNext()) {
        items.append(',');
      }
    }
    Map params=new HashMap();
    params.put(CmsRebuildReport.PARAM_INDEXES,items.toString());
    params.put(PARAM_ACTION,DIALOG_INITIAL);
    params.put(PARAM_STYLE,CmsToolDialog.STYLE_NEW);
    getToolManager().jspForwardTool(this,"/searchindex/singleindex/rebuildreport",params);
  }
  listSave();
}
