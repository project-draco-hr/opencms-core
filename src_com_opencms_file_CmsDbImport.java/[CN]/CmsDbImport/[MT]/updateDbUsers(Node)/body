{
  NodeList parentElements=parentNode.getChildNodes();
  Hashtable h_addInfo=new Hashtable();
  int nll=parentElements.getLength();
  int i, htype;
  for (i=0; i < nll; i++) {
    if ((parentElements.item(i).getNodeName()).equals(C_TULOGIN) && (parentElements.item(i).hasChildNodes())) {
      s_uLogin=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUPASSWD) && (parentElements.item(i).hasChildNodes())) {
      s_uPasswd=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUNAME) && (parentElements.item(i).hasChildNodes())) {
      s_uName=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUFIRSTNAME) && (parentElements.item(i).hasChildNodes())) {
      s_uFirstname=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUDESC) && (parentElements.item(i).hasChildNodes())) {
      s_uDesc=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUEMAIL) && (parentElements.item(i).hasChildNodes())) {
      s_uEmail=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUDGROUP) && (parentElements.item(i).hasChildNodes())) {
      s_uDGroup=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUDISABLED) && (parentElements.item(i).hasChildNodes())) {
      s_uDis=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUFLAG) && (parentElements.item(i).hasChildNodes())) {
      s_uFlag=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUNAME) && (parentElements.item(i).hasChildNodes())) {
      s_uName=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUFIRSTNAME) && (parentElements.item(i).hasChildNodes())) {
      s_uFirstname=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUEMAIL) && (parentElements.item(i).hasChildNodes())) {
      s_uEmail=parentElements.item(i).getFirstChild().getNodeValue();
    }
    if ((parentElements.item(i).getNodeName()).equals(C_TUADDINFO) && (parentElements.item(i).hasChildNodes())) {
      NodeList childElements=parentElements.item(i).getChildNodes();
      int cnll=childElements.getLength();
      int j=0;
      String key=null;
      for (j=0; j < cnll; j++) {
        if ((childElements.item(j).getNodeName()).equals(C_TUINFOKEY) && (childElements.item(j).hasChildNodes())) {
          key=childElements.item(j).getFirstChild().getNodeValue();
        }
        if ((childElements.item(j).getNodeName()).equals(C_TUINFOVALUE) && (childElements.item(j).hasChildNodes())) {
          String value=childElements.item(j).getFirstChild().getNodeValue();
          h_addInfo.put(key,value);
        }
      }
    }
  }
  try {
    A_CmsUser newUser=RB.addUser(user,project,s_uLogin,s_uPasswd,s_uDGroup,s_uDesc,h_addInfo,Integer.parseInt(s_uFlag));
    newUser.setEmail(s_uEmail);
    newUser.setFirstname(s_uFirstname);
    newUser.setLastname(s_uName);
    RB.writeUser(user,project,newUser);
  }
 catch (  CmsException e) {
    errMsg.addElement(e.getMessage());
  }
  for (i=0; i < nll; i++) {
    if ((parentElements.item(i).getNodeName()).equals(C_TUSERGROUPS) && (parentElements.item(i).hasChildNodes())) {
      NodeList childElements=parentElements.item(i).getChildNodes();
      int cnll=childElements.getLength();
      int j=0;
      for (j=0; j < cnll; j++) {
        if ((childElements.item(j).getNodeName()).equals(C_TUGROUP) && (childElements.item(j).hasChildNodes())) {
          try {
            s_uGroup=(childElements.item(j).getFirstChild().getNodeValue());
            RB.addUserToGroup(user,project,s_uLogin,s_uGroup);
          }
 catch (          CmsException e) {
            errMsg.addElement(e.getMessage());
          }
        }
      }
    }
  }
}
