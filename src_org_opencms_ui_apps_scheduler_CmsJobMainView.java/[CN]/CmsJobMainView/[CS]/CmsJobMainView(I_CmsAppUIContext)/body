{
  m_appContext=context;
  CmsVaadinUtils.readAndLocalizeDesign(this,CmsVaadinUtils.getWpMessagesForCurrentLocale(),null);
  m_jobTable.setJobEditHandler(this);
  m_buttonAddJob.addStyleName(ValoTheme.BUTTON_ICON_ALIGN_TOP);
  m_buttonAddJob.addStyleName(ValoTheme.BUTTON_BORDERLESS);
  m_buttonAddJob.setIcon(CmsVaadinUtils.getWorkplaceResource("tools/scheduler/icons/big/scheduler_new.png"));
  m_buttonAddJob.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      CmsScheduledJobInfo jobInfo=new CmsScheduledJobInfo();
      jobInfo.setContextInfo(new CmsContextInfo());
      editJob(jobInfo,"Create new job",new FutureCallback<CmsScheduledJobInfo>(){
        public void onFailure(        Throwable t){
        }
        public void onSuccess(        CmsScheduledJobInfo result){
          try {
            OpenCms.getScheduleManager().scheduleJob(A_CmsUI.getCmsObject(),result);
            OpenCms.writeConfiguration(CmsSystemConfiguration.class);
            m_jobTable.reloadJobs();
          }
 catch (          CmsException e) {
            CmsErrorDialog.showErrorDialog(e);
          }
        }
      }
);
    }
  }
);
}
