{
  super(handler.getDialogTitle());
  m_controller=handler.getController();
  m_propertyConfig=removeHiddenProperties(m_controller.getData().getProperties());
  m_handler=handler;
  setFormHandler(new I_CmsFormHandler(){
    /** 
 * @see org.opencms.gwt.client.ui.input.form.I_CmsFormHandler#onSubmitForm(java.util.Map,java.util.Set)
 */
    public void onSubmitForm(    Map<String,String> fieldValues,    Set<String> editedFields){
      Map<String,CmsSimplePropertyValue> simpleProps;
      final String titleValue=getAndRemoveValue(fieldValues,FIELD_TITLE);
      if (!m_handler.hasEditableName()) {
        hide();
        simpleProps=convertProperties(fieldValues);
        m_handler.handleSubmit(titleValue,"",null,simpleProps,editedFields.contains("field_urlname"));
        return;
      }
      final String urlNameValue=getAndRemoveValue(fieldValues,FIELD_URLNAME);
      fieldValues.remove(FIELD_LINK);
      final CmsLinkBean link=m_linkSelector.getLinkBean();
      CmsClientSitemapEntry.setRedirect(fieldValues,link);
      simpleProps=convertProperties(fieldValues);
      m_handler.handleSubmit(titleValue,urlNameValue,null,simpleProps,editedFields.contains(FIELD_URLNAME));
    }
  }
);
}
