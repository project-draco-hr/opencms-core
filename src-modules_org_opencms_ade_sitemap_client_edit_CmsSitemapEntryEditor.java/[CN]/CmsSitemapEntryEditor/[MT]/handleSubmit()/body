{
  final Map<String,String> fieldValues=getForm().collectValues();
  final String titleValue=getAndRemoveValue(fieldValues,FIELD_TITLE);
  CmsPair<String,String> templateProps=getTemplateProperties(fieldValues);
  fieldValues.put(CmsSitemapManager.Property.template.toString(),templateProps.getFirst());
  fieldValues.put(CmsSitemapManager.Property.templateInherited.toString(),templateProps.getSecond());
  if (m_entry.isRoot()) {
    hide();
    m_modeHandler.handleSubmit(titleValue,null,null,fieldValues);
    return;
  }
  final String urlNameValue=getAndRemoveValue(fieldValues,FIELD_URLNAME);
  validateUrlName(urlNameValue,new AsyncCallback<String>(){
    /** 
 * @see com.google.gwt.user.client.rpc.AsyncCallback#onFailure(java.lang.Throwable)
 */
    public void onFailure(    Throwable caught){
    }
    /** 
 * @see com.google.gwt.user.client.rpc.AsyncCallback#onSuccess(java.lang.Object) 
 */
    public void onSuccess(    String newUrlName){
      hide();
      m_modeHandler.handleSubmit(titleValue,newUrlName,null,fieldValues);
    }
  }
);
}
