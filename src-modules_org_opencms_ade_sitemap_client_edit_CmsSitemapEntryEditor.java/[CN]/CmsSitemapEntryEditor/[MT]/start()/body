{
  CmsForm form=m_dialog.getForm();
  form.addLabel(m_handler.getDescriptionText(),false);
  if (m_handler.isSimpleMode()) {
    form.setWidget(new CmsSimpleFormFieldPanel());
  }
 else {
    CmsTabbedFormFieldPanel tabs=new CmsTabbedFormFieldPanel();
    tabs.addTab(TAB_1,Messages.get().key(GUI_PROPERTY_TAB_SIMPLE_0));
    tabs.addTab(TAB_2,Messages.get().key(GUI_PROPERTY_TAB_STRUCTURE_0));
    boolean isLeaf=m_handler.getEntry().isLeafType() && !m_handler.getEntry().isFolderType();
    if (isLeaf) {
      tabs.addTab(TAB_3,Messages.get().key(GUI_PROPERTY_TAB_RESOURCE_0));
    }
    form.setWidget(tabs);
  }
  if (m_handler.hasEditableName()) {
    CmsBasicFormField urlNameField=createUrlNameField();
    form.addField(TAB_1,urlNameField);
  }
  CmsClientSitemapEntry entry=m_handler.getEntry();
  boolean isRedirect=false;
  if (isRedirect) {
    CmsBasicFormField linkField=createLinkField();
    form.addField(TAB_1,linkField);
  }
  A_CmsPropertyFormBuilder builder=createFormBuilder();
  builder.setWidgetFactory(this);
  builder.setForm(form);
  CmsSitemapData data=CmsSitemapView.getInstance().getController().getData();
  builder.setPropertyDefinitions(m_propertyConfig);
  builder.setAllPropertyNames(data.getAllPropertyNames());
  builder.buildFields(entry);
  form.setValidatorClass("org.opencms.gwt.CmsDefaultFormValidator");
  m_dialog.center();
}
