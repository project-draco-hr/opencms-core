{
  String galleryPath=getParamResource();
  String galleryType=null;
  try {
    CmsResource res=getCms().readResource(galleryPath);
    if (res != null) {
      if (!galleryPath.endsWith("/")) {
        galleryPath+="/";
      }
      galleryType=OpenCms.getResourceManager().getResourceType(res.getTypeId()).getTypeName();
      Map<String,Object> params=new HashMap<String,Object>();
      params.put(I_CmsGalleryProviderConstants.ReqParam.dialogmode.name(),GalleryMode.view.name());
      params.put(I_CmsGalleryProviderConstants.ReqParam.gallerypath.name(),galleryPath);
      params.put(I_CmsGalleryProviderConstants.ReqParam.types.name(),"");
      sendForward(I_CmsGalleryProviderConstants.VFS_OPEN_GALLERY_PATH,CmsRequestUtil.createParameterMap(params));
    }
  }
 catch (  Exception e) {
    CmsMessageContainer message=Messages.get().container(Messages.ERR_OPEN_GALLERY_1,galleryType);
    LOG.error(message.key(),e);
    throw new CmsRuntimeException(message,e);
  }
}
