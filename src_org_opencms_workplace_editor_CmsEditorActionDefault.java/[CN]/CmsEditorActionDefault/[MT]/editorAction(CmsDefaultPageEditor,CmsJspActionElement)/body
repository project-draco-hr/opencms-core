{
  editor.actionSave();
  editor.actionClear(true);
  String publishLink=jsp.link(I_CmsWpConstants.C_VFS_PATH_WORKPLACE + "jsp/dialogs/publishresource.html");
  String params="?resource=" + editor.getParamResource() + "&action="+ CmsDialog.DIALOG_CONFIRMED;
  params+="&reporttype=simple&directpublish=true&publishsiblings=true";
  params+="&title=" + Encoder.escapeWBlanks(editor.key("messagebox.title.publishresource") + ": " + editor.getParamResource(),Encoder.C_UTF8_ENCODING) + "&okfunctions=";
  if ("true".equals(editor.getParamDirectedit())) {
    String linkTarget;
    if (!"".equals(editor.getParamBacklink())) {
      linkTarget=jsp.link(editor.getParamBacklink());
    }
 else {
      linkTarget=jsp.link(editor.getParamResource());
    }
    publishLink+=params + Encoder.escapeWBlanks("location.href('" + linkTarget + "');",Encoder.C_UTF8_ENCODING);
  }
 else {
    publishLink+=params + Encoder.escapeWBlanks("location.href('" + jsp.link(CmsWorkplaceAction.C_JSP_WORKPLACE_URI) + "');",Encoder.C_UTF8_ENCODING);
  }
  jsp.getResponse().sendRedirect(publishLink);
}
