{
  editor.actionSave();
  editor.actionClear(true);
  String publishLink=jsp.link(I_CmsWpConstants.C_VFS_PATH_WORKPLACE + "jsp/dialogs/publishresource.html");
  String params="?resource=" + editor.getParamResource() + "&action="+ CmsDialog.DIALOG_CONFIRMED;
  params+="&reporttype=simple&directpublish=true&publishsiblings=true";
  params+="&title=" + CmsEncoder.escapeWBlanks(editor.key("messagebox.title.publishresource") + ": " + editor.getParamResource(),CmsEncoder.C_UTF8_ENCODING) + "&closelink=";
  if ("true".equals(editor.getParamDirectedit())) {
    String linkTarget;
    if (!"".equals(editor.getParamBacklink())) {
      linkTarget=jsp.link(editor.getParamBacklink());
    }
 else {
      linkTarget=jsp.link(editor.getParamResource());
    }
    publishLink+=params + CmsEncoder.escapeWBlanks(linkTarget,CmsEncoder.C_UTF8_ENCODING);
  }
 else {
    publishLink+=params + CmsEncoder.escapeWBlanks(jsp.link(CmsWorkplaceAction.C_JSP_WORKPLACE_URI),CmsEncoder.C_UTF8_ENCODING);
  }
  jsp.getResponse().sendRedirect(publishLink);
}
