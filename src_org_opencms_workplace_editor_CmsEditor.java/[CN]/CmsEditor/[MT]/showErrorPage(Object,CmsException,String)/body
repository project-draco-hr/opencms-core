{
  getJsp().getRequest().setAttribute(C_SESSION_WORKPLACE_CLASS,theClass);
  setAction(ACTION_SHOW_ERRORMESSAGE);
  setParamErrorstack(cmsException.getStackTraceAsString());
  setParamTitle(key("error.title.editor" + keySuffix));
  setParamMessage(key("error.message.editor" + keySuffix));
  String reasonSuggestion=key("error.reason.editor" + keySuffix) + "<br>\n" + key("error.suggestion.editor" + keySuffix)+ "\n";
  setParamReasonSuggestion(reasonSuggestion);
  String errorMessage="Error while trying to " + keySuffix + " file "+ getParamResource()+ ": "+ cmsException;
  if (OpenCms.getLog(theClass).isErrorEnabled()) {
    OpenCms.getLog(theClass).error(errorMessage,cmsException);
  }
  getJsp().include(C_FILE_DIALOG_SCREEN_ERROR);
}
