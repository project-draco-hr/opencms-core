{
  switchToTempProject();
  CmsFile tempFile=null;
  Map properties=null;
  try {
    tempFile=getCms().readFile(getParamTempfile());
    properties=getCms().readProperties(getParamTempfile());
  }
  finally {
    switchToCurrentProject();
  }
  CmsFile orgFile=getCms().readFile(getParamResource());
  orgFile.setContents(tempFile.getContents());
  getCms().writeFile(orgFile);
  Iterator keys=properties.keySet().iterator();
  while (keys.hasNext()) {
    String keyName=(String)keys.next();
    getCms().writeProperty(getParamResource(),keyName,(String)properties.get(keyName));
  }
}
