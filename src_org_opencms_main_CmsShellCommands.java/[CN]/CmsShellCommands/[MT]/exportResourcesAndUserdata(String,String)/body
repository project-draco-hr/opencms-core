{
  StringTokenizer tok=new StringTokenizer(pathList,";");
  Vector paths=new Vector();
  while (tok.hasMoreTokens()) {
    paths.addElement(tok.nextToken());
  }
  String exportPaths[]=new String[paths.size()];
  for (int i=0; i < paths.size(); i++) {
    exportPaths[i]=(String)paths.elementAt(i);
  }
  boolean excludeSystem=true;
  if (pathList.startsWith(I_CmsWpConstants.C_VFS_PATH_SYSTEM) || (pathList.indexOf(";" + I_CmsWpConstants.C_VFS_PATH_SYSTEM) > -1)) {
    excludeSystem=false;
  }
  CmsVfsImportExportHandler vfsExportHandler=new CmsVfsImportExportHandler();
  vfsExportHandler.setFileName(exportFile);
  vfsExportHandler.setExportPaths(exportPaths);
  vfsExportHandler.setExcludeSystem(excludeSystem);
  vfsExportHandler.setExcludeUnchanged(false);
  vfsExportHandler.setExportUserdata(true);
  OpenCms.getImportExportManager().exportData(m_cms,vfsExportHandler,new CmsShellReport());
}
