{
  String exportPath=null;
  try {
    exportPath=m_cms.readPackagePath();
  }
 catch (  CmsException e) {
    printException(e);
    return;
  }
  String fileName=OpenCms.getSystemInfo().getAbsolutePathRelativeToWebInf(exportPath + CmsRegistry.C_MODULE_PATH + importFile);
  System.out.println("Importing module: " + fileName);
  try {
    CmsProject project=m_cms.createProject("ModuleImport","A temporary project to import the module " + importFile,OpenCms.getDefaultUsers().getGroupAdministrators(),OpenCms.getDefaultUsers().getGroupAdministrators(),I_CmsConstants.C_PROJECT_TYPE_TEMPORARY);
    int id=project.getId();
    m_cms.getRequestContext().setCurrentProject(id);
    m_cms.getRequestContext().saveSiteRoot();
    m_cms.getRequestContext().setSiteRoot("/");
    m_cms.copyResourceToProject("/");
    m_cms.getRequestContext().restoreSiteRoot();
    CmsRegistry reg=m_cms.getRegistry();
    reg.importModule(fileName,new Vector(),new CmsShellReport());
    m_cms.unlockProject(id);
    m_cms.publishProject();
  }
 catch (  Exception exc) {
    printException(exc);
  }
}
