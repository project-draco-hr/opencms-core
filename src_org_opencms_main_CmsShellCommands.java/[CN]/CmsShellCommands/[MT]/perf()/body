{
  final int MAX_TESTS=10000;
  try {
    I_CmsVfsDriver vfsDriver=m_driverManager.getVfsDriver();
    Random random=new Random();
    int projectId=m_cms.getRequestContext().currentProject().getId();
    List testResources=vfsDriver.readResources(projectId,0,System.currentTimeMillis());
    int numResources=testResources.size();
    System.out.println("#Resources:\t" + numResources);
    long totalTime=0, minTime=0, maxTime=0, t, tt;
    totalTime=0;
    minTime=0;
    maxTime=0;
    System.out.print("readFileHeader:\t");
    for (int i=MAX_TESTS; i > 0; --i) {
      int index=random.nextInt(numResources);
      CmsResource res=(CmsResource)testResources.get(index);
      t=System.currentTimeMillis();
      vfsDriver.readFileHeader(projectId,res.getParentStructureId(),res.getName(),true);
      tt=System.currentTimeMillis() - t;
      totalTime+=tt;
      minTime=(minTime == 0 | minTime > tt) ? tt : minTime;
      maxTime=(maxTime == 0 | maxTime < tt) ? tt : maxTime;
      if ((i % 100) == 0)       System.out.print(".");
    }
    System.out.println("\rreadFileHeader:\t" + minTime + "\t"+ maxTime+ "\t"+ (((float)totalTime) / MAX_TESTS)+ " ms");
  }
 catch (  Exception exc) {
    CmsShell.printException(exc);
  }
}
