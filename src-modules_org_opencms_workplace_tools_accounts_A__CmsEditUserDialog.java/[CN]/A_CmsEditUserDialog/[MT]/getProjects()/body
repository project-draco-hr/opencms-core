{
  List projects=new ArrayList();
  try {
    System.out.println("###########################################");
    String defProject=null;
    if ((m_user != null) && CmsStringUtil.isNotEmptyOrWhitespaceOnly(m_user.getName())) {
      defProject=new CmsUserSettings(m_user).getStartProject();
      System.out.println("Usersetting : " + defProject);
    }
    if (defProject == null) {
      defProject=getParamOufqn() + OpenCms.getWorkplaceManager().getDefaultUserSettings().getStartProject();
      System.out.println("Default Usersetting : " + defProject);
    }
    if (defProject == null) {
      defProject=getCms().getRequestContext().getCurrentProject().getName();
      System.out.println("Current-Project: " + defProject);
    }
    System.out.println("Default-Project: " + defProject);
    List projectsList;
    projectsList=OpenCms.getOrgUnitManager().getAllAccessibleProjects(getCms(),getParamOufqn(),false);
    Iterator itProjects=projectsList.iterator();
    while (itProjects.hasNext()) {
      boolean selected=false;
      CmsProject project=(CmsProject)itProjects.next();
      System.out.println("Project SimpleName: " + project.getSimpleName());
      System.out.println("Project Name: " + project.getName());
      System.out.println(project.getName() + "=" + defProject);
      String projectName=project.getName();
      if (projectName.equals(defProject)) {
        selected=true;
      }
      if (isNewUser()) {
        projects.add(new CmsSelectWidgetOption(project.getSimpleName(),selected,project.getSimpleName(),null));
      }
 else {
        projects.add(new CmsSelectWidgetOption(project.getName(),selected,project.getSimpleName(),null));
      }
      System.out.println("Project selected: " + selected);
    }
  }
 catch (  CmsException e) {
    if (LOG.isErrorEnabled()) {
      LOG.error(e.getLocalizedMessage(),e);
    }
  }
  return projects;
}
