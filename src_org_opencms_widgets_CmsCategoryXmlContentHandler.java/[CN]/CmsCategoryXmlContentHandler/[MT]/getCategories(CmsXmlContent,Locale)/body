{
  List categories=new ArrayList();
  CmsXmlContentWidgetVisitor widgetCollector=new CmsXmlContentWidgetVisitor(locale);
  content.visitAllValuesWith(widgetCollector);
  Iterator itWidgets=widgetCollector.getValues().entrySet().iterator();
  while (itWidgets.hasNext()) {
    Map.Entry entry=(Map.Entry)itWidgets.next();
    String xpath=(String)entry.getKey();
    I_CmsWidget widget=(I_CmsWidget)widgetCollector.getWidgets().get(xpath);
    if (widget instanceof CmsCategoryWidget) {
      categories.add(entry.getValue());
    }
  }
  return categories;
}
