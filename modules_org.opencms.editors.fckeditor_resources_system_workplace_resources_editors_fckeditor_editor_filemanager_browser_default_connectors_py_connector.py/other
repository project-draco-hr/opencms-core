'\nFCKeditor - The text editor for internet\nCopyright (C) 2003-2006 Frederico Caldeira Knabben\n\nLicensed under the terms of the GNU Lesser General Public License:\n\t\thttp://www.opensource.org/licenses/lgpl-license.php\n\nFor further information visit:\n\t\thttp://www.fckeditor.net/\n\n"Support Open Source software. What about a donation today?"\n\nFile Name: connector.py\n\tConnector for Python.\n\t\n\tTested With:\n\tStandard:\n\t\tPython 2.3.3\n\tZope:\n\t\tZope Version: (Zope 2.8.1-final, python 2.3.5, linux2)\n\t\tPython Version: 2.3.5 (#4, Mar 10 2005, 01:40:25) \n\t\t\t[GCC 3.3.3 20040412 (Red Hat Linux 3.3.3-7)]\n\t\tSystem Platform: linux2 \n\nFile Authors:\n\t\tAndrew Liu (andrew@liuholdings.com)\n'
"\nAuthor Notes (04 December 2005):\nThis module has gone through quite a few phases of change.  Obviously,\nI am only supporting that part of the code that I use.  Initially\nI had the upload directory as a part of zope (ie. uploading files\ndirectly into Zope), before realising that there were too many \ncomplex intricacies within Zope to deal with.  Zope is one ugly piece\nof code.  So I decided to complement Zope by an Apache server (which\nI had running anyway, and doing nothing).  So I mapped all uploads\nfrom an arbitrary server directory to an arbitrary web directory.\nAll the FCKeditor uploading occurred this way, and I didn't have to\nstuff around with fiddling with Zope objects and the like (which are\nterribly complex and something you don't want to do - trust me).\n\nMaybe a Zope expert can touch up the Zope components.  In the end, \nI had FCKeditor loaded in Zope (probably a bad idea as well), and\nI replaced the connector.py with an alias to a server module.\nRight now, all Zope components will simple remain as is because\nI've had enough of Zope.\n\nSee notes right at the end of this file for how I aliased out of Zope.\n\nAnyway, most of you probably wont use Zope, so things are pretty\nsimple in that regard.\n\nTypically, SERVER_DIR is the root of WEB_DIR (not necessarily).\nMost definitely, SERVER_USERFILES_DIR points to WEB_USERFILES_DIR.\n"
import cgi
import re
import os
import string
"\nescape\n\nConverts the special characters '<', '>', and '&'.\n\nRFC 1866 specifies that these characters be represented\nin HTML as &lt; &gt; and &amp; respectively. In Python\n1.5 we use the new string.replace() function for speed.\n"
'\ngetFCKeditorConnector\n\nCreates a new instance of an FCKeditorConnector, and runs it\n'
'\nFCKeditorRequest\n\nA wrapper around the request object\nCan handle normal CGI request, or a Zope request\nExtend as required\n'
'\nFCKeditorConnector\n\nThe connector class\n'
if (__name__ == '__main__'):
    print getFCKeditorConnector()
'\nRunning from zope, you will need to modify this connector. \nIf you have uploaded the FCKeditor into Zope (like me), you need to \nmove this connector out of Zope, and replace the "connector" with an\nalias as below.  The key to it is to pass the Zope context in, as\nwe then have a like to the Zope context.\n\n## Script (Python) "connector.py"\n##bind container=container\n##bind context=context\n##bind namespace=\n##bind script=script\n##bind subpath=traverse_subpath\n##parameters=*args, **kws\n##title=ALIAS\n##\nimport Products.connector as connector\nreturn connector.getFCKeditorConnector(context=context).run()\n'
