{
  try {
    this.shellCommands=new CmsShellCommands(m_openCms,m_cms);
    LineNumberReader lnr=new LineNumberReader(new InputStreamReader(fis));
    while (!m_exitCalled) {
      printPrompt();
      StringReader reader=new StringReader(lnr.readLine());
      StreamTokenizer st=new StreamTokenizer(reader);
      st.eolIsSignificant(true);
      Vector args=new Vector();
      while (st.nextToken() != st.TT_EOF) {
        if (st.ttype == st.TT_NUMBER) {
          args.addElement(new Double(st.nval).intValue() + "");
        }
 else {
          args.addElement(st.sval);
        }
      }
      reader.close();
      call(args);
    }
  }
 catch (  Exception exc) {
    printException(exc);
  }
}
