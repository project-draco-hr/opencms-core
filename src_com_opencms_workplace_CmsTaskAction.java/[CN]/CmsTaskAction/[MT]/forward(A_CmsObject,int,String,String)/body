{
  CmsXmlLanguageFile lang=new CmsXmlLanguageFile(cms);
  A_CmsUser newEditor=cms.readUser(newEditorName);
  A_CmsGroup oldRole=cms.readGroup(newRoleName);
  cms.forwardTask(taskid,oldRole.getName(),newEditor.getName());
  String comment=lang.getLanguageValue("task.dialog.forward.logmessage");
  comment+=" " + Utils.getFullName(newEditor);
  cms.writeTaskLog(taskid,comment,C_TASKLOGTYPE_FORWARDED);
  A_CmsTask task=cms.readTask(taskid);
  if (cms.getTaskPar(task.getId(),C_TASKPARA_DELIVERY) != null) {
    String content=lang.getLanguageValue("task.email.forward.content");
    String subject=lang.getLanguageValue("task.email.forward.subject");
    if (cms.getTaskPar(task.getId(),C_TASKPARA_ALL) != null) {
      CmsMail mail=new CmsMail(cms,cms.getRequestContext().currentUser(),cms.readGroup(task),subject,content);
      mail.start();
    }
 else {
      A_CmsUser[] user={cms.readAgent(task)};
      CmsMail mail1=new CmsMail(cms,cms.getRequestContext().currentUser(),user,subject,content);
      mail1.start();
      A_CmsUser[] owner={cms.readOwner(task)};
      CmsMail mail2=new CmsMail(cms,cms.getRequestContext().currentUser(),owner,subject,content);
      mail2.start();
    }
  }
}
