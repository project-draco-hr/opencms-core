{
  cms.endTask(taskid);
  String comment="";
  cms.writeTaskLog(taskid,comment,C_TASKLOGTYPE_OK);
  CmsXmlLanguageFile lang=new CmsXmlLanguageFile(cms);
  A_CmsTask task=cms.readTask(taskid);
  if (cms.getTaskPar(task.getId(),C_TASKPARA_COMPLETION) != null) {
    String content=lang.getLanguageValue("task.email.end.content");
    String subject=lang.getLanguageValue("task.email.end.subject");
    A_CmsUser[] users={cms.readOwner(task)};
    CmsMail mail=new CmsMail(cms,cms.readAgent(task),users,subject,content);
    mail.start();
  }
}
