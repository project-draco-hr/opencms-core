{
  CmsXmlLanguageFile lang=new CmsXmlLanguageFile(cms);
  A_CmsTask task=cms.readTask(taskid);
  String comment=lang.getLanguageValue("task.dialog.message.head") + " ";
  if ((message != null) && (message.length() != 0)) {
    comment+=Utils.getFullName(cms.readAgent(task)) + "\n";
    comment+=message;
    cms.writeTaskLog(taskid,comment,C_TASKLOGTYPE_CALL);
  }
  String content=lang.getLanguageValue("task.email.message.content");
  String subject=lang.getLanguageValue("task.email.message.subject");
  A_CmsUser[] users={cms.readAgent(task)};
  CmsMail mail=new CmsMail(cms,cms.readOwner(task),users,subject,content);
  mail.start();
}
