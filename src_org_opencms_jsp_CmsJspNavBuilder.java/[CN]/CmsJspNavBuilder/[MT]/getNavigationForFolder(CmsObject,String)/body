{
  folder=CmsResource.getFolderPath(folder);
  List result=new ArrayList();
  List resources;
  try {
    resources=cms.getResourcesInFolder(folder,CmsResourceFilter.DEFAULT);
  }
 catch (  Exception e) {
    return Collections.EMPTY_LIST;
  }
  for (int i=0; i < resources.size(); i++) {
    CmsResource r=(CmsResource)resources.get(i);
    CmsJspNavElement element=getNavigationForResource(cms,cms.getSitePath(r));
    if ((element != null) && element.isInNavigation()) {
      result.add(element);
    }
  }
  Collections.sort(result);
  return result;
}
