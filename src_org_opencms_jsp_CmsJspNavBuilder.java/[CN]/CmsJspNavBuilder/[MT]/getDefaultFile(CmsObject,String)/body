{
  if (folder.endsWith("/")) {
    List<String> defaultFolders=new ArrayList<String>();
    try {
      CmsProperty p=cms.readPropertyObject(folder,CmsPropertyDefinition.PROPERTY_DEFAULT_FILE,false);
      if (!p.isNullProperty()) {
        defaultFolders.add(p.getValue());
      }
    }
 catch (    CmsException e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
    defaultFolders.addAll(OpenCms.getDefaultFiles());
    for (    String defaultName : defaultFolders) {
      if (cms.existsResource(folder + defaultName)) {
        return folder + defaultName;
      }
    }
    return folder;
  }
  return null;
}
