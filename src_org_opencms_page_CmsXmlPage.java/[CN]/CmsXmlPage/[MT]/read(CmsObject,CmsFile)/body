{
  byte[] content=file.getContents();
  if (content.length > 0) {
    String encoding;
    try {
      encoding=cms.readProperty(cms.readAbsolutePath(file),I_CmsConstants.C_PROPERTY_CONTENT_ENCODING,false,OpenCms.getDefaultEncoding());
    }
 catch (    CmsException e) {
      encoding=OpenCms.getDefaultEncoding();
    }
    String xmlData;
    try {
      xmlData=new String(content,encoding);
    }
 catch (    UnsupportedEncodingException e) {
      xmlData=new String(content);
    }
    return read(cms,xmlData);
  }
 else {
    return new CmsXmlPage();
  }
}
