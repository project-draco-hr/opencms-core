{
  if (CmsFlexController.isCmsRequest(request)) {
    CmsObject cms=CmsFlexController.getCmsObject(request);
    Locale locale=cms.getRequestContext().getLocale();
    boolean isOnline=cms.getRequestContext().getCurrentProject().isOnlineProject();
    CmsContainerElementBean parentElement=CmsJspStandardContextBean.getInstance(request).getElement();
    try {
      if (formatter != null) {
        CmsContainerElementBean element=new CmsContainerElementBean(elementResource.getStructureId(),formatter.getJspStructureId(),settings,false);
        element.initResource(cms);
        element.initSettings(cms,formatter);
        boolean openedEditable=false;
        if (editable) {
          openedEditable=CmsJspTagEdit.insertDirectEditStart(cms,context,elementResource,canCreate,canDelete,null,creationSiteMap,postCreateHandler);
        }
        CmsJspStandardContextBean.getInstance(request).setElement(element);
        try {
          CmsJspTagInclude.includeTagAction(context,cms.getRequestContext().removeSiteRoot(formatter.getJspRootPath()),null,locale,false,isOnline,null,CmsRequestUtil.getAtrributeMap(request),request,response);
        }
 catch (        JspException e) {
          LOG.error(e.getLocalizedMessage(),e);
        }
        if (openedEditable) {
          CmsJspTagEdit.insertDirectEditEnd(context);
        }
      }
    }
 catch (    CmsException e) {
      LOG.error(e.getLocalizedMessage(),e);
    }
    CmsJspStandardContextBean.getInstance(request).setElement(parentElement);
  }
}
