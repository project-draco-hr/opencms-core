{
  boolean channelReported=false;
  try {
    String channelId=getChannelId(channel).toString();
    Vector resources=readAllByChannel(m_cms,channelId,m_subId);
    for (Iterator i=resources.iterator(); i.hasNext(); ) {
      CmsMasterDataSet ds=(CmsMasterDataSet)i.next();
      if (m_report != null && !channelReported) {
        m_report.print(m_report.key("search.indexing_folder"),I_CmsReport.C_FORMAT_NOTE);
        m_report.println(channel,I_CmsReport.C_FORMAT_DEFAULT);
        channelReported=true;
      }
      if (m_report != null) {
        m_report.print("( " + (m_threadManager.getCounter() + 1) + " )",I_CmsReport.C_FORMAT_NOTE);
        m_report.print(m_report.key("search.indexing_file_begin"),I_CmsReport.C_FORMAT_NOTE);
        if (ds.m_title != null) {
          m_report.print(ds.m_title,I_CmsReport.C_FORMAT_DEFAULT);
        }
        m_report.print(m_report.key("search.dots"),I_CmsReport.C_FORMAT_DEFAULT);
      }
      CmsIndexResource ires=new CmsIndexResource(ds,"path",channel,m_contentDefinition.getClass().getName());
      m_threadManager.createIndexingThread(m_writer,ires,m_index);
    }
  }
 catch (  Exception exc) {
    throw new CmsIndexException("Indexing contents of " + channel + " failed.",exc);
  }
}
