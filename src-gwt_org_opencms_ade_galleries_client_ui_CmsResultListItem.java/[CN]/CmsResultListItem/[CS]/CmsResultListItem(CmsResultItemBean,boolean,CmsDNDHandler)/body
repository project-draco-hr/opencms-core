{
  m_result=resultItem;
  resultItem.addAdditionalInfo(Messages.get().key(Messages.GUI_PREVIEW_LABEL_PATH_0),resultItem.getPath());
  CmsResultItemWidget resultItemWidget=new CmsResultItemWidget(resultItem);
  ImageTile imageTile=resultItemWidget.getImageTile();
  if (imageTile != null) {
    imageTile.setDraggable(this);
    imageTile.addMouseDownHandler(dndHandler);
  }
  resultItemWidget.setUnselectable();
  initContent(resultItemWidget);
  if (dndHandler != null) {
    setId(resultItem.getClientId());
    if (resultItem.getTitle() != null) {
      setName(resultItem.getTitle().toLowerCase().replace("/","-").replace(" ","_"));
    }
 else {
      setName(resultItem.getClientId());
    }
    initMoveHandle(dndHandler);
  }
  if (resultItemWidget.hasTileView()) {
    addStyleName(I_CmsLayoutBundle.INSTANCE.galleryResultItemCss().tilingItem());
  }
  if (hasPreview) {
    m_previewButton=createButton(I_CmsImageBundle.INSTANCE.style().previewIcon(),Messages.get().key(Messages.GUI_PREVIEW_BUTTON_SHOW_0));
    resultItemWidget.addButton(m_previewButton);
  }
  m_selectButton=createButton(I_CmsImageBundle.INSTANCE.style().checkIcon(),Messages.get().key(Messages.GUI_PREVIEW_BUTTON_SELECT_0));
  m_selectButton.setVisible(false);
  resultItemWidget.addButton(m_selectButton);
  resultItemWidget.setIcon(CmsIconUtil.getResourceIconClasses(resultItem.getType(),resultItem.getPath(),false));
  if (!resultItem.isReleasedAndNotExpired()) {
    addStyleName(I_CmsLayoutBundle.INSTANCE.galleryResultItemCss().expired());
  }
}
