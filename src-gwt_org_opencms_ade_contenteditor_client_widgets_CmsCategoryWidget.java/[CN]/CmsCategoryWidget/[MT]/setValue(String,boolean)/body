{
  m_selected.clear();
  if (m_isSingelValue && !value.isEmpty() && !value.replace(m_categoryFolder,"").isEmpty()) {
    value=value.replace(",","");
    String parentValue=value.replace(m_categoryFolder,"");
    parentValue=parentValue.substring(0,parentValue.indexOf("/") + 1);
    value+="," + m_categoryFolder + parentValue;
  }
  String shortvalue=value.replaceAll(m_categoryFolder,"");
  m_selectedValue=shortvalue;
  String[] selected=shortvalue.split(",");
  m_selectedArray=selected;
  ArrayList<String> test=new ArrayList<String>();
  for (int i=0; i < selected.length; i++) {
    m_selected.add(selected[i].replace(m_categoryFolder,""));
    test.add(selected[i].replace(m_categoryFolder,""));
  }
  if (!selected[0].isEmpty()) {
    m_results=new ArrayList<CmsCategoryTreeEntry>();
    parseValues(test.toArray(new String[0]),null,1);
    m_categoryField.buildCategoryTree(m_results,m_selected);
  }
 else {
    m_results=new ArrayList<CmsCategoryTreeEntry>();
    m_categoryField.buildCategoryTree(m_results,m_selected);
  }
  if (fireEvents) {
    fireChangeEvent();
  }
  if (!selected[0].isEmpty()) {
    int elementheight=(selected.length * 24) + 2;
    if (elementheight < DEFAULT_HEIGHT) {
      m_height=elementheight;
    }
 else {
      m_height=DEFAULT_HEIGHT;
    }
  }
  m_categoryField.setHeight(m_height);
}
