{
  String singelValue="";
  m_selected.clear();
  if (m_isSingelValue && !value.isEmpty()) {
    Iterator<String> it=m_categoryList.iterator();
    while (it.hasNext()) {
      String catRootPath=it.next();
      if (value.contains(catRootPath)) {
        m_categoryFolder=catRootPath;
      }
    }
    value=value.replace(",","");
    String childValue=value.replace(m_categoryFolder,"");
    singelValue=childValue;
    String helpValue=childValue.substring(0,childValue.lastIndexOf("/"));
    while (helpValue.indexOf("/") != -1) {
      helpValue=helpValue.substring(0,helpValue.lastIndexOf("/") + 1);
      value+="," + m_categoryFolder + helpValue;
      helpValue=helpValue.substring(0,helpValue.lastIndexOf("/"));
    }
  }
  String shortvalue=value.replaceAll(m_categoryFolder,"");
  m_selectedValue=shortvalue;
  String[] selected=shortvalue.split(",");
  m_selectedArray=selected;
  ArrayList<String> test=new ArrayList<String>();
  for (int i=0; i < selected.length; i++) {
    m_selected.add(selected[i].replace(m_categoryFolder,""));
    test.add(selected[i].replace(m_categoryFolder,""));
  }
  if (!selected[0].isEmpty()) {
    m_results=new ArrayList<CmsCategoryTreeEntry>();
    parseValues(test.toArray(new String[0]),null,1);
    m_categoryField.buildCategoryTree(m_results,m_selected);
  }
 else {
    m_results=new ArrayList<CmsCategoryTreeEntry>();
    m_categoryField.buildCategoryTree(m_results,m_selected);
  }
  if (fireEvents) {
    fireChangeEvent();
  }
  if (m_isSingelValue) {
    m_selected.clear();
    m_selected.add(singelValue);
  }
  if (!selected[0].isEmpty()) {
    int elementheight=(selected.length * 24) + 2;
    m_height=elementheight;
    if (m_height > MAX_HEIGHT) {
      m_height=MAX_HEIGHT;
      m_categoryField.getScrollPanel().setResizable(true);
    }
  }
 else {
    m_height=24;
  }
  m_categoryField.setHeight(m_height);
}
