{
  int param=0;
  SortParams sort=SortParams.valueOf(m_event.getValue());
switch (sort) {
case path_asc:
case path_desc:
    param=1;
  break;
case title_asc:
case title_desc:
param=0;
break;
default :
break;
}
List<CmsDataValue> result=new ArrayList<CmsDataValue>();
if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(filter)) {
result=new ArrayList<CmsDataValue>();
for (CmsDataValue category : m_categories.values()) {
if (category.matchesFilter(filter,param)) {
result.add(category);
}
}
}
 else {
Iterator<CmsDataValue> it=m_categories.values().iterator();
while (it.hasNext()) {
result.add(it.next());
}
}
return result;
}
