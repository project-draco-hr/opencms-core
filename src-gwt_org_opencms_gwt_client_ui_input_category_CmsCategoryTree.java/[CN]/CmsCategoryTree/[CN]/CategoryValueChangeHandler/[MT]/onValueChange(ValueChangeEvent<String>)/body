{
  cancelQuickFilterTimer();
  if (event.getSource() == m_sortSelectBox) {
    List<CmsDataValue> categories=new ArrayList<CmsDataValue>();
    Iterator<CmsDataValue> it=m_categories.values().iterator();
    while (it.hasNext()) {
      categories.add(it.next());
    }
    m_event=event;
    SortParams sort=SortParams.valueOf(event.getValue());
switch (sort) {
case tree:
      m_listView=false;
    m_quickSearch.setFormValueAsString("");
  updateContentTree(m_resultList,m_selectedCategories);
break;
default :
m_listView=true;
categories=getFilteredCategories(hasQuickFilter() ? m_quickSearch.getFormValueAsString() : null);
Collections.sort(categories,new CmsCategoryComperator(event.getValue()));
updateContentList(categories,m_selectedCategories);
break;
}
}
if ((event.getSource() == m_quickSearch)) {
if (!m_listView) {
m_listView=true;
m_sortSelectBox.setFormValueAsString(SortParams.title_asc.name());
}
if (hasQuickFilter()) {
if ((CmsStringUtil.isEmptyOrWhitespaceOnly(event.getValue()) || (event.getValue().length() >= 2))) {
scheduleQuickFilterTimer();
}
}
 else {
checkQuickSearchStatus();
}
}
}
