{
  Locale locale=getRequestContext().getLocale();
  String params=m_content.getStringValue(getCmsObject(),NODE_PARAMETER,locale);
  List<I_CmsXmlContentValue> links=m_content.getValues(NODE_LINKS,locale);
  CmsMacroResolver macroResolver=CmsMacroResolver.newInstance();
  macroResolver.setKeepEmptyMacros(true);
  for (int i=0; i < links.size(); i++) {
    I_CmsXmlContentValue xmlValue=links.get(i);
    String value=xmlValue.getStringValue(getCmsObject());
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(value)) {
      StringBuffer macro=new StringBuffer(10);
      macro.append(MACRO_LINK_PREFIX).append(i + 1);
      macroResolver.addMacro(macro.toString(),getRequestContext().removeSiteRoot(value));
    }
  }
  return macroResolver.resolveMacros(params);
}
