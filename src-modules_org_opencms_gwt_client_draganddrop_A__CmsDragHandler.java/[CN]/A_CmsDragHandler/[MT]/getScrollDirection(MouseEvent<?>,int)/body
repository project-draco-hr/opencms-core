{
  Element body=RootPanel.getBodyElement();
  int windowHeight=Window.getClientHeight();
  int bodyHeight=body.getClientHeight();
  if (windowHeight < bodyHeight) {
    if ((windowHeight - event.getClientY() < offset) && (Window.getScrollTop() < bodyHeight - windowHeight)) {
      return Direction.down;
    }
    if ((event.getClientY() < offset) && (Window.getScrollTop() > 0)) {
      return Direction.up;
    }
  }
  int windowWidth=Window.getClientWidth();
  int bodyWidth=body.getClientWidth();
  if (windowWidth < bodyWidth) {
    if ((windowWidth - event.getClientX() < offset) && (Window.getScrollLeft() < bodyWidth - windowWidth)) {
      return Direction.right;
    }
    if ((event.getClientX() < offset) && (Window.getScrollLeft() > 0)) {
      return Direction.left;
    }
  }
  return null;
}
