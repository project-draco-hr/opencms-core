{
  m_okButton.enable();
  if (fileInput != null) {
    List<CmsFileInfo> fileObjects=Arrays.asList(fileInput.getFiles());
    for (    CmsFileInfo file : fileObjects) {
      m_allFiles.put(file.getFileName(),file);
      if (!isTooLarge(file)) {
        m_inputsToUpload.put(file.getFileName(),fileInput);
        m_filesToUpload.put(file.getFileName(),file);
      }
      if ((m_listItems.get(file.getFileName()) != null) && (m_listItems.get(file.getFileName()).getCheckBox() != null) && !m_listItems.get(file.getFileName()).getCheckBox().isChecked()) {
        m_filesToUpload.remove(file.getFileName());
      }
    }
    m_fileList.clearList();
    List<String> sortedFileNames=new ArrayList<String>(m_allFiles.keySet());
    Collections.sort(sortedFileNames,String.CASE_INSENSITIVE_ORDER);
    for (    String filename : sortedFileNames) {
      addFileToList(m_allFiles.get(filename),false,isTooLarge(m_allFiles.get(filename)));
    }
  }
  displayDialogInfo(Messages.get().key(Messages.GUI_UPLOAD_INFO_SELECTION_0),false);
  updateSummary();
  m_uploadButton.createFileInput();
  if (!isShowing()) {
    Scheduler.get().scheduleDeferred(new ScheduledCommand(){
      /** 
 * @see com.google.gwt.core.client.Scheduler.ScheduledCommand#execute()
 */
      public void execute(){
        center();
      }
    }
);
  }
  center();
}
