{
  String moduleName;
  if (!CmsStringUtil.isValidJavaClassName(name)) {
    OpenCms.getLog(this).error("Invalid module name imported: '" + name + "'");
    moduleName=makeValidJavaClassName(name);
    OpenCms.getLog(this).error("Corrected module name is: '" + name + "'");
  }
 else {
    moduleName=name;
  }
  CmsModuleVersion moduleVersion=new CmsModuleVersion(version);
  long moduleDateCreated=CmsModule.C_DEFAULT_DATE;
  if (dateCreated != null) {
    try {
      moduleDateCreated=CmsDateUtil.parseHeaderDate(dateCreated);
    }
 catch (    ParseException e) {
    }
  }
  long moduleDateInstalled=CmsModule.C_DEFAULT_DATE;
  if (dateInstalled != null) {
    try {
      moduleDateInstalled=CmsDateUtil.parseHeaderDate(dateInstalled);
    }
 catch (    ParseException e1) {
    }
  }
  if (m_oldModule) {
    String modulePath=I_CmsWpConstants.C_VFS_PATH_MODULES + name + "/";
    m_resources.add(modulePath);
  }
  CmsModule module=new CmsModule(moduleName,niceName,actionClass,description,moduleVersion,authorName,authorEmail,moduleDateCreated,userInstalled,moduleDateInstalled,m_dependencies,m_exportPoints,m_resources,m_parameters);
  m_module=module;
}
