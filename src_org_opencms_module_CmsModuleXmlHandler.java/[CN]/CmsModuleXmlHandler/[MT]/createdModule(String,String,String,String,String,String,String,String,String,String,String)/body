{
  String moduleName;
  if (!CmsStringUtil.isValidJavaClassName(name)) {
    LOG.error(Messages.get().key(Messages.LOG_INVALID_MOD_NAME_IMPORTED_1,name));
    moduleName=makeValidJavaClassName(name);
    LOG.error(Messages.get().key(Messages.LOG_CORRECTED_MOD_NAME_1,moduleName));
  }
 else {
    moduleName=name;
  }
  CmsModuleVersion moduleVersion=new CmsModuleVersion(version);
  long moduleDateCreated=CmsModule.C_DEFAULT_DATE;
  if (dateCreated != null) {
    try {
      moduleDateCreated=CmsDateUtil.parseHeaderDate(dateCreated);
    }
 catch (    ParseException e) {
    }
  }
  long moduleDateInstalled=CmsModule.C_DEFAULT_DATE;
  if (dateInstalled != null) {
    try {
      moduleDateInstalled=CmsDateUtil.parseHeaderDate(dateInstalled);
    }
 catch (    ParseException e1) {
    }
  }
  if (m_oldModule) {
    String modulePath=I_CmsWpConstants.C_VFS_PATH_MODULES + name + "/";
    m_resources.add(modulePath);
  }
  m_module=new CmsModule(moduleName,niceName,group,actionClass,description,moduleVersion,authorName,authorEmail,moduleDateCreated,userInstalled,moduleDateInstalled,m_dependencies,m_exportPoints,m_resources,m_parameters);
  m_module.setResourceTypes(m_resourceTypes);
  m_module.setExplorerTypes(m_explorerTypeSettings);
}
