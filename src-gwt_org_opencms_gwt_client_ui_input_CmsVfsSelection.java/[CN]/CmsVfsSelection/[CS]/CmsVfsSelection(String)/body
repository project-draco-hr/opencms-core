{
  super();
  m_textBox=new TextBox();
  m_textBox.getElement().setId("CmsVfsSelection_" + (idCounter++));
  m_openSelection=new OpenButton(iconImage);
  m_id=m_textBox.getElement().getId();
  m_textBoxContainer.add(m_openSelection);
  creatFaider();
  initWidget(m_panel);
  m_panel.add(m_textBoxContainer);
  m_faidpanel.setStyleName(I_CmsInputLayoutBundle.INSTANCE.inputCss().vfsInputBoxFaider());
  m_faidpanel.getElement().getStyle().setRight(21,Unit.PX);
  m_faidpanel.getElement().getStyle().setCursor(Cursor.TEXT);
  m_faidpanel.getElement().getStyle().setBottom(7,Unit.PX);
  m_textBoxContainer.add(m_textBox);
  m_faidpanel.addDomHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      m_textBox.setFocus(true);
    }
  }
,ClickEvent.getType());
  m_panel.add(m_error);
  m_textBoxContainer.addStyleName(I_CmsLayoutBundle.INSTANCE.generalCss().cornerAll());
  m_textBox.addFocusHandler(new FocusHandler(){
    public void onFocus(    FocusEvent event){
      m_textBoxContainer.remove(m_faidpanel);
      m_panel.getElement().setTitle("");
      if (m_popup == null) {
        open();
      }
 else       if (m_popup.isShowing()) {
        close();
      }
 else {
        open();
      }
    }
  }
);
  m_textBox.addBlurHandler(new BlurHandler(){
    public void onBlur(    BlurEvent event){
      if ((m_textBox.getValue().length() * 6.88) > m_textBox.getOffsetWidth()) {
        m_textBoxContainer.add(m_faidpanel);
        setTitle(m_textBox.getValue());
      }
      m_textBox.setCursorPos(0);
    }
  }
);
  m_openSelection.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      if (m_popup == null) {
        open();
      }
 else       if (m_popup.isShowing()) {
        close();
      }
 else {
        open();
      }
    }
  }
);
}
