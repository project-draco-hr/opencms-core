{
  CmsResource sourceRes=getCms().readResource(getParamResource(),CmsResourceFilter.ALL);
  if (sourceRes.isFolder() && !DIALOG_WAIT.equals(getParamAction())) {
    return false;
  }
  boolean touchRecursive="true".equalsIgnoreCase(getParamRecursive());
  checkLock(getParamResource());
  getCms().undoChanges(getParamResource(),touchRecursive);
  return true;
}
