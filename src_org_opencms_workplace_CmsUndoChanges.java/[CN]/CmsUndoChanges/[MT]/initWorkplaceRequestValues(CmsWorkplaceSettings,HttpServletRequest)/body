{
  fillParamValues(request);
  setParamDialogtype(DIALOG_TYPE);
  if (DIALOG_TYPE.equals(getParamAction())) {
    setAction(ACTION_UNDOCHANGES);
  }
 else   if (DIALOG_WAIT.equals(getParamAction())) {
    setAction(ACTION_WAIT);
  }
 else   if (DIALOG_CANCEL.equals(getParamAction())) {
    setAction(ACTION_CANCEL);
  }
 else {
    setAction(ACTION_DEFAULT);
    setParamTitle(key("title.undochanges") + ": " + CmsResource.getName(getParamResource()));
  }
  try {
    setCurrentResource(getCms().readFileHeader(getParamResource(),CmsResourceFilter.ALL));
  }
 catch (  CmsException e) {
  }
}
