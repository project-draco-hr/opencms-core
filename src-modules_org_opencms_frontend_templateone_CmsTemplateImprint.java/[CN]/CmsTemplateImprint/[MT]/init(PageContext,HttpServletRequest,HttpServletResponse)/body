{
  super.init(context,req,res);
  String siteRoot=req.getParameter(CmsTemplateBean.C_PARAM_SITE);
  if (CmsStringUtil.isNotEmpty(siteRoot)) {
    getRequestContext().setSiteRoot(siteRoot);
  }
  String oldUri=getRequestContext().getUri();
  String uri=req.getParameter(CmsTemplateBean.C_PARAM_URI);
  if (uri == null) {
    uri=oldUri;
  }
  getRequestContext().setUri(uri);
  String configFileName=property(C_PROPERTY_CONFIGFILE,"search","");
  if ("".equals(configFileName)) {
    configFileName=getConfigPath() + C_FILENAME_CONFIGFILE;
  }
  m_configuration=CmsTemplateBean.getConfigurationFile(configFileName,getCmsObject());
}
