{
  initWidget(uiBinder.createAndBindUi(this));
  CmsDateBoxHandler pickerHandler=new CmsDateBoxHandler(this);
  DateBoxHandler dateBoxHandler=new DateBoxHandler(pickerHandler);
  m_box.addBlurHandler(dateBoxHandler);
  m_box.addClickHandler(dateBoxHandler);
  m_box.addKeyPressHandler(dateBoxHandler);
  m_am.setText(Messages.get().key(Messages.GUI_DATE_AM_0));
  m_am.setGroup(m_ampmGroup);
  m_pm.setText(Messages.get().key(Messages.GUI_DATE_PM_0));
  m_pm.setGroup(m_ampmGroup);
  DateTimePickerHandler dateTimePickerHandler=new DateTimePickerHandler(pickerHandler);
  m_am.addClickHandler(dateTimePickerHandler);
  m_pm.addClickHandler(dateTimePickerHandler);
  m_time.addBlurHandler(dateTimePickerHandler);
  m_time.addKeyPressHandler(dateTimePickerHandler);
  DateTimePickerListener dateTimePickerListener=new DateTimePickerListener(pickerHandler);
  m_picker.addListener(Events.Select,dateTimePickerListener);
  if (!CmsDateConverter.is12HourPresentation()) {
    m_pm.setVisible(false);
    m_am.setVisible(false);
  }
  m_popup.add(m_dateTimePanel);
  m_popup.setShadow(true);
  m_dateBoxListener=new DateBoxListener(pickerHandler);
  m_popup.setAutoHide(true);
}
