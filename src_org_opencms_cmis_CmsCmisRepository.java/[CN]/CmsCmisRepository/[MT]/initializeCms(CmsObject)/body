{
  m_adminCms=cms;
  try {
    m_typeManager=CmsCmisTypeManager.getDefaultInstance(m_adminCms);
    String projectName=m_parameterConfiguration.getString("project","Online");
    CmsResource root=m_adminCms.readResource("/");
    CmsObject offlineCms=OpenCms.initCmsObject(m_adminCms);
    CmsProject project=m_adminCms.readProject(projectName);
    m_project=project;
    offlineCms.getRequestContext().setCurrentProject(project);
    m_adminCms=offlineCms;
    m_root=root;
    m_isReadOnly=project.isOnlineProject();
  }
 catch (  CmsException e) {
    throw new RuntimeException(e);
  }
}
