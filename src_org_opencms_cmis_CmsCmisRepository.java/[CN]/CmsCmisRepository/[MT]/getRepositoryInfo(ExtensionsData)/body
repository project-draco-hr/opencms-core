{
  RepositoryInfoImpl repositoryInfo=new RepositoryInfoImpl();
  repositoryInfo.setId(m_id);
  repositoryInfo.setName(m_id);
  repositoryInfo.setDescription(m_id);
  repositoryInfo.setCmisVersionSupported("1.0");
  repositoryInfo.setProductName("OpenCms CMIS service");
  repositoryInfo.setProductVersion("0.1");
  repositoryInfo.setVendorName("Alkacon Software GmbH");
  repositoryInfo.setRootFolder(m_root.getStructureId().toString());
  repositoryInfo.setThinClientUri("");
  RepositoryCapabilitiesImpl capabilities=new RepositoryCapabilitiesImpl();
  capabilities.setCapabilityAcl(CapabilityAcl.DISCOVER);
  capabilities.setAllVersionsSearchable(false);
  capabilities.setCapabilityJoin(CapabilityJoin.NONE);
  capabilities.setSupportsMultifiling(false);
  capabilities.setSupportsUnfiling(false);
  capabilities.setSupportsVersionSpecificFiling(false);
  capabilities.setIsPwcSearchable(false);
  capabilities.setIsPwcUpdatable(false);
  capabilities.setCapabilityQuery(CapabilityQuery.NONE);
  capabilities.setCapabilityChanges(CapabilityChanges.NONE);
  capabilities.setCapabilityContentStreamUpdates(CapabilityContentStreamUpdates.NONE);
  capabilities.setSupportsGetDescendants(true);
  capabilities.setSupportsGetFolderTree(true);
  capabilities.setCapabilityRendition(CapabilityRenditions.NONE);
  repositoryInfo.setCapabilities(capabilities);
  AclCapabilitiesDataImpl aclCapability=new AclCapabilitiesDataImpl();
  aclCapability.setSupportedPermissions(SupportedPermissions.BASIC);
  aclCapability.setAclPropagation(AclPropagation.OBJECTONLY);
  List<PermissionDefinition> permissions=new ArrayList<PermissionDefinition>();
  permissions.add(createPermission(CMIS_READ,"Read"));
  permissions.add(createPermission(CMIS_WRITE,"Write"));
  permissions.add(createPermission(CMIS_ALL,"All"));
  aclCapability.setPermissionDefinitionData(permissions);
  List<PermissionMapping> list=new ArrayList<PermissionMapping>();
  list.add(createMapping(PermissionMapping.CAN_CREATE_DOCUMENT_FOLDER,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_CREATE_FOLDER_FOLDER,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_DELETE_CONTENT_DOCUMENT,CMIS_WRITE));
  list.add(createMapping(PermissionMapping.CAN_DELETE_OBJECT,CMIS_ALL));
  list.add(createMapping(PermissionMapping.CAN_DELETE_TREE_FOLDER,CMIS_ALL));
  list.add(createMapping(PermissionMapping.CAN_GET_ACL_OBJECT,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_GET_ALL_VERSIONS_VERSION_SERIES,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_GET_CHILDREN_FOLDER,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_GET_DESCENDENTS_FOLDER,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_GET_FOLDER_PARENT_OBJECT,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_GET_PARENTS_FOLDER,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_GET_PROPERTIES_OBJECT,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_MOVE_OBJECT,CMIS_WRITE));
  list.add(createMapping(PermissionMapping.CAN_MOVE_SOURCE,CMIS_READ));
  list.add(createMapping(PermissionMapping.CAN_MOVE_TARGET,CMIS_WRITE));
  list.add(createMapping(PermissionMapping.CAN_SET_CONTENT_DOCUMENT,CMIS_WRITE));
  list.add(createMapping(PermissionMapping.CAN_UPDATE_PROPERTIES_OBJECT,CMIS_WRITE));
  list.add(createMapping(PermissionMapping.CAN_VIEW_CONTENT_OBJECT,CMIS_READ));
  Map<String,PermissionMapping> map=new LinkedHashMap<String,PermissionMapping>();
  for (  PermissionMapping pm : list) {
    map.put(pm.getKey(),pm);
  }
  aclCapability.setPermissionMappingData(map);
  repositoryInfo.setAclCapabilities(aclCapability);
  return repositoryInfo;
}
