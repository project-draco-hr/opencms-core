{
  RepositoryInfoImpl repositoryInfo=new RepositoryInfoImpl();
  repositoryInfo.setId(m_id);
  repositoryInfo.setName(getName());
  repositoryInfo.setDescription(getDescription());
  repositoryInfo.setCmisVersionSupported("1.0");
  repositoryInfo.setProductName("OpenCms");
  repositoryInfo.setProductVersion(OpenCms.getSystemInfo().getVersion());
  repositoryInfo.setVendorName("Alkacon Software GmbH");
  repositoryInfo.setRootFolder(m_root.getStructureId().toString());
  repositoryInfo.setThinClientUri("");
  repositoryInfo.setPrincipalAnonymous(OpenCms.getDefaultUsers().getUserGuest());
  repositoryInfo.setChangesIncomplete(Boolean.TRUE);
  RepositoryCapabilitiesImpl capabilities=new RepositoryCapabilitiesImpl();
  capabilities.setCapabilityAcl(CapabilityAcl.DISCOVER);
  capabilities.setAllVersionsSearchable(Boolean.FALSE);
  capabilities.setCapabilityJoin(CapabilityJoin.NONE);
  capabilities.setSupportsMultifiling(Boolean.FALSE);
  capabilities.setSupportsUnfiling(Boolean.FALSE);
  capabilities.setSupportsVersionSpecificFiling(Boolean.FALSE);
  capabilities.setIsPwcSearchable(Boolean.FALSE);
  capabilities.setIsPwcUpdatable(Boolean.FALSE);
  capabilities.setCapabilityQuery(CapabilityQuery.NONE);
  capabilities.setCapabilityChanges(CapabilityChanges.NONE);
  capabilities.setCapabilityContentStreamUpdates(CapabilityContentStreamUpdates.ANYTIME);
  capabilities.setSupportsGetDescendants(Boolean.TRUE);
  capabilities.setSupportsGetFolderTree(Boolean.TRUE);
  capabilities.setCapabilityRendition(CapabilityRenditions.NONE);
  repositoryInfo.setCapabilities(capabilities);
  AclCapabilitiesDataImpl aclCapability=new AclCapabilitiesDataImpl();
  aclCapability.setSupportedPermissions(SupportedPermissions.BOTH);
  aclCapability.setAclPropagation(AclPropagation.REPOSITORYDETERMINED);
  List<PermissionDefinition> permissions=new ArrayList<PermissionDefinition>();
  permissions.add(createPermission("cmis:read","Read"));
  permissions.add(createPermission("cmis:write","Write"));
  permissions.add(createPermission("cmis:all","All"));
  aclCapability.setPermissionDefinitionData(permissions);
  PermissionMappings m=new PermissionMappings();
  m.add(PermissionMapping.CAN_CREATE_DOCUMENT_FOLDER,"cmis:write");
  m.add(PermissionMapping.CAN_CREATE_FOLDER_FOLDER,"cmis:write");
  m.add(PermissionMapping.CAN_DELETE_CONTENT_DOCUMENT,"cmis:write");
  m.add(PermissionMapping.CAN_DELETE_OBJECT,"cmis:write");
  m.add(PermissionMapping.CAN_DELETE_TREE_FOLDER,"cmis:write");
  m.add(PermissionMapping.CAN_GET_ACL_OBJECT,"cmis:read");
  m.add(PermissionMapping.CAN_GET_ALL_VERSIONS_VERSION_SERIES,"cmis:read");
  m.add(PermissionMapping.CAN_GET_CHILDREN_FOLDER,"cmis:read");
  m.add(PermissionMapping.CAN_GET_DESCENDENTS_FOLDER,"cmis:read");
  m.add(PermissionMapping.CAN_GET_FOLDER_PARENT_OBJECT,"cmis:read");
  m.add(PermissionMapping.CAN_GET_PARENTS_FOLDER,"cmis:read");
  m.add(PermissionMapping.CAN_GET_PROPERTIES_OBJECT,"cmis:read");
  m.add(PermissionMapping.CAN_MOVE_OBJECT,"cmis:write");
  m.add(PermissionMapping.CAN_MOVE_SOURCE,"cmis:write");
  m.add(PermissionMapping.CAN_MOVE_TARGET,"cmis:write");
  m.add(PermissionMapping.CAN_SET_CONTENT_DOCUMENT,"cmis:write");
  m.add(PermissionMapping.CAN_UPDATE_PROPERTIES_OBJECT,"cmis:write");
  m.add(PermissionMapping.CAN_VIEW_CONTENT_OBJECT,"cmis:read");
  aclCapability.setPermissionMappingData(m);
  repositoryInfo.setAclCapabilities(aclCapability);
  return repositoryInfo;
}
