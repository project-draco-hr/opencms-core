def __init__(self, environ):
    if environ:
        self.request = cgi.FieldStorage(fp=environ['wsgi.input'], environ=environ, keep_blank_values=1)
        self.environ = environ
    else:
        self.environ = os.environ
        self.request = cgi.FieldStorage()
    if (('REQUEST_METHOD' in self.environ) and ('QUERY_STRING' in self.environ)):
        if (self.environ['REQUEST_METHOD'].upper() == 'POST'):
            self.get_request = cgi.FieldStorage(fp=None, environ={'REQUEST_METHOD': 'GET', 'QUERY_STRING': self.environ['QUERY_STRING'], })
    else:
        self.get_request = {}
