{
  List tempFolders=cms.getSubFolders(foldername);
  for (int i=0; i < tempFolders.size(); i++) {
    CmsResource currFolder=(CmsResource)tempFolders.get(i);
    if (this.checkAccess(cms,currFolder)) {
      folders.add(tempFolders.get(i));
    }
    getGallerySubFolders(cms,folders,currFolder.getRootPath());
  }
  return folders;
}
