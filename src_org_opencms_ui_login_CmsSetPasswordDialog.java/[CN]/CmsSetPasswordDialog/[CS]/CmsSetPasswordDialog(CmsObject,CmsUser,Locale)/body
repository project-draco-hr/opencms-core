{
  CmsVaadinUtils.readAndLocalizeDesign(this,OpenCms.getWorkplaceManager().getMessages(locale),null);
  m_locale=locale;
  m_cms=cms;
  m_user=user;
  if (OpenCms.getPasswordHandler() instanceof I_CmsPasswordSecurityEvaluator) {
    m_securityHint.setValue(((I_CmsPasswordSecurityEvaluator)OpenCms.getPasswordHandler()).getPasswordSecurityHint(m_locale));
  }
 else {
    m_securityHint.setVisible(false);
  }
  m_passwordChangeButton.addClickListener(new ClickListener(){
    /** 
 * Serial versino id. 
 */
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      submit();
    }
  }
);
  m_passwordField1.addTextChangeListener(new TextChangeListener(){
    private static final long serialVersionUID=1L;
    public void textChange(    TextChangeEvent event){
      checkSecurity(event.getText());
    }
  }
);
}
