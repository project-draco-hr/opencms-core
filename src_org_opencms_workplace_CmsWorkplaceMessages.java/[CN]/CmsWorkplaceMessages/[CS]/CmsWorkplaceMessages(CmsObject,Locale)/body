{
  m_cms=cms;
  m_locale=locale;
  m_messages=new CmsMessages(C_BUNDLE_NAME,m_locale);
  if (m_allEncodings == null) {
    if (DEBUG > 0) {
      System.err.println("CmsWorkplaceMessages(): initializing the static encodings");
    }
synchronized (this) {
      m_allEncodings=new HashMap();
    }
  }
  if (m_allModuleMessages == null) {
    if (DEBUG > 0) {
      System.err.println("CmsWorkplaceMessages(): initializing module messages hash");
    }
synchronized (this) {
      m_allModuleMessages=new HashMap();
    }
  }
  Object obj=m_allModuleMessages.get(m_locale);
  if (obj == null) {
    if (DEBUG > 0) {
      System.err.println("CmsWorkplaceMessages(): collecting static module messages");
    }
synchronized (this) {
      m_moduleMessages=collectModuleMessages(m_cms,m_locale);
      m_allModuleMessages.put(m_locale,m_moduleMessages);
    }
  }
 else {
    m_moduleMessages=(Set)obj;
  }
}
