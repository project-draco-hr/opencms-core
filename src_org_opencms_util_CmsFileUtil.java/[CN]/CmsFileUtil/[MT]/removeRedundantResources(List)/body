{
  if ((resources == null) || (resources.isEmpty())) {
    return new ArrayList();
  }
  if (resources.size() == 1) {
    return new ArrayList(resources);
  }
  List result=new ArrayList(resources.size());
  List base=new ArrayList(resources);
  Collections.sort(base);
  Iterator i=base.iterator();
  while (i.hasNext()) {
    CmsResource resource=(CmsResource)i.next();
    boolean valid=true;
    for (int j=(result.size() - 1); j >= 0; j--) {
      CmsResource check=(CmsResource)result.get(j);
      if ((check.isFolder() && resource.getRootPath().startsWith(check.getRootPath())) || resource.getRootPath().equals(check.getRootPath())) {
        valid=false;
        break;
      }
    }
    if (valid) {
      result.add(resource);
    }
  }
  return result;
}
