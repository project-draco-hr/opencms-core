{
  m_dialogContext=context;
  CmsVaadinUtils.readAndLocalizeDesign(this,OpenCms.getWorkplaceManager().getMessages(A_CmsUI.get().getLocale()),null);
  m_icon.setContentMode(ContentMode.HTML);
  m_icon.setValue(FontAwesome.WARNING.getHtml());
  m_icon.addStyleName(ValoTheme.LABEL_COLORED);
  m_icon.addStyleName(ValoTheme.LABEL_HUGE);
  m_errorLabel.setContentMode(ContentMode.PREFORMATTED);
  m_errorLabel.setValue(ExceptionUtils.getFullStackTrace(t));
  setComponentAlignment(m_okButton,Alignment.MIDDLE_RIGHT);
  m_errorMessage.setValue(t.getLocalizedMessage());
  m_okButton.addClickListener(new ClickListener(){
    /** 
 * Serial version id. 
 */
    private static final long serialVersionUID=1L;
    @SuppressWarnings("synthetic-access") public void buttonClick(    ClickEvent event){
      m_dialogContext.finish(null);
    }
  }
);
}
