{
  Vector retValue=(Vector)m_subresCache.get(currentUser.getId() + "TREE" + rootName,currentProject.getId());
  if (retValue == null || retValue.size() == 0) {
    Vector resources=m_dbAccess.getFolderTree(currentProject.getId(),rootName);
    retValue=new Vector(resources.size());
    String lastcheck="#";
    for (Enumeration e=resources.elements(); e.hasMoreElements(); ) {
      CmsResource res=(CmsResource)e.nextElement();
      if (!res.getAbsolutePath().startsWith(lastcheck)) {
        if (accessOther(res,C_ACCESS_PUBLIC_READ + C_ACCESS_PUBLIC_VISIBLE) || accessOwner(currentUser,currentProject,res,C_ACCESS_OWNER_READ + C_ACCESS_OWNER_VISIBLE) || accessGroup(currentUser,currentProject,res,C_ACCESS_GROUP_READ + C_ACCESS_GROUP_VISIBLE)) {
          retValue.addElement(res);
        }
 else {
          lastcheck=res.getAbsolutePath();
        }
      }
    }
    m_subresCache.put(currentUser.getId() + "TREE" + rootName,currentProject.getId(),retValue);
  }
  return retValue;
}
