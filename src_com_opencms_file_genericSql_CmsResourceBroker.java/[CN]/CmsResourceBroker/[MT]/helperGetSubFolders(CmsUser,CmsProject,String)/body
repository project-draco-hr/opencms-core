{
  CmsFolder cmsFolder=m_VfsAccess.readFolder(currentProject.getId(),foldername);
  if (accessRead(currentUser,currentProject,(CmsResource)cmsFolder)) {
    Vector folders=m_VfsAccess.getSubFolders(currentProject.getId(),cmsFolder);
    CmsFolder folder;
    for (int z=0; z < folders.size(); z++) {
      folder=(CmsFolder)folders.elementAt(z);
      if (!(accessOther((CmsResource)folder,C_ACCESS_PUBLIC_READ) || accessOwner(currentUser,currentProject,(CmsResource)folder,C_ACCESS_OWNER_READ) || accessGroup(currentUser,currentProject,(CmsResource)folder,C_ACCESS_GROUP_READ))) {
        folders.removeElementAt(z);
        z--;
      }
    }
    return folders;
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ foldername,CmsException.C_ACCESS_DENIED);
  }
}
