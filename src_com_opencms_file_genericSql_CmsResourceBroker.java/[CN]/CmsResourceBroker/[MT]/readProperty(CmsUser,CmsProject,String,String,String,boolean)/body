{
  if (search) {
    String f=resource;
    String prop=readProperty(currentUser,currentProject,f,property);
    while ((prop == null) && (!siteRoot.equals(f))) {
      f=f.substring(0,f.lastIndexOf("/"));
      prop=readProperty(currentUser,currentProject,f + "/",property);
    }
    return prop;
  }
 else {
    return readProperty(currentUser,currentProject,resource,property);
  }
}
