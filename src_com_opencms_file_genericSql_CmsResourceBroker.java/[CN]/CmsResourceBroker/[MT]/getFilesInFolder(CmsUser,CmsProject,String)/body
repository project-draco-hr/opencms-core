{
  Vector files;
  try {
    files=helperGetFilesInFolder(currentUser,currentProject,foldername);
  }
 catch (  CmsException e) {
    if (e.getType() == CmsException.C_ACCESS_DENIED)     return new Vector();
 else     throw e;
  }
  if (files == null) {
    return new Vector();
  }
  Vector onlineFiles=null;
  if (!currentProject.equals(onlineProject(currentUser,currentProject))) {
    try {
      onlineFiles=helperGetFilesInFolder(currentUser,onlineProject(currentUser,currentProject),foldername);
    }
 catch (    CmsException exc) {
      if (exc.getType() != CmsException.C_ACCESS_DENIED)       throw exc;
 else       return files;
    }
  }
  if (onlineFiles == null)   return files;
  files=mergeResources(files,onlineFiles);
  return files;
}
