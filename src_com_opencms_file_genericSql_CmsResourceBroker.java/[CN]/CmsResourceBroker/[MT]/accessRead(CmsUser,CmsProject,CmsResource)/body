{
  String cacheKey=getCacheKey(null,currentUser,new CmsProject(currentProject.getId(),-1),resource.getResourceName());
  Boolean access=(Boolean)m_accessCache.get(cacheKey);
  if (access != null) {
    return access.booleanValue();
  }
 else {
    if ((resource == null) || !accessProject(currentUser,currentProject,resource.getProjectId()) || (!accessOther(resource,C_ACCESS_PUBLIC_READ) && !accessOwner(currentUser,currentProject,resource,C_ACCESS_OWNER_READ) && !accessGroup(currentUser,currentProject,resource,C_ACCESS_GROUP_READ))) {
      m_accessCache.put(cacheKey,new Boolean(false));
      return false;
    }
    CmsResource res=resource;
    while (res.getParent() != null) {
      res=readCachedFolder(currentProject.getId(),res.getRootName() + res.getParent());
      if (res == null) {
        if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
          A_OpenCms.log(A_OpenCms.C_OPENCMS_DEBUG,"Resource has no parent: " + resource.getAbsolutePath());
        }
        throw new CmsException(this.getClass().getName() + ".accessRead(): Cannot find \'" + resource.getName(),CmsException.C_NOT_FOUND);
      }
      if (!accessOther(res,C_ACCESS_PUBLIC_READ) && !accessOwner(currentUser,currentProject,res,C_ACCESS_OWNER_READ) && !accessGroup(currentUser,currentProject,res,C_ACCESS_GROUP_READ)) {
        m_accessCache.put(cacheKey,new Boolean(false));
        return false;
      }
    }
    m_accessCache.put(cacheKey,new Boolean(true));
    return true;
  }
}
