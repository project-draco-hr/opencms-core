{
  if (isAdmin(currentUser,currentProject)) {
    CmsProject newOnlineProject=createProject(currentUser,currentProject,name,description + " project",user,group,parentId);
    CmsSite newSite=m_dbAccess.newSiteRecord(name,description,category,language,country,newOnlineProject.getId());
    int newSiteId=newSite.getId();
    m_dbAccess.newSiteProjectsRecord(newSiteId,newOnlineProject.getId());
    m_dbAccess.newSiteUrlRecord(url,newSiteId,url);
    CmsFolder rootFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,C_ROOT,0);
    CmsFolder cFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,com.opencms.workplace.I_CmsWpConstants.C_CONTENTPATH,0);
    CmsFolder cbFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,com.opencms.workplace.I_CmsWpConstants.C_CONTENTBODYPATH,0);
    CmsFolder ciFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,"/content/internal/",0);
    CmsFolder ctFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,com.opencms.workplace.I_CmsWpConstants.C_CONTENTTEMPLATEPATH,0);
    CmsFolder dFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,"/download/",0);
    CmsFolder pFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,"/pics/",0);
    m_dbAccess.writeFolder(newOnlineProject,rootFolder,false);
    m_dbAccess.writeFolder(newOnlineProject,cFolder,false);
    m_dbAccess.writeFolder(newOnlineProject,cbFolder,false);
    m_dbAccess.writeFolder(newOnlineProject,ciFolder,false);
    m_dbAccess.writeFolder(newOnlineProject,ctFolder,false);
    m_dbAccess.writeFolder(newOnlineProject,dFolder,false);
    m_dbAccess.writeFolder(newOnlineProject,pFolder,false);
    return newSite;
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ name,CmsException.C_NO_ACCESS);
  }
}
