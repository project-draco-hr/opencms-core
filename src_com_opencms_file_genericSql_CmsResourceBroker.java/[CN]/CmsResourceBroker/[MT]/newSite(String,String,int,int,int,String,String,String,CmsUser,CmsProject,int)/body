{
  if (isAdmin(currentUser,currentProject)) {
    CmsProject newOnlineProject=createProject(currentUser,currentProject,name,description + " project",user,group,parentId);
    CmsSite newSite=m_dbAccess.newSiteRecord(name,description,category,language,country,newOnlineProject.getId());
    int newSiteId=newSite.getId();
    m_dbAccess.newSiteProjectsRecord(newSiteId,newOnlineProject.getId());
    m_dbAccess.newSiteUrlRecord(url,newSiteId,url);
    CmsFolder rootFolder=m_dbAccess.createFolder(currentUser,newOnlineProject,C_UNKNOWN_ID,C_UNKNOWN_ID,C_ROOT,0);
    return newSite;
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ name,CmsException.C_NO_ACCESS);
  }
}
