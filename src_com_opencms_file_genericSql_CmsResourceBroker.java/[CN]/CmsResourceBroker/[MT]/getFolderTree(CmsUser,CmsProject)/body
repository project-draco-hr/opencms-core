{
  Vector resources=m_dbAccess.getFolderTree(currentProject.getId());
  Vector retValue=new Vector(resources.size());
  String lastcheck="#";
  for (Enumeration e=resources.elements(); e.hasMoreElements(); ) {
    CmsResource res=(CmsResource)e.nextElement();
    if (!res.getAbsolutePath().startsWith(lastcheck)) {
      if (accessOther(currentUser,currentProject,res,C_ACCESS_PUBLIC_READ + C_ACCESS_PUBLIC_VISIBLE) || accessOwner(currentUser,currentProject,res,C_ACCESS_OWNER_READ + C_ACCESS_OWNER_VISIBLE) || accessGroup(currentUser,currentProject,res,C_ACCESS_GROUP_READ + C_ACCESS_GROUP_VISIBLE)) {
        retValue.addElement(res);
      }
 else {
        lastcheck=res.getAbsolutePath();
      }
    }
  }
  return retValue;
}
