{
  CmsFolder cmsFolder=readFolder(currentUser,currentProject,currentProject.getId(),foldername);
  if (cmsFolder == null)   return new Vector();
 else {
    if (cmsFolder.getState() == CmsConstants.C_STATE_DELETED) {
      return null;
    }
    Vector _files=m_dbAccess.getFilesInFolder(cmsFolder);
    Vector files=new Vector(_files.size());
    for (Enumeration e=_files.elements(); e.hasMoreElements(); ) {
      CmsFile file=(CmsFile)e.nextElement();
      if (accessOther(currentUser,currentProject,(CmsResource)file,C_ACCESS_PUBLIC_READ) || accessOwner(currentUser,currentProject,(CmsResource)file,C_ACCESS_OWNER_READ) || accessGroup(currentUser,currentProject,(CmsResource)file,C_ACCESS_GROUP_READ)) {
        files.addElement(file);
      }
    }
    return files;
  }
}
