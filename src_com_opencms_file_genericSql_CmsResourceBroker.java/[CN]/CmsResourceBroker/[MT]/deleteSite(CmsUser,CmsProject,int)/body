{
  if (isAdmin(currentUser,currentProject)) {
    m_dbAccess.deleteSiteReattachChildProjects(siteId);
    m_dbAccess.deleteSite(siteId);
    clearcache();
    if (m_refresh.length() > 0) {
      try {
        URL url=new URL(m_refresh);
        URLConnection con=url.openConnection();
        con.connect();
        InputStream in=con.getInputStream();
        in.close();
      }
 catch (      Exception ex) {
        throw new CmsException(0,ex);
      }
    }
  }
 else {
    throw new CmsException("[" + this.getClass().getName() + "] "+ siteId,CmsException.C_NO_ACCESS);
  }
}
