{
  InputStream s=null;
  if (m_parent != null) {
    s=m_parent.getResourceAsStream(name);
  }
  if (s == null) {
    Enumeration allRepositories=repository.elements();
    String filename=null;
    int type=0;
    while ((allRepositories.hasMoreElements()) && (s == null)) {
      filename=(String)allRepositories.nextElement();
      type=((Integer)repositoryTypes.elementAt(repository.indexOf(filename))).intValue();
      try {
        if (type == C_REPOSITORY_CLASSIC_FS) {
          File f=new File(filename);
          if (f.isDirectory()) {
            s=loadResourceFromDirectory(f,name);
          }
 else {
            s=loadResourceFromZipFile(f,name);
          }
        }
 else {
          boolean fromJar=false;
          byte[] myResourceData=null;
          if (filename.endsWith("/")) {
            filename=filename + name;
          }
 else {
            fromJar=true;
          }
          try {
            myResourceData=readFileContent(filename);
          }
 catch (          Exception e) {
            myResourceData=null;
          }
          if (myResourceData != null) {
            if (fromJar) {
              s=loadResourceFromZipFile(new ByteArrayInputStream(myResourceData),name);
            }
 else {
              s=new ByteArrayInputStream(myResourceData);
            }
          }
        }
      }
 catch (      IOException exc) {
        s=null;
      }
    }
  }
  return s;
}
