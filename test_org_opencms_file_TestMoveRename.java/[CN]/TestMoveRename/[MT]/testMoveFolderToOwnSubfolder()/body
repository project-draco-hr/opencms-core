{
  CmsObject cms=getCmsObject();
  echo("Testing to move a folder in its own subfolder");
  String source="/folder1/";
  String destination="/folder1/subfolder11/folder1/";
  cms.lockResource(source);
  CmsVfsException error=null;
  try {
    cms.moveResource(source,destination);
  }
 catch (  CmsVfsException e) {
    error=e;
  }
  assertNotNull(error);
  assertSame(error.getMessageContainer().getKey(),Messages.ERR_MOVE_SAME_FOLDER_2);
}
