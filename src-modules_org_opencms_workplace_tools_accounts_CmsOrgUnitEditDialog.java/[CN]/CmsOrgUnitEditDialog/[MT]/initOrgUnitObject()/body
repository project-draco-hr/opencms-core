{
  if (m_orgunit == null) {
    try {
      if (isNewOrgUnit()) {
        m_orgunit=OpenCms.getOrgUnitManager().readOrganizationalUnit(getCms(),getParamSuboufqn());
      }
 else {
        m_orgunit=OpenCms.getOrgUnitManager().readOrganizationalUnit(getCms(),getParamOufqn());
      }
      if (m_orgunit == null) {
        m_orgUnitBean=new CmsOrgUnitBean();
        m_orgUnitBean.setFqn(getParamOufqn());
        List resources=OpenCms.getOrgUnitManager().getResourcesForOrganizationalUnit(getCms(),getParamOufqn());
        setResourcesInBean(m_orgUnitBean,resources);
      }
 else {
        m_orgUnitBean=new CmsOrgUnitBean();
        m_orgUnitBean.setDescription(m_orgunit.getDescription(getLocale()));
        m_orgUnitBean.setName(m_orgunit.getName());
        m_orgUnitBean.setParentOu(m_orgunit.getParentFqn());
        m_orgUnitBean.setFqn(m_orgunit.getName());
        List resources=OpenCms.getOrgUnitManager().getResourcesForOrganizationalUnit(getCms(),m_orgunit.getName());
        setResourcesInBean(m_orgUnitBean,resources);
      }
    }
 catch (    Exception e) {
      m_orgUnitBean=new CmsOrgUnitBean();
      m_orgUnitBean.setParentOu(getParamOufqn());
      try {
        List resources=OpenCms.getOrgUnitManager().getResourcesForOrganizationalUnit(getCms(),getParamOufqn());
        setResourcesInBean(m_orgUnitBean,resources);
      }
 catch (      CmsException ex) {
      }
    }
  }
 else {
    try {
      m_orgUnitBean=new CmsOrgUnitBean();
      m_orgUnitBean.setDescription(m_orgunit.getDescription(getLocale()));
      m_orgUnitBean.setName(m_orgunit.getName());
      m_orgUnitBean.setParentOu(m_orgunit.getParentFqn());
      m_orgUnitBean.setFqn(m_orgunit.getName());
      List resources=OpenCms.getOrgUnitManager().getResourcesForOrganizationalUnit(getCms(),m_orgunit.getName());
      setResourcesInBean(m_orgUnitBean,resources);
    }
 catch (    CmsException e) {
    }
  }
}
