{
  FlowPanel parentPanel=CmsGalleryDialog.getPreviewParent(parentElementId);
  GalleryMode mode=GalleryMode.valueOf(galleryMode);
  CmsImagePreviewDialog preview=new CmsImagePreviewDialog(mode,parentPanel.getOffsetHeight(),parentPanel.getOffsetWidth());
  m_controller=new CmsImagePreviewController(new CmsImagePreviewHandler(preview,this,parentElementId));
  exportRemovePreview(parentElementId);
  CmsPreviewUtil.exportFunctions(getPreviewName(),this);
  parentPanel.add(preview);
  parentPanel.removeStyleName(I_CmsLayoutBundle.INSTANCE.previewDialogCss().hidePreview());
  m_controller.loadResourceInfo(resourcePath);
}
