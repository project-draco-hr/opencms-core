{
  m_galleryDialog.fillTabs(dialogBean.getMode().getTabs(),controller);
  if ((m_galleryDialog.getGalleriesTab() != null) && (dialogBean.getGalleries() != null)) {
    setGalleriesTabContent(dialogBean.getGalleries(),searchObj.getGalleries());
  }
  if ((m_galleryDialog.getTypesTab() != null) && (dialogBean.getTypes() != null)) {
    setTypesTabContent(dialogBean.getTypes(),searchObj.getTypes());
  }
  if ((m_galleryDialog.getCategoriesTab() != null) && (dialogBean.getCategories() != null)) {
    setCategoriesTabContent(dialogBean.getCategories());
  }
  if (dialogBean.getStartTab() == GalleryTabId.cms_tab_results) {
    m_galleryDialog.getResultsTab().fillContent(searchObj,m_galleryDialog.getTypesTab().getTypesParams(searchObj.getTypes()),m_galleryDialog.getGalleriesTab().getGalleriesParams(searchObj.getGalleries()),m_galleryDialog.getVfsTab().getVfsParams(searchObj.getFolders()),m_galleryDialog.getCategoriesTab().getCategoriesParams(searchObj.getCategories()));
  }
  if ((dialogBean.getVfsRootFolders() != null) && (m_galleryDialog.getVfsTab() != null)) {
    m_galleryDialog.getVfsTab().fillInitially(dialogBean.getVfsRootFolders());
  }
  m_galleryDialog.selectTab(dialogBean.getStartTab());
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(searchObj.getResourcePath()) && CmsStringUtil.isNotEmptyOrWhitespaceOnly(searchObj.getResourceType())) {
    if (m_galleryDialog.isAttached()) {
      controller.openPreview(searchObj.getResourcePath(),searchObj.getResourceType());
    }
 else {
      m_galleryDialog.setOnAttachCommand(new Command(){
        /** 
 * @see com.google.gwt.user.client.Command#execute()
 */
        public void execute(){
          controller.openPreview(searchObj.getResourcePath(),searchObj.getResourceType());
        }
      }
);
    }
  }
}
