{
  List ret=new ArrayList();
  boolean withOtherOus=hasUsersInOtherOus() && (getList().getMetadata().getItemDetailDefinition(LIST_DETAIL_OTHEROU) != null) && getList().getMetadata().getItemDetailDefinition(LIST_DETAIL_OTHEROU).isVisible();
  Iterator itUsers=getUsers(withOtherOus).iterator();
  while (itUsers.hasNext()) {
    CmsUser user=(CmsUser)itUsers.next();
    CmsListItem item=getList().newItem(user.getId().toString());
    item.set(LIST_COLUMN_LOGIN,user.getName());
    item.set(LIST_COLUMN_NAME,user.getSimpleName());
    item.set(LIST_COLUMN_ORGUNIT,CmsOrganizationalUnit.SEPARATOR + user.getOuFqn());
    item.set(LIST_COLUMN_FULLNAME,user.getFullName());
    ret.add(item);
  }
  return ret;
}
