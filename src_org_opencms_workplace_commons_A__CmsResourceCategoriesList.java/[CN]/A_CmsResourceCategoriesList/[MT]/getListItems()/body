{
  List ret=new ArrayList();
  Iterator itCategories=getCategories().iterator();
  while (itCategories.hasNext()) {
    CmsCategory category=(CmsCategory)itCategories.next();
    String categoryPath=category.getPath();
    CmsListItem item=getList().newItem(categoryPath);
    String htmlName="";
    int pathLevel=CmsStringUtil.splitAsList(categoryPath,'/').size();
    for (int i=1; i < pathLevel; i++) {
      htmlName="<img src=\"" + getJsp().link("/system/workplace/resources/tree/empty.gif") + "\" width=\"30px\" height=\"11px\"/>";
    }
    String name=category.getTitle();
    if (CmsStringUtil.isEmptyOrWhitespaceOnly(name)) {
      name=category.getName();
    }
    name=htmlName + name;
    item.set(LIST_COLUMN_NAME,name);
    item.set(LIST_COLUMN_PATH,categoryPath);
    ret.add(item);
  }
  return ret;
}
