{
  CmsSearchParameters searchParams=new CmsSearchParameters();
  searchParams.setQuery((String)params.get(PARAM_QUERY));
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly((String)params.get(PARAM_SORT))) {
    searchParams.setSortName((String)params.get(PARAM_SORT));
  }
  List fields=CmsStringUtil.splitAsList((String)params.get(PARAM_FIELDS),',');
  searchParams.setFields(fields);
  searchParams.setSearchPage(Integer.parseInt((String)params.get(I_CmsListResourceCollector.PARAM_PAGE)));
  return searchParams;
}
