{
  List result=getSearchResults(params);
  int count=getSearchBean(params).getSearchResultCount();
  Object[] objs=new Object[count];
  Arrays.fill(objs,new Object());
  int from=(getSearchBean(params).getSearchPage() - 1) * getSearchBean(params).getMatchesPerPage();
  int siteLen=cms.getRequestContext().getSiteRoot().length();
  Iterator it=result.iterator();
  while (it.hasNext()) {
    CmsSearchResult sr=(CmsSearchResult)it.next();
    CmsResource resource=cms.readResource(sr.getPath().substring(siteLen),CmsResourceFilter.ALL);
    m_resCache.put(resource.getStructureId().toString(),resource);
    m_srCache.put(resource.getStructureId().toString(),sr);
    objs[from]=resource;
    from++;
  }
  return Arrays.asList(objs);
}
