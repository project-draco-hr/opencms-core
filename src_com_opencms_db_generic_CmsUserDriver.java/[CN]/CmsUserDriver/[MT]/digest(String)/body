{
  if (m_digest != null) {
    try {
      byte[] bytesForDigest=value.getBytes(m_digestFileEncoding);
      byte[] bytesFromDigest=m_digest.digest(bytesForDigest);
      StringBuffer result=new StringBuffer();
      String addZerro;
      for (int i=0; i < bytesFromDigest.length; i++) {
        addZerro=Integer.toHexString(128 + bytesFromDigest[i]);
        if (addZerro.length() < 2) {
          addZerro="0" + addZerro;
        }
        result.append(addZerro);
      }
      return result.toString();
    }
 catch (    UnsupportedEncodingException exc) {
      if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging()) {
        A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_CRITICAL,"[CmsProjectDriver] file.encoding " + m_digestFileEncoding + " for passwords not supported. Using the default one.");
      }
      return new String(m_digest.digest(value.getBytes()));
    }
  }
 else {
    return value;
  }
}
