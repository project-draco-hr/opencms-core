{
  if (CmsStringUtil.isEmpty(comparatorMacro)) {
    m_comparatorMacro="${opencms.filename}";
  }
 else {
    m_comparatorMacro=comparatorMacro;
  }
  m_macroCmsObjectInner=OpenCms.initCmsObject(cms);
  m_macroCmsObjectInner.getRequestContext().setSiteRoot("/");
  m_macroResolverInner=new CmsMacroResolver();
  m_macroResolverInner.setCmsObject(m_macroCmsObjectInner);
}
