{
  String subSitemapId=entry.getProperties().get(CmsSitemapManager.Property.sitemap.name());
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(subSitemapId)) {
    return entry.getSubEntries();
  }
  CmsResource subSitemap=cms.readResource(new CmsUUID(subSitemapId));
  CmsXmlSitemap sitemapXml=CmsXmlSitemapFactory.unmarshal(cms,subSitemap);
  CmsSitemapBean sitemap=sitemapXml.getSitemap(cms,locale);
  if (sitemap == null) {
    entry.setSubEntries(new ArrayList<CmsInternalSitemapEntry>());
    return entry.getSubEntries();
  }
  entry.setSubEntries(sitemap.getSiteEntries());
  return entry.getSubEntries();
}
