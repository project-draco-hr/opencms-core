{
  String subSitemapId=entry.getProperties().get(CmsSitemapManager.Property.sitemap.name());
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(subSitemapId)) {
    return entry.getSubEntries();
  }
  CmsResource subSitemap=cms.readResource(new CmsUUID(subSitemapId));
  CmsXmlSitemap sitemapXml=CmsXmlSitemapFactory.unmarshal(cms,subSitemap);
  CmsSitemapBean sitemap=sitemapXml.getSitemap(cms,cms.getRequestContext().getLocale());
  if (sitemap == null) {
    entry.setSubEntries(new ArrayList<CmsSitemapEntry>());
    return entry.getSubEntries();
  }
  List<CmsSitemapEntry> subEntries=sitemap.getSiteEntries();
  entry.setSubEntries(subEntries);
  return subEntries;
}
