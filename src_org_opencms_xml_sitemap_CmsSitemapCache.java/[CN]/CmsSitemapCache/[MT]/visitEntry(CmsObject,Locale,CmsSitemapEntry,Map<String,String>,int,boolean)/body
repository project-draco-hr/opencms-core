{
  entry.setRuntimeInfo(properties,entryPos);
  Map<CmsUUID,CmsSitemapEntry> byId=online ? m_byIdOnline : m_byIdOffline;
  Map<String,CmsSitemapEntry> byPath=online ? m_byUriOnline : m_byUriOffline;
  byId.put(entry.getId(),entry);
  byPath.put(locale.toString() + entry.getRootPath(),entry);
  properties.putAll(entry.getProperties());
  List<CmsSitemapEntry> subEntries=getSubEntries(cms,entry);
  if (properties.get(CmsSitemapManager.Property.sitemap.name()) != null) {
    properties.remove(CmsSitemapManager.Property.sitemap.name());
  }
  int size=subEntries.size();
  for (int position=0; position < size; position++) {
    CmsSitemapEntry child=subEntries.get(position);
    visitEntry(cms,locale,child,properties,position,online);
  }
}
