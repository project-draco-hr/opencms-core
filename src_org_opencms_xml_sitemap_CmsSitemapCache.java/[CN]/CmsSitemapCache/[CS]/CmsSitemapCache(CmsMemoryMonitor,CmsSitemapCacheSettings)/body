{
  Map<String,CmsXmlSitemap> lruMapDocs=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getDocumentOfflineSize());
  m_documentsOffline=Collections.synchronizedMap(lruMapDocs);
  memMonitor.register(CmsSitemapCache.class.getName() + ".sitemapDocsOffline",lruMapDocs);
  lruMapDocs=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getDocumentOnlineSize());
  m_documentsOnline=Collections.synchronizedMap(lruMapDocs);
  memMonitor.register(CmsSitemapCache.class.getName() + ".sitemapDocsOnline",lruMapDocs);
  Map<String,CmsFile> lruMapFiles=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getFileOfflineSize());
  m_sitemapsOffline=Collections.synchronizedMap(lruMapFiles);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".sitemapFilesOffline",lruMapFiles);
  lruMapFiles=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getFileOnlineSize());
  m_sitemapsOnline=Collections.synchronizedMap(lruMapFiles);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".sitemapFilesOnline",lruMapFiles);
  Map<String,CmsSiteEntryBean> lruMapUri=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getUriOfflineSize());
  m_urisOffline=Collections.synchronizedMap(lruMapUri);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".urisOffline",lruMapUri);
  lruMapUri=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getUriOnlineSize());
  m_urisOnline=Collections.synchronizedMap(lruMapUri);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".urisOnline",lruMapUri);
  Map<String,Boolean> lruMapMissed=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getMissingUriOfflineSize());
  m_missingUrisOffline=Collections.synchronizedMap(lruMapMissed);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".missingUrisOffline",lruMapMissed);
  lruMapMissed=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getMissingUriOnlineSize());
  m_missingUrisOnline=Collections.synchronizedMap(lruMapMissed);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".missingUrisOnline",lruMapMissed);
  Map<String,Map<String,String>> lruMapProperties=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getPropertyOfflineSize());
  m_searchPropsOffline=Collections.synchronizedMap(lruMapProperties);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".searchPropsOffline",lruMapProperties);
  lruMapProperties=CmsCollectionsGenericWrapper.createLRUMap(cacheSettings.getPropertyOnlineSize());
  m_searchPropsOnline=Collections.synchronizedMap(lruMapProperties);
  memMonitor.register(CmsSitemapResourceHandler.class.getName() + ".searchPropsOnline",lruMapProperties);
  OpenCms.addCmsEventListener(this,new int[]{I_CmsEventListener.EVENT_RESOURCE_AND_PROPERTIES_MODIFIED,I_CmsEventListener.EVENT_RESOURCES_AND_PROPERTIES_MODIFIED,I_CmsEventListener.EVENT_RESOURCE_MODIFIED,I_CmsEventListener.EVENT_RESOURCES_MODIFIED,I_CmsEventListener.EVENT_RESOURCE_DELETED,I_CmsEventListener.EVENT_PUBLISH_PROJECT,I_CmsEventListener.EVENT_CLEAR_CACHES,I_CmsEventListener.EVENT_CLEAR_ONLINE_CACHES,I_CmsEventListener.EVENT_CLEAR_OFFLINE_CACHES});
}
