{
  String schemaUri="http://www.opencms.org/test.xsd";
  CmsXmlContentDefinition cd1=new CmsXmlContentDefinition("Article",schemaUri);
  cd1.addType(new CmsXmlStringValue("Author"));
  cd1.addType(new CmsXmlStringValue("Teaser"));
  cd1.addType(new CmsXmlStringValue("Text"));
  cd1.addType(new CmsXmlDateTimeValue("Date"));
  cd1.addType(new CmsXmlStringValue("Option",0,1));
  CmsXmlEntityResolver.cacheSystemId(schemaUri,cd1.getSchema().asXML().getBytes("UTF-8"));
  CmsXmlEntityResolver resolver=new CmsXmlEntityResolver(null);
  Locale locale=Locale.ENGLISH;
  CmsXmlContent content=new CmsXmlContent(cd1,locale,"UTF-8");
  content.validateXmlStructure(resolver);
  cd1.addType(new CmsXmlStringValue("Kaputt"));
  CmsXmlEntityResolver.cacheSystemId(schemaUri,cd1.getSchema().asXML().getBytes("UTF-8"));
  try {
    content.validateXmlStructure(resolver);
    fail("Validation wrongly works with modified cd");
  }
 catch (  CmsXmlException e) {
  }
  System.out.println(content.toString());
}
