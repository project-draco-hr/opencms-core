{
  I_CmsJspDeviceSelector selector=OpenCms.getSystemInfo().getDeviceSelector();
  String deviceType=selector.getDeviceType(request);
  Map<String,CmsTemplateContext> contextMap=getContextMap();
  if (deviceType.equals(CmsJspDeviceSelectorDesktopMobileTablet.C_MOBILE)) {
    return contextMap.get("mobile");
  }
 else   if (deviceType.equals(CmsJspDeviceSelectorDesktopMobileTablet.C_TABLET)) {
    return contextMap.get("tablet");
  }
 else {
    return contextMap.get("desktop");
  }
}
