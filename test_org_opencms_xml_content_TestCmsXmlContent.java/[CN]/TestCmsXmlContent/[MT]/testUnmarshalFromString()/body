{
  CmsXmlEntityResolver resolver=new CmsXmlEntityResolver(null);
  String content;
  content=CmsFileUtil.readFile("org/opencms/xml/content/xmlcontent-definition-1.xsd",CmsEncoder.C_UTF8_ENCODING);
  CmsXmlContentDefinition definition=CmsXmlContentDefinition.unmarshal(content,C_SCHEMA_SYSTEM_ID_1,resolver);
  content=CmsFileUtil.readFile("org/opencms/xml/content/xmlcontent-1.xml",CmsEncoder.C_UTF8_ENCODING);
  CmsXmlEntityResolver.cacheSystemId(C_SCHEMA_SYSTEM_ID_1,definition.getSchema().asXML().getBytes(CmsEncoder.C_UTF8_ENCODING));
  CmsXmlContent xmlcontent=CmsXmlContentFactory.unmarshal(content,CmsEncoder.C_UTF8_ENCODING,resolver);
  assertTrue(xmlcontent.hasValue("String",Locale.ENGLISH));
  assertTrue(xmlcontent.hasValue("DateTime",Locale.ENGLISH));
  assertTrue(xmlcontent.hasValue("Html",Locale.ENGLISH));
  assertTrue(xmlcontent.hasValue("Locale",Locale.ENGLISH));
  assertSame(definition.getContentHandler().getClass().getName(),CmsDefaultXmlContentHandler.class.getName());
  CmsXmlStringValue stringValue=(CmsXmlStringValue)xmlcontent.getValue("String",Locale.ENGLISH);
  CmsXmlDateTimeValue dateTimeValue=(CmsXmlDateTimeValue)xmlcontent.getValue("DateTime",Locale.ENGLISH);
  CmsXmlHtmlValue htmlValue=(CmsXmlHtmlValue)xmlcontent.getValue("Html",Locale.ENGLISH);
  CmsXmlLocaleValue localeValue=(CmsXmlLocaleValue)xmlcontent.getValue("Locale",Locale.ENGLISH);
  assertEquals("Multitest 1",stringValue.getStringValue(null,xmlcontent));
  assertEquals("-58254180000",dateTimeValue.getStringValue(null,xmlcontent));
  assertEquals("<p>This is some Html</p>",htmlValue.getStringValue(null,xmlcontent));
  assertEquals("en_EN",localeValue.getStringValue(null,xmlcontent));
}
