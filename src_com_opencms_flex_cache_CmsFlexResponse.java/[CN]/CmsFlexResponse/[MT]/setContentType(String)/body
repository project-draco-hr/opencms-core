{
  if (DEBUG)   System.err.println("FlexResponse: setContentType(" + type + ") called");
  if (type != null) {
    type=type.toLowerCase();
    int i=type.indexOf("charset");
    if (type.startsWith("text") && (i > 0)) {
      StringBuffer buf=new StringBuffer();
      buf.append(type.substring(0,i));
      buf.append("charset=");
      buf.append(m_encoding);
      type=new String(buf);
      if (DEBUG)       System.err.println("FlexResponse: setContentType() changed type to " + type);
    }
  }
  m_res.setContentType(type);
}
