{
  super();
  CmsXmlWpConfigFile configFile=new CmsXmlWpConfigFile(cms);
  String languagePath=configFile.getLanguagePath();
  String currentLanguage=null;
  Hashtable startSettings=null;
  startSettings=(Hashtable)cms.getRequestContext().currentUser().getAdditionalInfo(C_ADDITIONAL_INFO_STARTSETTINGS);
  if (startSettings != null) {
    currentLanguage=(String)startSettings.get(C_START_LANGUAGE);
  }
  if (currentLanguage == null) {
    currentLanguage=C_DEFAULT_LANGUAGE;
  }
  CmsFile languageFile=null;
  try {
    languageFile=cms.readFile(languagePath + currentLanguage);
  }
 catch (  Exception e) {
    e.printStackTrace();
    throwException("Could not load language file " + languagePath + currentLanguage+ ".",CmsException.C_NOT_FOUND);
  }
  init(cms,languageFile);
}
