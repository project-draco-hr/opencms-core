{
  StringBuffer retValue=new StringBuffer(256);
  boolean isFolder=false;
  try {
    CmsResource curRes=getCms().readFileHeader(getParamResource());
    if (curRes.isFolder()) {
      isFolder=true;
    }
  }
 catch (  CmsException e) {
  }
  String checkedAttr=" checked=\"checked\"";
  if (isFolder) {
    int defaultMode=getSettings().getUserSettings().getDialogCopyFolderMode();
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + I_CmsConstants.C_COPY_AS_SIBLING + "\"");
    if (defaultMode == I_CmsConstants.C_COPY_AS_SIBLING) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(getSettings().getMessages().key("messagebox.option.folder.assibling.copy") + "<br>\n");
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + I_CmsConstants.C_COPY_PRESERVE_SIBLING + "\"");
    if (defaultMode == I_CmsConstants.C_COPY_PRESERVE_SIBLING) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(getSettings().getMessages().key("messagebox.option.folder.preserve.copy") + "<br>\n");
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + I_CmsConstants.C_COPY_AS_NEW + "\"");
    if (defaultMode == I_CmsConstants.C_COPY_AS_NEW) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(getSettings().getMessages().key("messagebox.option.folder.asnewresource.copy") + "<br>\n");
  }
 else {
    int defaultMode=getSettings().getUserSettings().getDialogCopyFileMode();
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + I_CmsConstants.C_COPY_AS_SIBLING + "\"");
    if (defaultMode == I_CmsConstants.C_COPY_AS_SIBLING) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(getSettings().getMessages().key("messagebox.option.file.assibling.copy") + "<br>\n");
    retValue.append("<input type=\"radio\" name=\"copymode\" value=\"" + I_CmsConstants.C_COPY_AS_NEW + "\"");
    if (defaultMode == I_CmsConstants.C_COPY_AS_NEW) {
      retValue.append(checkedAttr);
    }
    retValue.append("> ");
    retValue.append(getSettings().getMessages().key("messagebox.option.file.asnewresource.copy") + "<br>\n");
  }
  return retValue.toString();
}
