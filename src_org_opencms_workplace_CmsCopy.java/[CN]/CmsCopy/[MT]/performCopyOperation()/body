{
  boolean isFolder=CmsResource.isFolder(getParamFile());
  if (isFolder && !DIALOG_WAIT.equals(getParamAction())) {
    return false;
  }
  String target=getParamTarget();
  if (target == null)   target="";
  if ((!isFolder) && CmsResource.isFolder(target)) {
    target=target + CmsResource.getName(getParamFile());
  }
  if (!target.startsWith("/")) {
    if (isFolder) {
      target=CmsResource.getParent(getParamFile()) + target;
    }
 else {
      target=CmsResource.getPath(getParamFile()) + target;
    }
  }
  setParamTarget(target);
  if (DIALOG_CONFIRMED.equals(getParamAction())) {
    getCms().deleteResource(target);
  }
  getCms().copyResource(getParamFile(),target,"true".equals(getParamKeeprights()));
  return true;
}
