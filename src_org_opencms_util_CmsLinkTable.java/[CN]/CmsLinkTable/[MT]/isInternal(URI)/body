{
  String context=OpenCms.getOpenCmsContext();
  int pos=context.indexOf("/",1);
  String webapp=(pos > 0) ? context.substring(0,pos) : context;
  if (targetURI.isOpaque()) {
    return false;
  }
  if (targetURI.isAbsolute()) {
    return OpenCms.getSiteManager().isMatching(new CmsSiteMatcher(targetURI.toString())) || targetURI.getPath().startsWith(context);
  }
  if (targetURI.getPath().startsWith(context)) {
    return true;
  }
  if (targetURI.getPath().startsWith(webapp)) {
    return false;
  }
  return true;
}
