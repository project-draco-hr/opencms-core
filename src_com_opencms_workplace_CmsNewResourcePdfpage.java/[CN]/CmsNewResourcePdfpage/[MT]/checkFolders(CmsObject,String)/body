{
  String completePath=C_VFS_PATH_BODIES;
  StringTokenizer t=new StringTokenizer(path,"/");
  while (t.hasMoreTokens()) {
    String foldername=t.nextToken();
    try {
      cms.readFolder(completePath + foldername + "/");
    }
 catch (    CmsException e) {
      String orgFolder=completePath + foldername + "/";
      orgFolder=orgFolder.substring(C_VFS_PATH_BODIES.length() - 1);
      CmsFolder newfolder=(CmsFolder)cms.createResource(completePath,foldername,C_TYPE_FOLDER_NAME);
      CmsFolder folder=cms.readFolder(orgFolder);
      cms.lockResource(newfolder.getAbsolutePath());
      cms.chown(newfolder.getAbsolutePath(),cms.readOwner(folder).getName());
      cms.chgrp(newfolder.getAbsolutePath(),cms.readGroup(folder).getName());
      cms.chmod(newfolder.getAbsolutePath(),folder.getAccessFlags());
      cms.unlockResource(newfolder.getAbsolutePath());
    }
    completePath+=foldername + "/";
  }
}
