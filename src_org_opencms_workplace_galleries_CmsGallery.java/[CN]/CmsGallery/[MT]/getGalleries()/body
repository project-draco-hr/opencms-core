{
  List galleries=null;
  int galleryTypeId=getGalleryTypeId();
  try {
    galleries=getCms().readResources(I_CmsConstants.C_ROOT,CmsResourceFilter.ONLY_VISIBLE_NO_DELETED.addRequireType(galleryTypeId));
  }
 catch (  CmsException e) {
    if (OpenCms.getLog(this).isErrorEnabled()) {
      OpenCms.getLog(this).error(e);
    }
  }
  List systemGalleries=null;
  try {
    systemGalleries=getCms().readResources(I_CmsWpConstants.C_VFS_PATH_SYSTEM,CmsResourceFilter.ONLY_VISIBLE_NO_DELETED.addRequireType(galleryTypeId));
  }
 catch (  CmsException e) {
    if (OpenCms.getLog(this).isErrorEnabled()) {
      OpenCms.getLog(this).error(e);
    }
  }
  if (systemGalleries != null && systemGalleries.size() > 0) {
    galleries.addAll(systemGalleries);
  }
  return galleries;
}
