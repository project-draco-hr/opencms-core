{
  String typeName=type.getTypeName();
  CmsExplorerTypeSettings settings=OpenCms.getWorkplaceManager().getExplorerTypeSetting(typeName);
  if (settings == null) {
    return;
  }
  if (settings.getBigIcon() != null) {
    CmsIconCssRuleBuilder css=new CmsIconCssRuleBuilder();
    css.setImageUri(getIconUri(settings.getBigIcon()));
    css.addSelectorForType(typeName,false);
    css.writeCss(m_buffer);
    CmsIconCssRuleBuilder cssSmall=new CmsIconCssRuleBuilder();
    cssSmall.setImageUri(getIconUri(settings.getIcon()));
    cssSmall.addSelectorForType(typeName,true);
    cssSmall.writeCss(m_buffer);
  }
 else   if (settings.getOriginalIcon() != null) {
    CmsIconCssRuleBuilder css=new CmsIconCssRuleBuilder();
    css.setImageUri(getIconUri(settings.getIcon()));
    css.addSelectorForType(typeName,true);
    css.addSelectorForType(typeName,false);
    css.writeCss(m_buffer);
  }
 else {
    CmsIconCssRuleBuilder css=new CmsIconCssRuleBuilder();
    css.setImageUri(getIconUri(CmsExplorerTypeSettings.DEFAULT_BIG_ICON));
    css.addSelectorForType(typeName,false);
    css.writeCss(m_buffer);
    CmsIconCssRuleBuilder cssSmall=new CmsIconCssRuleBuilder();
    cssSmall.setImageUri(getIconUri(CmsExplorerTypeSettings.DEFAULT_NORMAL_ICON));
    cssSmall.addSelectorForType(typeName,true);
    cssSmall.writeCss(m_buffer);
  }
  Map<String,CmsIconRule> iconRules=settings.getIconRules();
  for (  Map.Entry<String,CmsIconRule> entry : iconRules.entrySet()) {
    CmsIconRule rule=entry.getValue();
    addCssForIconRule(typeName,rule);
  }
}
