{
  I_CmsSession session=cms.getRequestContext().getSession(true);
  Vector result=new Vector();
  String sortlist=(String)session.getValue("searchengineSort");
  if (sortlist == null) {
    sortlist="";
  }
  try {
    Class c=Class.forName((String)parameters.get("searchengineContentDefinition"));
    Method m=c.getMethod("setParameter",new Class[]{String.class,CmsObject.class});
    result=(Vector)m.invoke(null,new Object[]{"sort",cms});
  }
 catch (  ClassNotFoundException e) {
    System.err.println(e.toString());
  }
catch (  ClassCastException e) {
    System.err.println(e.toString());
  }
catch (  IllegalAccessException e) {
    System.err.println(e.toString());
  }
catch (  InvocationTargetException e) {
    System.err.println(e.toString());
  }
catch (  NoSuchMethodException e) {
    System.err.println(e.toString());
  }
catch (  Exception e) {
    System.err.println(e.toString());
  }
  int index=0;
  for (int i=0; i < result.size(); i+=2) {
    values.addElement(String.valueOf(result.elementAt(i)));
    names.addElement(String.valueOf(result.elementAt(i + 1)));
  }
  for (int i=1; i < result.size(); i+=2) {
    if (sortlist.equals(String.valueOf(result.elementAt(i - 1)))) {
      index=i / 2;
    }
  }
  return new Integer(index);
}
