{
  PreparedStatement stmt=null;
  PreparedStatement stmt2=null;
  ResultSet res=null;
  Connection conn=null;
  Connection conn2=null;
  CmsUUID masterId=dataset.m_masterId;
  try {
    stmt=null;
    conn=m_sqlManager.getConnection();
    stmt=m_sqlManager.getPreparedStatement(conn,"insert_online");
    dataset.m_projectId=CmsProject.ONLINE_PROJECT_ID;
    dataset.m_lockedInProject=CmsProject.ONLINE_PROJECT_ID;
    dataset.m_state=CmsResource.STATE_UNCHANGED;
    dataset.m_lockedBy=CmsUUID.getNullUUID();
    sqlFillValues(stmt,subId,dataset);
    stmt.executeUpdate();
  }
 catch (  SQLException exc) {
    throw new CmsLegacyException(CmsLegacyException.C_SQL_ERROR,exc);
  }
 finally {
    m_sqlManager.closeAll(null,conn,stmt,null);
  }
  try {
    stmt=null;
    res=null;
    conn=null;
    conn=m_sqlManager.getConnection();
    stmt=m_sqlManager.getPreparedStatement(conn,"read_media_offline");
    stmt.setString(1,masterId.toString());
    res=stmt.executeQuery();
    while (res.next()) {
      int i=1;
      CmsMasterMedia mediaset=new CmsMasterMedia(res.getInt(i++),new CmsUUID(res.getString(i++)),res.getInt(i++),res.getInt(i++),res.getInt(i++),res.getInt(i++),res.getString(i++),res.getInt(i++),res.getString(i++),res.getString(i++),res.getString(i++),res.getBytes(i++));
      try {
        stmt2=null;
        conn2=null;
        conn2=m_sqlManager.getConnection();
        stmt2=m_sqlManager.getPreparedStatement(conn2,"insert_media_online");
        sqlFillValues(stmt2,mediaset);
        stmt2.executeUpdate();
      }
 catch (      SQLException ex) {
        throw ex;
      }
 finally {
        m_sqlManager.closeAll(null,conn2,stmt2,null);
      }
    }
  }
 catch (  SQLException exc) {
    throw new CmsLegacyException(CmsLegacyException.C_SQL_ERROR,exc);
  }
 finally {
    m_sqlManager.closeAll(null,conn,stmt,res);
  }
  try {
    stmt=null;
    res=null;
    conn=null;
    conn=m_sqlManager.getConnection();
    stmt=m_sqlManager.getPreparedStatement(conn,"read_channel_offline");
    stmt.setString(1,masterId.toString());
    res=stmt.executeQuery();
    while (res.next()) {
      try {
        stmt2=null;
        conn2=null;
        conn2=m_sqlManager.getConnection();
        stmt2=m_sqlManager.getPreparedStatement(conn2,"insert_channel_online");
        stmt2.setString(1,masterId.toString());
        stmt2.setString(2,res.getString(1));
        stmt2.setString(3,res.getString(2));
        stmt2.executeUpdate();
      }
 catch (      SQLException ex) {
        throw ex;
      }
 finally {
        m_sqlManager.closeAll(null,conn2,stmt2,null);
      }
    }
  }
 catch (  SQLException exc) {
    throw new CmsLegacyException(CmsLegacyException.C_SQL_ERROR,exc);
  }
 finally {
    m_sqlManager.closeAll(null,conn,stmt,res);
  }
}
