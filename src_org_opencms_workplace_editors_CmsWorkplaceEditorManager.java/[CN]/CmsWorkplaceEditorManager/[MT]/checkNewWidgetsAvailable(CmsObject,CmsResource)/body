{
  if (resource == null) {
    try {
      throw new Exception();
    }
 catch (    Exception e) {
      LOG.error("Can't check widget availability because resource is null!",e);
    }
    return false;
  }
  CmsFile file=(resource instanceof CmsFile) ? (CmsFile)resource : cms.readFile(resource);
  CmsXmlContent content=CmsXmlContentFactory.unmarshal(cms,file);
  CmsContentTypeVisitor visitor=new CmsContentTypeVisitor(cms,file,cms.getRequestContext().getLocale());
  visitor.visitTypes(content.getContentDefinition(),Locale.ENGLISH);
  if (visitor.hasNonAdeWidgets()) {
    for (    String nonAdeWidget : visitor.getNonAdeWidgets()) {
      LOG.warn("Non-ADE-compatible widget: " + nonAdeWidget);
    }
    return false;
  }
 else {
    return true;
  }
}
