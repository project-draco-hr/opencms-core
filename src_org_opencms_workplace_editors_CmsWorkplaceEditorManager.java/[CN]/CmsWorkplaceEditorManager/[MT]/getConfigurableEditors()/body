{
  Map configurableEditors=new HashMap();
  Iterator i=m_editorConfigurations.iterator();
  while (i.hasNext()) {
    CmsWorkplaceEditorConfiguration currentConfig=(CmsWorkplaceEditorConfiguration)i.next();
    Iterator k=currentConfig.getResourceTypes().keySet().iterator();
    while (k.hasNext()) {
      String key=(String)k.next();
      CmsExplorerTypeSettings settings=OpenCms.getWorkplaceManager().getExplorerTypeSetting(key);
      if (CmsStringUtil.isNotEmpty(settings.getReference())) {
        continue;
      }
      if (currentConfig.getMappingForResourceType(key) == null) {
        SortedMap editorConfigs=(SortedMap)configurableEditors.get(key);
        if (editorConfigs == null) {
          editorConfigs=new TreeMap();
        }
        editorConfigs.put(new Float(currentConfig.getRankingForResourceType(key)),currentConfig);
        configurableEditors.put(key,editorConfigs);
      }
    }
  }
  return configurableEditors;
}
