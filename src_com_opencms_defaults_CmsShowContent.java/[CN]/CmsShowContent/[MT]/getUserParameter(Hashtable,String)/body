{
  String userparameter="";
  String parameterName=null;
  String parameterValue=null;
  if (tagcontent != null) {
    int index=tagcontent.indexOf(",");
    if (index != -1) {
      parameterName=tagcontent.substring(0,index);
      if (!(parameterName.startsWith(C_FILTER_PARAMETERS_START))) {
        throw new CmsException("The filterparameter has to be \"" + C_FILTER_PARAMETERS_START + "N\" where 0 <= N <= 9.");
      }
      parameterValue=(String)parameters.get(parameterName);
      if (parameterValue != null) {
        userparameter=parameterValue;
      }
 else       if (tagcontent.length() > index + 1) {
        userparameter=tagcontent.substring(index + 1);
      }
    }
 else {
      return tagcontent;
    }
  }
  return userparameter;
}
