{
  javax.servlet.ServletRequest req=pageContext.getRequest();
  javax.servlet.ServletResponse res=pageContext.getResponse();
  if ((req instanceof com.opencms.flex.cache.CmsFlexRequest) && (res instanceof com.opencms.flex.cache.CmsFlexResponse)) {
    com.opencms.flex.cache.CmsFlexRequest c_req=(com.opencms.flex.cache.CmsFlexRequest)req;
    com.opencms.flex.cache.CmsFlexResponse c_res=(com.opencms.flex.cache.CmsFlexResponse)res;
    String target=null;
    java.util.Map oldParamterMap=null;
    if (m_parameterMap != null) {
      oldParamterMap=c_req.getParameterMap();
      Iterator i=m_parameterMap.keySet().iterator();
      c_req.addParameterMap(m_parameterMap);
    }
    if (m_target != null) {
      target=m_target;
    }
 else     if (m_property != null) {
      try {
        String prop=CmsPropertyLookup.lookupProperty(c_req.getCmsObject(),c_req.getCmsRequestedResource(),m_property,true);
        target=prop + getSuffix();
      }
 catch (      Exception e) {
      }
    }
 else     if (m_attribute != null) {
      try {
        String attr=(String)c_req.getAttribute(m_attribute);
        if (attr != null)         target=attr + getSuffix();
      }
 catch (      Exception e) {
      }
    }
 else {
      String body=null;
      if (getBodyContent() != null) {
        body=getBodyContent().getString();
        if ((body != null) && (!"".equals(body.trim()))) {
          target=body;
        }
      }
    }
    if (target == null) {
      throw new JspException("CmsJspIncludeTag: No target specified!");
    }
    try {
      javax.servlet.jsp.JspWriter out=pageContext.getOut();
      out.print((char)com.opencms.flex.cache.CmsFlexResponse.C_FLEX_CACHE_DELIMITER);
      c_res.addToIncludeList(target,m_parameterMap);
      c_req.getCmsRequestDispatcher(target).include(c_req,c_res);
    }
 catch (    javax.servlet.ServletException e) {
      if (DEBUG)       System.err.println("JspTagInclude: ServletException in Jsp 'include' tag processing: " + e);
      if (DEBUG)       System.err.println(com.opencms.util.Utils.getStackTrace(e));
      throw new JspException(e);
    }
catch (    java.io.IOException e) {
      if (DEBUG)       System.err.println("JspTagInclude: IOException in Jsp 'include' tag processing: " + e);
      if (DEBUG)       System.err.println(com.opencms.util.Utils.getStackTrace(e));
      throw new JspException(e);
    }
 finally {
      if (oldParamterMap != null)       c_req.setParameterMap(oldParamterMap);
    }
  }
  return EVAL_PAGE;
}
