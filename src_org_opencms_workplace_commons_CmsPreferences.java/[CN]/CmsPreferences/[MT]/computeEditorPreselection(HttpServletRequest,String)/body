{
  String preSelection=request.getParameter(PARAM_PREFERREDEDITOR_PREFIX + resourceType);
  if (preSelection != null && !"".equals(preSelection.trim())) {
    return CmsEncoder.decode(preSelection);
  }
 else {
    CmsUserSettings userSettings=new CmsUserSettings(getCms(),getSettings().getUser());
    return userSettings.getPreferredEditor(resourceType);
  }
}
