{
  List locales=OpenCms.getWorkplaceManager().getLocales();
  List options=new ArrayList(locales.size());
  List values=new ArrayList(locales.size());
  int checkedIndex=0;
  int counter=0;
  Iterator i=locales.iterator();
  Locale setLocale=getSettings().getUserSettings().getLocale();
  while (i.hasNext()) {
    Locale currentLocale=(Locale)i.next();
    String language=currentLocale.getDisplayLanguage(setLocale);
    if (CmsStringUtil.isNotEmpty(currentLocale.getCountry())) {
      language=language + " (" + currentLocale.getDisplayCountry(setLocale)+ ")";
    }
    options.add(language);
    values.add(currentLocale.toString());
    if (getParamTabWpLanguage().equals(currentLocale.toString())) {
      checkedIndex=counter;
    }
    counter++;
  }
  return buildSelect(htmlAttributes,options,values,checkedIndex);
}
