{
  try {
    List allProjects=getCms().getAllAccessibleProjects();
    List options=new ArrayList(allProjects.size());
    List values=new ArrayList(allProjects.size());
    int checkedIndex=0;
    String startProject="";
    startProject=getParamTabWpProject();
    for (int i=0, n=allProjects.size(); i < n; i++) {
      CmsProject project=(CmsProject)allProjects.get(i);
      options.add(project.getName());
      values.add(project.getName());
      if (startProject.equals(project.getName())) {
        checkedIndex=i;
      }
    }
    return buildSelect(htmlAttributes,options,values,checkedIndex);
  }
 catch (  CmsException e) {
    LOG.error(e.getLocalizedMessage());
    return getSettings().getProject() + "";
  }
}
