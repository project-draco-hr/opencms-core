{
  CmsResource importedResource=null;
  boolean changed=true;
  try {
    importedResource=cms.doImportResource(resource,content,properties,destination);
    changed=(importedResource == null);
  }
 catch (  CmsException e) {
  }
  if (changed) {
    lockResource(cms,destination,true);
    resource.setDateLastModified(resource.getDateLastModified());
    cms.doWriteResource(resource,properties,content);
    cms.touch(destination,resource.getDateLastModified(),false);
    importedResource=cms.readFileHeader(destination);
  }
  return importedResource;
}
