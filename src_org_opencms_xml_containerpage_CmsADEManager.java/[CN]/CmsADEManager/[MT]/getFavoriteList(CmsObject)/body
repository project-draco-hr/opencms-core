{
  CmsUser user=cms.getRequestContext().currentUser();
  List<I_CmsContainerElementBean> favList=null;
  try {
    favList=CmsCollectionsGenericWrapper.list(user.getAdditionalInfo(ADDINFO_ADE_FAVORITE_LIST));
    if ((favList != null) && !favList.isEmpty()) {
      if (!(favList.get(0) instanceof I_CmsContainerElementBean)) {
        favList=null;
      }
    }
  }
 catch (  Throwable e) {
    LOG.warn(e.getLocalizedMessage(),e);
  }
  if (favList == null) {
    favList=new ArrayList<I_CmsContainerElementBean>();
    saveFavoriteList(cms,favList);
  }
  return favList;
}
