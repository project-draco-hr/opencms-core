{
  String schema=m_document.getRootElement().attributeValue(I_CmsXmlSchemaType.XSI_NAMESPACE_ATTRIBUTE_NO_SCHEMA_LOCATION);
  if (schema == null) {
    throw new RuntimeException("No XML schema set for content definition");
  }
  CmsXmlContentDefinition result=null;
  CmsXmlEntityResolver cmsResolver=null;
  if (resolver instanceof CmsXmlEntityResolver) {
    cmsResolver=(CmsXmlEntityResolver)resolver;
    result=cmsResolver.getCachedContentDefinition(schema);
  }
  if (result == null) {
    InputSource source;
    try {
      source=resolver.resolveEntity(null,schema);
      result=CmsXmlContentDefinition.unmarshal(source,schema,resolver);
      if (cmsResolver != null) {
        cmsResolver.cacheContentDefinition(schema,result);
      }
    }
 catch (    SAXException e) {
      throw new RuntimeException("Could not parse XML content definition schema",e);
    }
catch (    IOException e) {
      throw new RuntimeException("IO error resolving XML content definition schema",e);
    }
catch (    CmsXmlException e) {
      throw new RuntimeException("Unable to unmarshal XML content definition schema",e);
    }
  }
  return result;
}
