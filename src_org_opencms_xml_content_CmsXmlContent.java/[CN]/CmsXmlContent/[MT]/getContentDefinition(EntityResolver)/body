{
  String schema=m_document.getRootElement().attributeValue(I_CmsXmlSchemaType.XSI_NAMESPACE_ATTRIBUTE_NO_SCHEMA_LOCATION);
  if (schema == null) {
    throw new CmsRuntimeException(Messages.get().container(Messages.ERR_XMLCONTENT_MISSING_SCHEMA_0));
  }
  CmsXmlContentDefinition result=null;
  CmsXmlEntityResolver cmsResolver=null;
  if (resolver instanceof CmsXmlEntityResolver) {
    cmsResolver=(CmsXmlEntityResolver)resolver;
    result=cmsResolver.getCachedContentDefinition(schema);
  }
  if (result == null) {
    InputSource source;
    try {
      source=resolver.resolveEntity(null,schema);
      result=CmsXmlContentDefinition.unmarshal(source,schema,resolver);
      if (cmsResolver != null) {
        cmsResolver.cacheContentDefinition(schema,result);
      }
    }
 catch (    SAXException e) {
      throw new CmsRuntimeException(Messages.get().container(Messages.ERR_XML_SCHEMA_PARSE_0),e);
    }
catch (    IOException e) {
      throw new CmsRuntimeException(Messages.get().container(Messages.ERR_XML_SCHEMA_IO_0),e);
    }
catch (    CmsXmlException e) {
      throw new CmsRuntimeException(Messages.get().container(Messages.ERR_XMLCONTENT_UNMARSHAL_0),e);
    }
  }
  return result;
}
