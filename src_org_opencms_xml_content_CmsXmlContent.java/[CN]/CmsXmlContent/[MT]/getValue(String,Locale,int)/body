{
  I_CmsXmlContentValue result=super.getValue(CmsXmlUtils.removeXpathIndex(path),locale,index);
  if (((result == null) || result.isChoiceOption()) && CmsXmlUtils.isDeepXpath(path)) {
    String parentPath=CmsXmlUtils.removeLastXpathElement(path);
    I_CmsXmlContentValue v2=super.getValue(parentPath,locale);
    if ((v2 != null) && v2.isChoiceType()) {
      List<I_CmsXmlContentValue> values=getSubValues(parentPath,locale);
      if (index < values.size()) {
        I_CmsXmlContentValue v3=values.get(index);
        if (v3.getName().equals(CmsXmlUtils.getLastXpathElement(path))) {
          result=v3;
        }
      }
    }
  }
  return result;
}
