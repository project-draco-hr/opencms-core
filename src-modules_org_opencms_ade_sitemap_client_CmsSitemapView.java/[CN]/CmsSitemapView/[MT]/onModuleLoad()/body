{
  super.onModuleLoad();
  I_CmsLayoutBundle.INSTANCE.rootCss().ensureInjected();
  I_CmsLayoutBundle.INSTANCE.pageCss().ensureInjected();
  I_CmsImageBundle.INSTANCE.buttonCss().ensureInjected();
  RootPanel.getBodyElement().addClassName(I_CmsLayoutBundle.INSTANCE.rootCss().root());
  m_controller=new CmsSitemapController(this);
  CmsSitemapToolbarHandler handler=new CmsSitemapToolbarHandler(m_controller);
  CmsSitemapToolbar toolbar=new CmsSitemapToolbar(handler);
  m_controller.setToolbar(toolbar);
  RootPanel.get().add(toolbar);
  RootPanel.get().add(new CmsToolbarPlaceHolder());
  CmsHeader title=new CmsHeader(Messages.get().key(Messages.GUI_EDITOR_TITLE_0),CmsSitemapProvider.get().getUri());
  title.addStyleName(I_CmsLayoutBundle.INSTANCE.rootCss().pageCenter());
  RootPanel.get().add(title);
  final CmsPage page=new CmsPage();
  RootPanel.get().add(page);
  final Label loadingLabel=new Label(Messages.get().key(Messages.GUI_LOADING_0));
  page.add(loadingLabel);
  CmsRpcAction<CmsClientSitemapEntry> getRootAction=new CmsRpcAction<CmsClientSitemapEntry>(){
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
    @Override public void execute(){
      start(500);
      CmsSitemapProvider.getService().getRoot(CmsSitemapProvider.get().getUri(),this);
    }
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
    @Override public void onResponse(    CmsClientSitemapEntry root){
      page.remove(loadingLabel);
      m_controller.setRoot(root);
      m_tree=new CmsLazyTree<CmsSitemapTreeItem>(new A_CmsDeepLazyOpenHandler<CmsSitemapTreeItem>(){
        /** 
 * @see org.opencms.gwt.client.ui.tree.I_CmsLazyOpenHandler#load(org.opencms.gwt.client.ui.tree.CmsLazyTreeItem)
 */
        public void load(        final CmsSitemapTreeItem target){
          getChildren(target);
        }
      }
);
      CmsSitemapTreeItem rootItem=new CmsSitemapTreeItem(root,m_controller);
      m_tree.addItem(rootItem);
      page.add(m_tree);
      getChildren(rootItem);
      rootItem.setOpen(true);
      stop();
    }
  }
;
  getRootAction.execute();
}
