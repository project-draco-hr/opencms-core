{
  CmsClientSitemapEntry oldEntry=change.getOld();
  CmsClientSitemapEntry newEntry=change.getNew();
switch (change.getType()) {
case DELETE:
    CmsTreeItem deleteParent=getTreeItem(CmsResource.getParentFolder(oldEntry.getSitePath()));
  deleteParent.removeChild(oldEntry.getName());
break;
case EDIT:
CmsSitemapTreeItem editEntry=(CmsSitemapTreeItem)getTreeItem(oldEntry.getSitePath());
editEntry.setEntry(newEntry);
break;
case MOVE:
CmsTreeItem sourceParent=getTreeItem(CmsResource.getParentFolder(oldEntry.getSitePath()));
CmsTreeItem moved=sourceParent.removeChild(oldEntry.getName());
CmsTreeItem destParent=getTreeItem(CmsResource.getParentFolder(newEntry.getSitePath()));
destParent.insertChild(moved,change.getPosition());
break;
case NEW:
CmsTreeItem newParent=getTreeItem(CmsResource.getParentFolder(newEntry.getSitePath()));
newParent.addChild(new CmsSitemapTreeItem(newEntry));
break;
default :
}
}
