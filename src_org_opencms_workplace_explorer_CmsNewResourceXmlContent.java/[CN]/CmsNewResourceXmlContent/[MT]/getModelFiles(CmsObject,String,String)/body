{
  try {
    I_CmsResourceType resType=OpenCms.getResourceManager().getResourceType(newResourceTypeName);
    String schema=(String)resType.getConfiguration().get(CmsResourceTypeXmlContent.CONFIGURATION_SCHEMA);
    CmsXmlContentDefinition contentDefinition=CmsXmlContentDefinition.unmarshal(cms,schema);
    I_CmsXmlContentHandler handler=contentDefinition.getContentHandler();
    String masterFolder=handler.getModelFolder(cms,currentFolder);
    if (CmsStringUtil.isNotEmpty(masterFolder) && cms.existsResource(masterFolder)) {
      CmsResourceFilter filter=CmsResourceFilter.ONLY_VISIBLE.addRequireType(resType.getTypeId());
      return cms.readResources(masterFolder,filter,false);
    }
 else {
      return Collections.EMPTY_LIST;
    }
  }
 catch (  Throwable t) {
    return Collections.EMPTY_LIST;
  }
}
