{
  int versionId=0;
  Hashtable histproperties=cms.getRegistry().getSystemValues(C_REGISTRY_HISTORY);
  String weeks=(String)histproperties.get(C_REGISTRY_HISTORY_WEEKS);
  if ((weeks != null) && !("".equals(weeks.trim()))) {
    int intWeeks=Integer.parseInt(weeks);
    long oneWeek=604800000;
    long maxDate=System.currentTimeMillis() - (intWeeks * oneWeek);
    versionId=cms.deleteBackups(maxDate,intWeeks * 2);
  }
  return versionId;
}
