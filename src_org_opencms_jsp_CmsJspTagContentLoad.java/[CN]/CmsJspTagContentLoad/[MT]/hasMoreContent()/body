{
  if (m_isFirstLoop) {
    m_isFirstLoop=false;
  }
 else {
    if (m_directEditPermissions != null) {
      CmsJspTagEditable.includeDirectEditElement(pageContext,I_CmsEditorActionHandler.DIRECT_EDIT_AREA_END,m_resourceName,null,null,m_directEditPermissions,null);
      m_directEditPermissions=null;
    }
  }
  if (m_preload) {
    return false;
  }
  boolean hasMoreContent=m_collectorResult.size() > 0;
  if (hasMoreContent) {
    try {
      doLoadNextFile();
    }
 catch (    CmsException e) {
      m_controller.setThrowable(e,m_resourceName);
      throw new JspException(e);
    }
    if (m_editable && (m_resourceName != null)) {
      String directEditOptions;
      if (m_directEditFollowOptions == null) {
        if (m_directEditCreateLink == null) {
          directEditOptions=CmsJspTagEditable.createEditOptions(true,false,false);
          m_directEditFollowOptions=directEditOptions;
        }
 else {
          directEditOptions=CmsJspTagEditable.createEditOptions(true,true,true);
          m_directEditFollowOptions=CmsJspTagEditable.createEditOptions(true,true,false);
        }
      }
 else {
        directEditOptions=m_directEditFollowOptions;
      }
      m_directEditPermissions=CmsJspTagEditable.includeDirectEditElement(pageContext,I_CmsEditorActionHandler.DIRECT_EDIT_AREA_START,m_resourceName,null,directEditOptions,null,m_directEditCreateLink);
    }
  }
 else {
    m_locale=null;
  }
  return hasMoreContent;
}
