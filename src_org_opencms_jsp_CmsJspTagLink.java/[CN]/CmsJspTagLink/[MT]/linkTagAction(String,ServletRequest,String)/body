{
  CmsFlexController controller=CmsFlexController.getController(req);
  String uri=CmsLinkManager.getAbsoluteUri(target,controller.getCurrentRequest().getElementUri());
  CmsObject cms=controller.getCmsObject();
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(baseUri)) {
    try {
      cms=OpenCms.initCmsObject(cms);
      cms.getRequestContext().setUri(baseUri);
    }
 catch (    CmsException e) {
    }
  }
  return OpenCms.getLinkManager().substituteLinkForUnknownTarget(cms,uri);
}
