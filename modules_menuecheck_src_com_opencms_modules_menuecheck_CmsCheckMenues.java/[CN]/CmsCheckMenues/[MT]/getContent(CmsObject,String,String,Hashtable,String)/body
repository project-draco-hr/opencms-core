{
  if (I_CmsLogChannels.C_PREPROCESSOR_IS_LOGGING && A_OpenCms.isLogging() && C_DEBUG) {
    A_OpenCms.log(C_OPENCMS_DEBUG,this.getClassName() + "getting content of element " + ((elementName == null) ? "<root>" : elementName));
    A_OpenCms.log(C_OPENCMS_DEBUG,this.getClassName() + "template file is: " + templateFile);
    A_OpenCms.log(C_OPENCMS_DEBUG,this.getClassName() + "selected template section is: " + ((templateSelector == null) ? "<default>" : templateSelector));
  }
  CmsXmlWpTemplateFile xmlTemplateDocument=new CmsXmlWpTemplateFile(cms,templateFile);
  String initial=(String)parameters.get("initial");
  String res=(String)parameters.get("res");
  int resTypeInt=0;
  if (initial == null || "".equals(initial)) {
    xmlTemplateDocument.setData("onload","");
    try {
      resTypeInt=Integer.parseInt(res);
    }
 catch (    Exception e) {
    }
  }
 else {
    xmlTemplateDocument.setData("onload","window.top.body.admin_head.location.href='head.html';");
    resTypeInt=0;
  }
  xmlTemplateDocument.setData("resint","" + resTypeInt);
  xmlTemplateDocument.setData("resname",cms.getResourceType(resTypeInt).getResourceTypeName());
  return startProcessing(cms,xmlTemplateDocument,elementName,parameters,templateSelector);
}
