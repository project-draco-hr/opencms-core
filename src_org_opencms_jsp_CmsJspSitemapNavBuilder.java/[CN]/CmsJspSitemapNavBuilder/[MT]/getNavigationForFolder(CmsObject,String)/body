{
  folder=CmsResource.getFolderPath(folder);
  List<CmsJspNavElement> result=new ArrayList<CmsJspNavElement>();
  CmsSiteEntryBean folderEntry;
  try {
    folderEntry=CmsSitemapResourceHandler.getInstance().getUri(cms,folder);
  }
 catch (  CmsException e) {
    LOG.error(e.getLocalizedMessage(),e);
    return null;
  }
  int position=0;
  List<CmsSiteEntryBean> entries=folderEntry.getSubEntries();
  for (  CmsSiteEntryBean entry : entries) {
    try {
      cms.readResource(entry.getResourceId());
      entry.setPosition(position);
      CmsJspNavElement element=getNavigationForSiteEntry(folder + entry.getName(),entry);
      if ((element != null) && element.isInNavigation()) {
        result.add(element);
      }
    }
 catch (    Exception e) {
      LOG.debug(e.getLocalizedMessage(),e);
    }
    position++;
  }
  Collections.sort(result);
  return result;
}
