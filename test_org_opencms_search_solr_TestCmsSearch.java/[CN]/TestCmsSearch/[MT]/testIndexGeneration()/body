{
  CmsSolrIndex index=new CmsSolrIndex(INDEX_TEST);
  index.setProject("Offline");
  index.setLocale(Locale.GERMAN);
  index.setRebuildMode(A_CmsSearchIndex.REBUILD_MODE_AUTO);
  index.setFieldConfigurationName("solr_fields");
  index.addSourceName("source1");
  index.initialize();
  OpenCms.getSearchManager().addSearchIndex(index);
  I_CmsReport report=new CmsShellReport(Locale.ENGLISH);
  OpenCms.getSearchManager().rebuildAllIndexes(report);
  String query;
  List<CmsSearchResource> results;
  query="q=+text_en:SearchEgg1";
  results=index.search(getCmsObject(),query);
  assertEquals(1,results.size());
  assertEquals("/sites/default/xmlcontent/article_0001.html",results.get(0).getRootPath());
  query="q=+text_en:>>SearchEgg1<< +parent-folders:/folder1/";
  results=index.search(getCmsObject(),query);
  assertEquals(0,results.size());
}
