{
  if (folderName != null) {
    cms.createResource(folderName,CmsResourceTypeFolder.RESOURCE_TYPE_ID,null,null);
    cms.unlockResource(folderName);
    importTestResource(cms,"org/opencms/search/pdf-test-112.pdf",folderName + "master.pdf",CmsResourceTypeBinary.getStaticTypeId(),Collections.<CmsProperty>emptyList());
    I_CmsReport report=new CmsShellReport(cms.getRequestContext().getLocale());
    OpenCms.getSearchManager().rebuildIndex(SOLR_OFFLINE,report);
  }
  CmsSolrIndex index=OpenCms.getSearchManager().getIndexSolr(SOLR_OFFLINE);
  String query="q=+text_en:Testfile +text_en:Struktur";
  if (folderName != null) {
    query+=" +parent-folders:" + cms.getRequestContext().addSiteRoot(folderName);
  }
  CmsSolrResultList results=index.search(cms,query);
  printResultCount(results.getQueryResponse());
  printResults(results.getQueryResponse(),results,cms);
  assertEquals(expected,results.size());
}
