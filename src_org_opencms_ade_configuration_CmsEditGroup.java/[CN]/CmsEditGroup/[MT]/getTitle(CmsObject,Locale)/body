{
  String result="";
  try {
    CmsGallerySearchResult search=CmsGallerySearch.searchById(cms,m_resource.getStructureId(),locale);
    if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(search.getTitle())) {
      result=search.getTitle();
    }
 else {
      CmsProperty prop=cms.readPropertyObject(m_resource,CmsPropertyDefinition.PROPERTY_TITLE,false);
      result=prop.getValue();
    }
  }
 catch (  CmsException e) {
    LOG.error(e.getLocalizedMessage(),e);
  }
  return result;
}
