{
  Object o=null;
  try {
    if (CmsStringUtil.isEmpty(getParamAction()) || CmsDialog.DIALOG_INITIAL.equals(getParamAction())) {
      m_project=getCms().readProject(new Integer(getParamProjectid()).intValue());
    }
 else {
      o=getDialogObject();
      m_project=(CmsProject)o;
      m_project.getId();
    }
  }
 catch (  Exception e) {
    m_project=new CmsProject();
  }
  try {
    CmsUserSettings settings=new CmsUserSettings(getCms().getRequestContext().currentUser());
    m_project.setDeleteAfterPublishing(settings.getProjectSettings().isDeleteAfterPublishing());
  }
 catch (  Exception e) {
  }
  try {
    setManagerGroup(getCms().readManagerGroup(m_project).getName());
  }
 catch (  Exception e) {
  }
  try {
    setUserGroup(getCms().readGroup(m_project).getName());
  }
 catch (  Exception e) {
  }
  try {
    setResources(getCms().readProjectResources(m_project));
  }
 catch (  Exception e) {
  }
}
