{
  if (C_TYPE_PAGELINK.equals(getTreeType())) {
    if (!storedSiteRoot.equals(prefix)) {
      CmsSite site=CmsSiteManager.getSite(prefix);
      prefix=getCms().getRequestContext().removeSiteRoot(prefix);
      prefix=site.getUrl() + OpenCms.getSystemInfo().getOpenCmsContext() + prefix;
    }
 else {
      prefix="";
    }
  }
 else   if (C_TYPE_COPY.equals(getTreeType()) || C_TYPE_SIBLING.equals(getTreeType()) || C_TYPE_VFSWIDGET.equals(getTreeType())) {
    if (storedSiteRoot.equals(prefix)) {
      prefix="";
    }
  }
 else   if (C_TYPE_PREFERENCES.equals(getTreeType())) {
    prefix="";
  }
  return prefix;
}
