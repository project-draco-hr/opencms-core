{
  String template=FileUtils.readFileToString(new File(m_templatePath));
  List<CmsSite> sites=OpenCms.getSiteManager().getAvailableSites(getCms(),true);
  for (  CmsSite site : sites) {
    if (site.getSiteMatcher() != null) {
      getReport().println(Messages.get().container(Messages.RPT_CREATING_VHOST_FOR_SITE_1,site),I_CmsReport.FORMAT_OK);
      String filename=generateVhostFilename(site);
      File newFile=new File(filename);
      if (!newFile.exists()) {
        newFile.createNewFile();
      }
      String conf=template.replaceAll(SERVER_NAME_PLACE_HOLDER,site.getSiteMatcher().getServerName());
      FileUtils.writeStringToFile(newFile,conf);
    }
  }
}
