{
  if (OpenCms.getRunLevel() < OpenCms.RUNLEVEL_4_SERVLET_ACCESS) {
    return "";
  }
  String part=null;
  String partKey="";
  try {
    partKey=generateKey(target,element,layout,jsp.getRequestContext().getLocale(),jsp.getRequestContext().currentProject().getUuid());
    part=(String)m_parts.get(partKey);
    if (part == null) {
      part=jsp.getContent(target,element,jsp.getRequestContext().getLocale());
      if ((part != null) && !part.startsWith(CmsMessages.UNKNOWN_KEY_EXTENSION)) {
        addPart(partKey,part);
      }
 else {
        part="";
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug(Messages.get().getBundle().key(Messages.LOG_INCLUDE_PART_NOT_FOUND_1,partKey));
      }
    }
 else     if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().getBundle().key(Messages.LOG_INCLUDE_PART_FOUND_1,partKey));
    }
  }
 catch (  Throwable t) {
    part="";
    if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().getBundle().key(Messages.LOG_INCLUDE_PART_ERR_2,partKey,t));
    }
  }
  return part;
}
