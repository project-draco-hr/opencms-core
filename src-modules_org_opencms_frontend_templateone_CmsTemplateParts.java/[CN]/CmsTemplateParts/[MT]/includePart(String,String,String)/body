{
  String partKey=generateKey(target,element,layout);
  String part=null;
  try {
    part=(String)m_parts.get(partKey);
    if (part == null) {
      part=getJsp().getContent(target,element,getJsp().getRequestContext().getLocale());
      if (part != null && !part.startsWith(CmsMessages.UNKNOWN_KEY_EXTENSION)) {
        if (!partKey.equals(KEY_ILLEGAL)) {
          m_parts.put(partKey,part);
          OpenCms.setRuntimeProperty(RUNTIME_PROPERTY_NAME,this);
        }
      }
 else {
        part="";
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug(Messages.get().key(Messages.LOG_INCLUDE_PART_NOT_FOUND_1,partKey));
      }
    }
 else     if (LOG.isDebugEnabled()) {
      LOG.debug(Messages.get().key(Messages.LOG_INCLUDE_PART_FOUND_1,partKey));
    }
  }
 catch (  Throwable t) {
    if (LOG.isErrorEnabled()) {
      LOG.error(Messages.get().key(Messages.LOG_INCLUDE_PART_ERR_2,partKey,t));
    }
  }
  return part;
}
