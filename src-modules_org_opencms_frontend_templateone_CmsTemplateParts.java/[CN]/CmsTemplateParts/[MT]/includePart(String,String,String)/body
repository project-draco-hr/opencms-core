{
  String partKey=generateKey(target,element,layout);
  String part=(String)m_parts.get(partKey);
  if (part == null) {
    part=getJsp().getContent(target,element,getJsp().getRequestContext().getLocale());
    m_parts.setFast(false);
    m_parts.put(partKey,part);
    m_parts.setFast(true);
    if (OpenCms.getLog(CmsTemplateParts.class).isDebugEnabled()) {
      OpenCms.getLog(CmsTemplateParts.class).debug("Value for key \"" + partKey + "\" not found, including JSP");
    }
    OpenCms.setRuntimeProperty(C_RUNTIME_PROPERTY_NAME,this);
  }
 else   if (OpenCms.getLog(CmsTemplateParts.class).isDebugEnabled()) {
    OpenCms.getLog(CmsTemplateParts.class).debug("Retrieved value for key \"" + partKey + "\" from Map");
  }
  return part;
}
