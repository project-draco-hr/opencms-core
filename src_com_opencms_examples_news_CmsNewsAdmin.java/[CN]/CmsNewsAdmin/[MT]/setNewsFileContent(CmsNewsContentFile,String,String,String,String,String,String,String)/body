{
  newsFile.setNewsAuthor(author);
  if (date != null && !"".equals(date)) {
    newsFile.setNewsDate(date);
  }
  BufferedReader br=new BufferedReader(new StringReader(text));
  String lineStr=null;
  StringBuffer sb=new StringBuffer();
  Vector paragraphs=new Vector();
  try {
    while ((lineStr=br.readLine()) != null) {
      lineStr=lineStr.trim();
      if ("".equals(lineStr)) {
        paragraphs.addElement(sb.toString());
        sb=new StringBuffer();
      }
 else {
        sb.append(lineStr);
        sb.append(" ");
      }
    }
    paragraphs.addElement(sb.toString().trim());
  }
 catch (  Exception e) {
    throwException("Could not set content of news file " + newsFile.getAbsoluteFilename() + ". "+ e);
  }
  newsFile.setNewsHeadline(headline);
  newsFile.setNewsShortText(shorttext);
  newsFile.setNewsText(paragraphs);
  newsFile.setNewsExternalLink(extlink);
  newsFile.setNewsActive(C_NEWS_STATE_ACTIVE.equals(state));
  newsFile.write();
}
