{
  cms.createFolder(C_NEWS_FOLDER_PAGE,newsFileName);
  String fullFilename=C_NEWS_FOLDER_PAGE + newsFileName + "/index.html";
  CmsXmlControlFile pageFile=new CmsXmlControlFile();
  pageFile.createNewFile(cms,fullFilename,C_TYPE_NEWSPAGE_NAME);
  pageFile.setTemplateClass("com.opencms.template.CmsXmlTemplate");
  pageFile.setMasterTemplate(mastertemplate);
  pageFile.setElementClass(C_BODY_ELEMENT,"com.opencms.examples.news.CmsNewsTemplate");
  pageFile.setElementTemplate(C_BODY_ELEMENT,C_PATH_INTERNAL_TEMPLATES + "newsTemplate");
  pageFile.setElementParameter(C_BODY_ELEMENT,C_NEWS_PARAM_NEWSFOLDER,C_NEWS_FOLDER_CONTENT);
  pageFile.setElementParameter(C_BODY_ELEMENT,C_NEWS_PARAM_READ,newsFileName);
  pageFile.write();
  cms.chmod(fullFilename,C_ACCESS_DEFAULT_FLAGS);
  cms.unlockResource(fullFilename);
}
