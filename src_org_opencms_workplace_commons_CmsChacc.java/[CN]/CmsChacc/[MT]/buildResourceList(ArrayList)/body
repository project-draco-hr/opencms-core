{
  StringBuffer result=new StringBuffer(256);
  Iterator i=entries.iterator();
  boolean hasEntries=i.hasNext();
  if (hasEntries || !getInheritOption()) {
    result.append(dialogSubheadline(key("dialog.permission.headline.resource")));
  }
  result.append(buildInternalForm());
  if (hasEntries) {
    result.append(dialogSpacer());
    result.append(dialogWhiteBox(HTML_START));
    while (i.hasNext()) {
      CmsAccessControlEntry curEntry=(CmsAccessControlEntry)i.next();
      result.append(buildPermissionEntryForm(curEntry,this.getEditable(),false,null));
      if (i.hasNext()) {
        result.append(dialogSeparator());
      }
    }
    result.append(dialogWhiteBox(HTML_END));
  }
  return result;
}
