{
  String userName=getSettings().getUser().getName();
  if (m_typesLocalized[0] == null) {
    m_typesLocalized[0]=key("label.group");
    m_typesLocalized[1]=key("label.user");
  }
  setEditable(false);
  setInheritOption(false);
  try {
    setCurPermissions(getCms().getPermissions(getParamResource(),userName));
    CmsResource resource=getCms().readResource(getParamResource(),CmsResourceFilter.ALL);
    if (resource.isFolder()) {
      setInheritOption(true);
    }
  }
 catch (  CmsException e) {
    if (LOG.isInfoEnabled()) {
      LOG.info(e.getLocalizedMessage());
    }
  }
  if ((!getCms().getRequestContext().currentProject().isOnlineProject() && getCms().isInsideCurrentProject(getParamResource())) && (getCms().hasRole(CmsRole.VFS_MANAGER) || ((m_curPermissions.getAllowedPermissions() & CmsPermissionSet.PERMISSION_CONTROL) > 0 && !((m_curPermissions.getDeniedPermissions() & CmsPermissionSet.PERMISSION_CONTROL) > 0)))) {
    setEditable(true);
  }
}
