{
  Map parameters=new HashMap(m_parameters);
  List resources=new ArrayList(m_resources);
  String additionalResources;
  additionalResources=(String)parameters.get(I_CmsConstants.C_MODULE_PROPERTY_ADDITIONAL_RESOURCES);
  if (additionalResources != null) {
    StringTokenizer tok=new StringTokenizer(additionalResources,I_CmsConstants.C_MODULE_PROPERTY_ADDITIONAL_RESOURCES_SEPARATOR);
    while (tok.hasMoreTokens()) {
      String resource=tok.nextToken().trim();
      if ((!"-".equals(resource)) && (!resources.contains(resource))) {
        resources.add(resource);
      }
    }
  }
  Collections.sort(resources);
  StringBuffer buf=new StringBuffer(512);
  for (int i=0; i < resources.size(); i++) {
    String resource=(String)resources.get(i);
    buf.append(resource);
    if ((i + 1) < resources.size()) {
      buf.append(I_CmsConstants.C_MODULE_PROPERTY_ADDITIONAL_RESOURCES_SEPARATOR);
    }
  }
  parameters.put(I_CmsConstants.C_MODULE_PROPERTY_ADDITIONAL_RESOURCES,buf.toString());
  m_parameters=Collections.unmodifiableMap(parameters);
  m_resources=Collections.unmodifiableList(resources);
}
