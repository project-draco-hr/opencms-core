{
  String configFile="/decoration/configuration.xml";
  String inputTextEn1="CMS";
  String resultTextEn1="<abbr title=\"Concerned Member State\" lang=\"en\">CMS</abbr>";
  String resultTextEn2="BKK";
  String inputTextDe1="BKK";
  String resultTextDe1="<abbr title=\"Betriebskrankenkasse\" lang=\"de\">BKK</abbr>";
  String resultTextDe2="<abbr title=\"Content Management System\" lang=\"\">CMS</abbr>";
  System.out.println("Testing the OpenCms decorator configuration.");
  CmsDecoratorConfiguration configuration=new CmsDecoratorConfiguration(getCmsObject(),configFile);
  CmsHtmlDecorator decorator=new CmsHtmlDecorator(configuration);
  System.out.println("Testing english decoration in english bundle");
  String result=decorator.doDecoration(inputTextEn1,CmsEncoder.ENCODING_ISO_8859_1);
  System.out.println(inputTextEn1);
  System.out.println(result);
  assertEquals(resultTextEn1,result);
  System.out.println("");
  System.out.println("Testing german decoration in english bundle");
  result=decorator.doDecoration(inputTextDe1,CmsEncoder.ENCODING_ISO_8859_1);
  System.out.println(inputTextDe1);
  System.out.println(result);
  assertEquals(resultTextEn2,result);
  System.out.println("");
  configuration=new CmsDecoratorConfiguration(getCmsObject(),configFile,new Locale("de"));
  decorator=new CmsHtmlDecorator(configuration);
  System.out.println("Testing german decoration in german bundle");
  result=decorator.doDecoration(inputTextDe1,CmsEncoder.ENCODING_ISO_8859_1);
  System.out.println(inputTextDe1);
  System.out.println(result);
  assertEquals(resultTextDe1,result);
  System.out.println("");
  System.out.println("Testing neutral decoration in german bundle");
  result=decorator.doDecoration(inputTextEn1,CmsEncoder.ENCODING_ISO_8859_1);
  System.out.println(inputTextEn1);
  System.out.println(result);
  assertEquals(resultTextDe2,result);
  System.out.println("");
  configuration=new CmsDecoratorConfiguration(getCmsObject(),configFile,null);
  decorator=new CmsHtmlDecorator(configuration);
  System.out.println("Testing english decoration in neutral bundle");
  result=decorator.doDecoration(inputTextEn1,CmsEncoder.ENCODING_ISO_8859_1);
  System.out.println(inputTextEn1);
  System.out.println(result);
  assertEquals(resultTextEn1,result);
  System.out.println("");
  System.out.println("Testing german decoration in neutral bundle");
  result=decorator.doDecoration(inputTextDe1,CmsEncoder.ENCODING_ISO_8859_1);
  System.out.println(inputTextDe1);
  System.out.println(result);
  assertEquals(resultTextDe1,result);
  System.out.println("");
}
