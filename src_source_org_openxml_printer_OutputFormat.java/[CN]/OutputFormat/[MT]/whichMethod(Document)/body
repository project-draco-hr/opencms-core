{
  Node node;
  String value;
  int i;
  if (doc instanceof HTMLDocument)   return METHOD_HTML;
  node=doc.getFirstChild();
  while (node != null) {
    if (node.getNodeType() == Node.ELEMENT_NODE) {
      if (node.getNodeName().equalsIgnoreCase("html"))       return METHOD_HTML;
 else       return METHOD_XML;
    }
 else     if (node.getNodeType() == Node.TEXT_NODE) {
      value=node.getNodeValue();
      for (i=0; i < value.length(); ++i)       if (value.charAt(i) != 0x20 && value.charAt(i) != 0x0A && value.charAt(i) != 0x09 && value.charAt(i) != 0x0D)       return METHOD_XML;
    }
    node=node.getNextSibling();
  }
  return METHOD_XML;
}
