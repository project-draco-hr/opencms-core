{
  System.out.print("Importing ");
  System.out.print(destination + " ");
  boolean success=false;
  byte[] content=null;
  String fullname=null;
  try {
    String path=m_importPath + destination.substring(0,destination.lastIndexOf("/") + 1);
    String name=destination.substring((destination.lastIndexOf("/") + 1),destination.length());
    int state=C_STATE_NEW;
    if (source == null) {
      try {
        CmsFolder cmsfolder=m_cms.createFolder(path,name,properties);
        fullname=cmsfolder.getAbsolutePath();
        m_cms.lockResource(path + name + "/",true);
        success=true;
        state=C_STATE_NEW;
      }
 catch (      CmsException e) {
        state=C_STATE_CHANGED;
      }
    }
 else {
      try {
        m_cms.lockResource(path + name,true);
        m_cms.deleteFile(path + name);
        state=C_STATE_CHANGED;
      }
 catch (      CmsException exc) {
        state=C_STATE_NEW;
      }
      content=getFileBytes(source);
      fullname=m_cms.createFile(path,name,content,type,properties).getAbsolutePath();
      m_cms.lockResource(path + name,true);
      success=true;
    }
    if (fullname != null) {
      try {
        m_cms.chmod(fullname,Integer.parseInt(access));
      }
 catch (      CmsException exc) {
        System.out.print("chmod(" + access + ") failed ");
      }
      try {
        m_cms.chgrp(fullname,group);
      }
 catch (      CmsException exc) {
        System.out.print("chgrp(" + group + ") failed ");
      }
      try {
        m_cms.chown(fullname,user);
      }
 catch (      CmsException exc) {
        System.out.print("chown(" + user + ") failed ");
      }
      if (launcherStartClass != null) {
        CmsFile f=m_cms.readFile(fullname);
        f.setLauncherClassname(launcherStartClass);
        m_cms.writeFile(f);
      }
    }
    System.out.println("OK");
  }
 catch (  Exception exc) {
    success=false;
    System.out.println("Error");
  }
  byte[] digestContent={0};
  if (content != null) {
    digestContent=m_digest.digest(content);
  }
  if (success) {
    if (writtenFilenames != null) {
      writtenFilenames.addElement(fullname);
    }
    if (fileCodes != null) {
      fileCodes.addElement(new String(digestContent));
    }
  }
}
