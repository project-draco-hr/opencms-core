{
  String root=I_CmsConstants.C_DEFAULT_SITE + I_CmsConstants.C_ROOTNAME_VFS;
  for (int i=0; i < rules.length; i++) {
    String actRule=rules[i];
    actRule=CmsStringSubstitution.substitute(actRule,root,"");
    StringTokenizer ruleT=new StringTokenizer(actRule,"#");
    ruleT.nextToken();
    String search=ruleT.nextToken();
    search=search.substring(0,search.lastIndexOf("(.*)"));
    String replace=ruleT.nextToken();
    replace=replace.substring(0,replace.lastIndexOf("$1"));
    if (content.indexOf(replace) == -1 && content.indexOf(search) != -1) {
      search="([}>\"'\\[]\\s*)" + search;
      replace="$1" + replace;
      content=CmsStringSubstitution.substitute(content,search,replace);
    }
  }
  return content;
}
