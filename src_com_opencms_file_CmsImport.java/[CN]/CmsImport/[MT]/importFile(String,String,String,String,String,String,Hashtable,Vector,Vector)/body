{
  System.out.print("Importing ");
  System.out.print(source + ", ");
  System.out.print(destination + ", ");
  System.out.print(type + ", ");
  System.out.print(user + ", ");
  System.out.print(group + ", ");
  System.out.print(access + "... ");
  boolean success=false;
  byte[] content=null;
  String fullname=null;
  try {
    String path=m_importPath + destination.substring(0,destination.lastIndexOf("/") + 1);
    String name=destination.substring((destination.lastIndexOf("/") + 1),destination.length());
    int state=C_STATE_NEW;
    if (source == null) {
      try {
        CmsFolder cmsfolder=m_cms.createFolder(path,name,properties);
        fullname=cmsfolder.getAbsolutePath();
        success=true;
        state=C_STATE_NEW;
      }
 catch (      CmsException e) {
        state=C_STATE_CHANGED;
      }
    }
 else {
      try {
        m_cms.lockResource(path + name,true);
        m_cms.deleteFile(path + name);
        state=C_STATE_CHANGED;
      }
 catch (      CmsException exc) {
        state=C_STATE_NEW;
      }
      content=getFileBytes(source);
      fullname=m_cms.createFile(path,name,content,type,properties).getAbsolutePath();
      success=true;
    }
    if (fullname != null) {
      m_cms.chmod(fullname,Integer.parseInt(access));
      m_cms.chgrp(fullname,group);
      m_cms.chown(fullname,user);
      int kernelstate=m_cms.readFileHeader(fullname).getState();
      if ((state != kernelstate) && A_OpenCms.isLogging()) {
        A_OpenCms.log(I_CmsLogChannels.C_OPENCMS_DEBUG,"CmsImport: different statuses, kernel sais " + kernelstate + " import sais "+ state);
      }
      m_cms.chstate(fullname,state);
    }
    System.out.println("OK");
  }
 catch (  Exception exc) {
    success=false;
    System.out.println("Error");
    exc.printStackTrace();
  }
  byte[] digestContent={0};
  if (content != null) {
    digestContent=m_digest.digest(content);
  }
  if (success) {
    if (writtenFilenames != null) {
      writtenFilenames.addElement(fullname);
    }
    if (fileCodes != null) {
      fileCodes.addElement(new String(digestContent));
    }
  }
}
