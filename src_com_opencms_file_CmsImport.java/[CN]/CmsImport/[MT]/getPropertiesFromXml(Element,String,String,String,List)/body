{
  Vector types=new Vector();
  NodeList propertyNodes=currentElement.getElementsByTagName(C_EXPORT_TAG_PROPERTY);
  HashMap properties=new HashMap();
  int resType=m_cms.getResourceTypeId(type);
  if (propertyName != null && propertyValue != null && !"".equals(propertyName)) {
    if (!types.contains(type)) {
      types.addElement(type);
      createPropertydefinition(propertyName,resType);
    }
    properties.put(propertyName,propertyValue);
  }
  for (int j=0; j < propertyNodes.getLength(); j++) {
    Element currentProperty=(Element)propertyNodes.item(j);
    String name=getTextNodeValue(currentProperty,C_EXPORT_TAG_NAME);
    if ((name != null) && (!deleteProperties.contains(name))) {
      String value=getTextNodeValue(currentProperty,C_EXPORT_TAG_VALUE);
      if (value == null) {
        value="";
      }
      properties.put(name,value);
      createPropertydefinition(name,resType);
    }
  }
  return properties;
}
