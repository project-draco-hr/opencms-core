{
  JSONArray result=new JSONArray();
  if (types == null) {
    return result;
  }
  Iterator<I_CmsResourceType> it=types.iterator();
  while (it.hasNext()) {
    I_CmsResourceType type=it.next();
    JSONObject jType=new JSONObject();
    jType.put(JsonKeys.TITLE.getName(),type.getTypeName());
    jType.put(JsonKeys.TYPEID.getName(),type.getTypeId());
    JSONArray galleryIds=new JSONArray();
    Iterator<I_CmsResourceType> galleryTypes=type.getGalleryTypes().iterator();
    while (galleryTypes.hasNext()) {
      I_CmsResourceType galleryType=galleryTypes.next();
      galleryIds.put(galleryType.getTypeId());
    }
    jType.put(JsonKeys.GALLERYTYPEID.getName(),galleryIds);
    result.put(jType);
  }
  return result;
}
