{
  JSONObject result=new JSONObject();
  result.put(ResponseKey.types.toString(),buildJSONForTypes(getResourceTypes()));
  result.put(ResponseKey.typeids.toString(),getResourceTypeIds());
  Map<String,CmsGalleryTypeInfo> galleryTypes=readGalleryTypes(getResourceTypes());
  result.put(ResponseKey.galleries.toString(),buildJSONForGalleries(galleryTypes));
  List<CmsResource> galleryFolders=new ArrayList<CmsResource>();
  Iterator<Entry<String,CmsGalleryTypeInfo>> iGalleryTypes=galleryTypes.entrySet().iterator();
  while (iGalleryTypes.hasNext()) {
    galleryFolders.addAll(iGalleryTypes.next().getValue().getGalleries());
  }
  result.put(ResponseKey.categories.toString(),buildJSONForCategories(readCategories(galleryFolders)));
  result.put(ResponseKey.locale.toString(),getCmsObject().getRequestContext().getLocale());
  result.put(ResponseKey.locales.toString(),buildJSONForLocales());
  return result;
}
