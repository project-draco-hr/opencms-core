{
  JSONObject result=new JSONObject();
  result.put(JsonKeys.TYPES.getName(),buildJSONForTypes(getResourceTypes()));
  result.put(JsonKeys.TYPEIDS.getName(),getResourceTypeIds());
  Map<String,CmsGalleryTypeInfo> galleryTypes=readGalleryTypes(getResourceTypes());
  result.put(JsonKeys.GALLERIES.getName(),buildJSONForGalleries(galleryTypes));
  List<CmsResource> galleryFolders=new ArrayList<CmsResource>();
  Iterator<Entry<String,CmsGalleryTypeInfo>> iGalleryTypes=galleryTypes.entrySet().iterator();
  while (iGalleryTypes.hasNext()) {
    galleryFolders.addAll(iGalleryTypes.next().getValue().getGalleries());
  }
  result.put(JsonKeys.CATEGORIES.getName(),buildJSONForCategories(readCategories(galleryFolders)));
  return result;
}
