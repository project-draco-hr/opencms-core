{
  JSONObject result=new JSONObject();
  if (query == null) {
    return result;
  }
  CmsSearch searchBean=new CmsSearch();
  searchBean.init(m_cms);
  searchBean.setParameters(prepareSearchParams(query));
  List<CmsSearchResult> searchResults=searchBean.getSearchResult();
  result.put("sortorder",searchBean.getSortOrder());
  result.put("resultcount",searchBean.getSearchResultCount());
  result.put("resultpage",searchBean.getSearchPage());
  result.put("resultlist",buildJSONForSearchResult(searchResults));
  return result;
}
