{
  JSONObject result=new JSONObject();
  CmsObject cms=getCmsObject();
  CmsRequestContext context=cms.getRequestContext();
  boolean switchSites=false;
  String currentSiteRoot=context.getSiteRoot();
  if (CmsStringUtil.isNotEmptyOrWhitespaceOnly(siteRoot) && !currentSiteRoot.equals(siteRoot)) {
    switchSites=true;
    context.setSiteRoot(siteRoot);
  }
  try {
    CmsResource siteRootFolder=cms.readResource("/");
    result.put(VfsTreeKey.siteRoot.name(),context.getSiteRoot());
    result.put(VfsTreeKey.rootFolder.name(),buildJSONForVfsTreeEntry(siteRootFolder));
  }
  finally {
    if (switchSites) {
      context.setSiteRoot(currentSiteRoot);
    }
  }
  return result;
}
