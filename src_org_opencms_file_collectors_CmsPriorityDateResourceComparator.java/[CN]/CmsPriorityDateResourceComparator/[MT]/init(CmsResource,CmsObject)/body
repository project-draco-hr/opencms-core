{
  Map properties=null;
  try {
    properties=CmsProperty.toMap(cms.readPropertyObjects(cms.getRequestContext().removeSiteRoot(resource.getRootPath()),false));
  }
 catch (  CmsException e) {
    m_priority=0;
    m_date=0;
    return;
  }
  try {
    m_priority=Integer.parseInt((String)properties.get(CmsPriorityResourceCollector.C_PROPERTY_PRIORITY));
  }
 catch (  NumberFormatException e) {
    m_priority=CmsPriorityResourceCollector.C_PRIORITY_STANDARD;
  }
  try {
    m_date=Long.parseLong((String)properties.get(C_PROPERTY_DATE));
  }
 catch (  NumberFormatException e) {
    m_date=0;
  }
}
