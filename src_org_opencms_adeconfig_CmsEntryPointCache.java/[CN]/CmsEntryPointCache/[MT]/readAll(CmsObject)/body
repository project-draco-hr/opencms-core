{
  if (m_online != paramCms.getRequestContext().getCurrentProject().isOnlineProject()) {
    throw new IllegalArgumentException();
  }
  Map<String,EntryPointFolder> entryPoints=new HashMap<String,EntryPointFolder>();
  CmsObject cms=initCmsObject(paramCms);
  Set<CmsResource> entryPointSet=new HashSet<CmsResource>();
  List<CmsResource> entryPointResources=readEntryPointResources(cms);
  entryPointSet.addAll(entryPointResources);
  List<CmsResource> siteEntryPoints=readSiteEntryPoints(cms);
  entryPointSet.addAll(siteEntryPoints);
  for (  CmsResource res : entryPointSet) {
    EntryPointFolder entry=createEntry(cms,res);
    if (entry.isEntryPoint()) {
      entryPoints.put(res.getRootPath(),entry);
    }
  }
  return entryPoints;
}
