{
  org.opencms.ade.containerpage.client.ui.CmsContainerPageContainer dragParent=(org.opencms.ade.containerpage.client.ui.CmsContainerPageContainer)dragElement.getParentTarget();
  String containerId=dragParent.getContainerId();
  String elementContent=elementData.getContents().get(containerId);
  if ((elementContent != null) && (elementContent.trim().length() > 0)) {
    org.opencms.ade.containerpage.client.ui.CmsContainerPageElement replacer=getContainerpageUtil().createElement(elementData,dragParent);
    if (dragElement.isNew()) {
      String id=dragElement.getId();
      if (id.contains("#")) {
        id=id.substring(0,id.indexOf("#"));
      }
      if (elementData.getClientId().startsWith(id)) {
        replacer.setNewType(dragElement.getNewType());
      }
    }
    dragParent.insert(replacer,dragParent.getWidgetIndex(dragElement));
    dragElement.removeFromParent();
  }
}
