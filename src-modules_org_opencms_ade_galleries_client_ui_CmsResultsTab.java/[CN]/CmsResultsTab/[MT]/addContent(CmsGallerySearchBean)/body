{
  List<CmsResultItemBean> list=searchObj.getResults();
  if (list == null) {
    return;
  }
  for (  CmsResultItemBean resultItem : list) {
    m_types.add(resultItem.getType());
    CmsResultListItem listItem=new CmsResultListItem(resultItem,m_dndHandler);
    listItem.addPreviewClickHandler(new PreviewHandler(resultItem.getPath(),resultItem.getType()));
    listItem.addDeleteClickHandler(new DeleteHandler(resultItem.getPath()));
    if (m_tabHandler.hasSelectResource()) {
      listItem.addSelectClickHandler(new SelectHandler(resultItem.getPath(),resultItem.getTitle(),resultItem.getType()));
    }
    addWidgetToList(listItem);
  }
  String selectValue=m_sortSelectBox.getFormValueAsString();
  if (m_types.size() == 1) {
    getList().addStyleName(I_CmsLayoutBundle.INSTANCE.galleryResultItemCss().tilingList());
    if (SortParams.valueOf(selectValue) == SortParams.title_asc) {
      m_sortSelectBox.setItems(getSortList(false));
    }
  }
 else {
    getList().removeStyleName(I_CmsLayoutBundle.INSTANCE.galleryResultItemCss().tilingList());
    if (SortParams.valueOf(selectValue) == SortParams.title_asc) {
      m_sortSelectBox.setItems(getSortList(true));
    }
  }
}
