{
  m_context=context;
  CmsObject cms=context.getCms();
  CmsVaadinUtils.readAndLocalizeDesign(this,OpenCms.getWorkplaceManager().getMessages(A_CmsUI.get().getLocale()),null);
  m_resource=m_context.getResources().get(0);
  initComboBox(m_exportField);
  initComboBox(m_secureField);
  m_linkField.setValue(OpenCms.getLinkManager().getOnlineLink(cms,cms.getSitePath(m_resource)));
  loadData();
  CmsSite site=OpenCms.getSiteManager().getCurrentSite(context.getCms());
  if ((site != null) && !site.hasSecureServer()) {
    m_secureField.setEnabled(false);
  }
  m_cancelButton.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      m_context.onFinish(null);
    }
  }
);
  m_okButton.addClickListener(new ClickListener(){
    private static final long serialVersionUID=1L;
    public void buttonClick(    ClickEvent event){
      try {
        saveData();
        m_context.onFinish(null);
      }
 catch (      Exception e) {
        m_context.onError(e);
      }
    }
  }
);
}
