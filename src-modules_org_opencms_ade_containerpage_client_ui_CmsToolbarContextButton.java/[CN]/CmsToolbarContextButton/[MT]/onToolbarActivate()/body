{
  if (!m_initialized) {
    Command cmd=new Command(){
      public void execute(){
        Window.alert("Menu item have been selected");
      }
    }
;
    CmsContextMenu relations=new CmsContextMenu(true);
    relations.addItem("Link relation to ...",cmd);
    relations.addItem("Link relation from ...",cmd);
    relations.addSeparator();
    relations.addItem("Asign Categories",cmd);
    CmsContextMenu test=new CmsContextMenu(true);
    test.addItem("Touch",cmd);
    test.addItem("Availability",cmd);
    test.addSeparator();
    test.addItem("Secure/Export",cmd);
    test.addItem("Change type",cmd);
    test.addSeparator();
    test.addItem("Restore deleted",cmd);
    CmsContextMenu advanced=new CmsContextMenu(true);
    advanced.addItem("test",test);
    advanced.addSeparator();
    advanced.addItem("Touch",cmd);
    advanced.addItem("Availability",cmd);
    advanced.addSeparator();
    advanced.addItem("Secure/Export",cmd);
    advanced.addItem("Change type",cmd);
    advanced.addSeparator();
    advanced.addItem("Restore deleted",cmd);
    CmsContextMenu menu=new CmsContextMenu(true);
    menu.addItem("Lock",cmd);
    menu.addItem("Locked resources",cmd);
    menu.addSeparator();
    menu.addItem("Publish directly",cmd);
    menu.addSeparator();
    menu.addItem("Edit Metadata",cmd);
    menu.addSeparator();
    menu.addItem("Copy",cmd);
    menu.addItem("Rename/Move",cmd);
    menu.addItem("Delete",cmd);
    menu.addItem("Undo changes",cmd);
    menu.addSeparator();
    menu.addItem("Relations",relations);
    menu.addSeparator();
    menu.addItem("Permissions",cmd);
    menu.addItem("Change navigation",cmd);
    menu.addSeparator();
    menu.addItem("Advanced",advanced);
    menu.addSeparator();
    menu.addItem("History",cmd);
    menu.addItem("Properties",cmd);
    getPopupContent().addCloseHandler(new CmsContextMenuHandler(menu));
    Element e=getPopupContent().getWidget().getElement();
    DOM.removeElementAttribute(e,"style");
    m_menuPanel.getElement().addClassName(I_CmsLayoutBundle.INSTANCE.contextmenuCss().menuPanel());
    m_menuPanel.setWidget(0,0,menu);
    m_initialized=true;
  }
}
