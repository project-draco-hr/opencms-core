{
  Map<String,CmsComputedPropertyValue> result=new HashMap<String,CmsComputedPropertyValue>();
  Set<String> keys=new HashSet<String>();
  keys.addAll(parent.keySet());
  keys.addAll(child.keySet());
  for (  String propName : keys) {
    CmsComputedPropertyValue childProp=child.get(propName);
    if (shouldInherit(propName)) {
      CmsComputedPropertyValue parentValue=parent.get(propName);
      CmsComputedPropertyValue combinedValue=combineParentAndChildValues(parentValue,childProp);
      if (combinedValue != null) {
        result.put(propName,combinedValue);
      }
    }
 else {
      if (childProp != null) {
        result.put(propName,childProp);
      }
    }
  }
  return result;
}
