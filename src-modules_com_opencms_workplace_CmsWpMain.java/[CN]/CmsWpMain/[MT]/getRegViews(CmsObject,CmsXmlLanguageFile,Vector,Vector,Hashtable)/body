{
  CmsRequestContext reqCont=cms.getRequestContext();
  I_CmsSession session=CmsXmlTemplateLoader.getSession(cms.getRequestContext(),true);
  String currentView=null;
  Hashtable startSettings=null;
  startSettings=(Hashtable)reqCont.currentUser().getAdditionalInfo(CmsUserSettings.ADDITIONAL_INFO_STARTSETTINGS);
  if (startSettings != null) {
    currentView=(String)startSettings.get(com.opencms.core.I_CmsConstants.C_START_VIEW);
  }
  if (session != null) {
    if (session.getValue(CmsWorkplaceDefault.C_PARA_VIEW) != null) {
      currentView=(String)session.getValue(CmsWorkplaceDefault.C_PARA_VIEW);
    }
  }
  if (currentView == null) {
    currentView="";
  }
  Vector viewNames=new Vector();
  Vector viewLinks=new Vector();
  int currentViewIndex=0;
  return new Integer(currentViewIndex);
}
