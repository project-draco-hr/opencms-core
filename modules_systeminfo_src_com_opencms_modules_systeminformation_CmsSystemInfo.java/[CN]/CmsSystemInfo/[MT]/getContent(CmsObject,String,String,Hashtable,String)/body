{
  CmsXmlWpTemplateFile xmlTemplateDocument=new CmsXmlWpTemplateFile(cms,templateFile);
  HttpServletRequest req=(HttpServletRequest)cms.getRequestContext().getRequest().getOriginalRequest();
  I_CmsSession session=cms.getRequestContext().getSession(false);
  xmlTemplateDocument.setData("version",C_VERSION);
  xmlTemplateDocument.setData("avilmem",getMem(1));
  xmlTemplateDocument.setData("freemem",getMem(2));
  xmlTemplateDocument.setData("usedmem",getMem(3));
  if (session != null) {
    String[] valueNames=session.getValueNames();
    String sessionvalues="";
    for (int i=0; i < valueNames.length; i++) {
      xmlTemplateDocument.setData("key",valueNames[i]);
      xmlTemplateDocument.setData("value",formatOutput(session.getValue(valueNames[i]).toString()));
      sessionvalues=sessionvalues + xmlTemplateDocument.getProcessedDataValue("row");
    }
    xmlTemplateDocument.setData("session",sessionvalues);
  }
 else {
    xmlTemplateDocument.setData("session","");
  }
  Hashtable cacheinfo=cms.getCacheInfo();
  Enumeration keys=cacheinfo.keys();
  String cachevalues="";
  while (keys.hasMoreElements()) {
    String key=(String)keys.nextElement();
    xmlTemplateDocument.setData("key",key);
    xmlTemplateDocument.setData("value",cacheinfo.get(key).toString());
    cachevalues=cachevalues + xmlTemplateDocument.getProcessedDataValue("row");
  }
  xmlTemplateDocument.setData("cache",cachevalues);
  xmlTemplateDocument.setData("server",req.getServerName() + ":" + req.getServerPort());
  xmlTemplateDocument.setData("servlet",req.getServletPath());
  return startProcessing(cms,xmlTemplateDocument,"",parameters,templateSelector);
}
