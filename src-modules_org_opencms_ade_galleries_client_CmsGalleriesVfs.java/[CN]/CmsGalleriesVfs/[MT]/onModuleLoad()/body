{
  super.onModuleLoad();
  final CmsTabbedPanel tabbedPanel=new CmsTabbedPanel();
  final CmsGallerySearchObject searchObj=new CmsGallerySearchObject();
  ArrayList<String> galleries=new ArrayList<String>();
  if (CmsStringUtil.isEmptyOrWhitespaceOnly(CmsGalleryProvider.get().getGalleryPath())) {
    galleries.add(CmsGalleryProvider.get().getGalleryPath());
  }
  searchObj.setGalleries(galleries);
  searchObj.setSortOrder("");
  searchObj.setTabId(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_results.name());
  searchObj.setMachesPerPage(8);
  String[] tabs=CmsStringUtil.splitAsArray(CmsGalleryProvider.get().getTabs(),",");
  final ArrayList<String> tabsConfig=new ArrayList<String>();
  for (int i=0; tabs.length > i; i++) {
    tabsConfig.add(tabs[i]);
  }
  CmsRpcAction<CmsGalleryInfoBean> getInitialAction=new CmsRpcAction<CmsGalleryInfoBean>(){
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
    @Override public void execute(){
      getGalleryService().getInitialSettings(tabsConfig,searchObj,this);
    }
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
    @Override public void onResponse(    CmsGalleryInfoBean infoBean){
      ArrayList<String> tabs=infoBean.getDialogInfo().getTabs();
      if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_types.name())) {
        CmsList galleriesList=new CmsList();
        List<CmsListInfoBean> list=infoBean.getDialogInfo().getTypes();
        for (        CmsListInfoBean item : list) {
          CmsListItemWidget typesItem=new CmsListItemWidget(item);
          galleriesList.addItem(new CmsListItem(typesItem));
        }
        tabbedPanel.add(galleriesList,Messages.get().key(Messages.GUI_TAB_TITLE_TYPES_0));
      }
      if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_galleries.name())) {
        CmsList galleriesList=new CmsList();
        List<CmsListInfoBean> list=infoBean.getDialogInfo().getGalleries();
        for (        CmsListInfoBean item : list) {
          CmsListItemWidget galleryItem=new CmsListItemWidget(item);
          galleriesList.addItem(new CmsListItem(galleryItem));
        }
        tabbedPanel.add(galleriesList,Messages.get().key(Messages.GUI_TAB_TITLE_GALLERIES_0));
      }
      if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_categories.name())) {
        CmsList categoriesList=new CmsList();
        List<CmsListInfoBean> list=infoBean.getDialogInfo().getCategories();
        for (        CmsListInfoBean item : list) {
          CmsListItemWidget categoryItem=new CmsListItemWidget(item);
          categoriesList.addItem(new CmsListItem(categoryItem));
        }
        tabbedPanel.add(categoriesList,Messages.get().key(Messages.GUI_TAB_TITLE_CATEGORIES_0));
      }
      if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_search.name())) {
        tabbedPanel.add(new Label("Hallo"),Messages.get().key(Messages.GUI_TAB_TITLE_SEARCH_0));
      }
      if (tabs.contains(I_CmsGalleryProviderConstants.GalleryTabId.cms_tab_sitemap.name())) {
      }
      if (!infoBean.getSearchObject().getResults().isEmpty()) {
        CmsList resultList=new CmsList();
        List<CmsListInfoBean> list=infoBean.getSearchObject().getResults();
        for (        CmsListInfoBean item : list) {
          CmsListItemWidget resultItem=new CmsListItemWidget(item);
          resultList.addItem(new CmsListItem(resultItem));
        }
        tabbedPanel.insert(resultList,Messages.get().key(Messages.GUI_TAB_TITLE_RESULTS_0),0);
      }
      RootPanel.get().add(tabbedPanel);
    }
  }
;
  getInitialAction.execute();
  CmsRpcAction<CmsGalleryInfoBean> getTabsAction=new CmsRpcAction<CmsGalleryInfoBean>(){
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#execute()
 */
    @Override public void execute(){
      getGalleryService().getCriteriaLists(tabsConfig,this);
    }
    /** 
 * @see org.opencms.gwt.client.rpc.CmsRpcAction#onResponse(java.lang.Object)
 */
    @Override public void onResponse(    CmsGalleryInfoBean infoBean){
      ArrayList<String> tabs=infoBean.getDialogInfo().getTabs();
      if (tabs.contains("cms_tabs_galleries")) {
        CmsList galleriesList=new CmsList();
        List<CmsListInfoBean> list=infoBean.getDialogInfo().getGalleries();
        for (        CmsListInfoBean item : list) {
          CmsListItemWidget galleryItem=new CmsListItemWidget(item);
          galleriesList.addItem(new CmsListItem(galleryItem));
        }
        tabbedPanel.add(galleriesList,"Galleries");
      }
      if (tabs.contains("cms_tabs_categories")) {
        CmsList categoriesList=new CmsList();
        List<CmsListInfoBean> list=infoBean.getDialogInfo().getCategories();
        for (        CmsListInfoBean item : list) {
          CmsListItemWidget categoryItem=new CmsListItemWidget(item);
          categoriesList.addItem(new CmsListItem(categoryItem));
        }
        tabbedPanel.add(categoriesList,"Categories");
      }
      if (tabs.contains("cms_tabs_query")) {
        tabbedPanel.add(new Label("Hallo"),"Search Query");
      }
      if (tabs.contains("cms_tabs_sitemap")) {
      }
      RootPanel.get().add(tabbedPanel);
    }
  }
;
}
