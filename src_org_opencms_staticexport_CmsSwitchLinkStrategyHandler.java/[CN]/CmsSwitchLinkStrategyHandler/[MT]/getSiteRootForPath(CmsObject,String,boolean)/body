{
  if (path.startsWith(CmsWorkplace.VFS_PATH_SYSTEM)) {
    return null;
  }
  if (!(cms.getRequestContext().getSiteRoot().equals("") || cms.getRequestContext().getSiteRoot().equals("/"))) {
    return cms.getRequestContext().getSiteRoot();
  }
  String siteRoot=OpenCms.getSiteManager().getSiteRoot(path);
  if (((isRfsPath && (CmsStringUtil.isEmptyOrWhitespaceOnly(siteRoot) || siteRoot.equals("/"))))) {
    String folderName=null;
    for (    Map.Entry<String,String> exportNameRes : OpenCms.getStaticExportManager().getExportnames().entrySet()) {
      if (path.startsWith(exportNameRes.getKey())) {
        folderName=exportNameRes.getValue();
        break;
      }
    }
    if (folderName != null) {
      siteRoot=OpenCms.getSiteManager().getSiteRoot(folderName);
    }
  }
  return siteRoot;
}
